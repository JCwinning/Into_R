[
  {
    "objectID": "Publish/git/git.html",
    "href": "Publish/git/git.html",
    "title": "Git",
    "section": "",
    "text": "create or open R project(xxxxx.Rproj) in Rstudio\nenable github connection: \n\n\ncommit change and push to github\n\n\n\nReference:\nhttps://www.youtube.com/watch?v=PihKq1GPlcc\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Git",
      "Git"
    ]
  },
  {
    "objectID": "Publish/quarto/6 quarto parameters.html",
    "href": "Publish/quarto/6 quarto parameters.html",
    "title": "quarto parameters",
    "section": "",
    "text": "Code\nlibrary(quarto)\nquarto_render(\"_parameters in R.qmd\"\n,output_file='R.html'\n,execute_params = list(name='new me',key=9999))",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto parameters"
    ]
  },
  {
    "objectID": "Publish/quarto/6 quarto parameters.html#render-qmd-file-with-parameters-input",
    "href": "Publish/quarto/6 quarto parameters.html#render-qmd-file-with-parameters-input",
    "title": "quarto parameters",
    "section": "",
    "text": "Code\nlibrary(quarto)\nquarto_render(\"_parameters in R.qmd\"\n,output_file='R.html'\n,execute_params = list(name='new me',key=9999))",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto parameters"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html",
    "href": "Publish/quarto/1 quarto intro.html",
    "title": "quarto introduction",
    "section": "",
    "text": "https://quarto.org/docs/get-started/\n\n\n\n\n\nCode\ninstall.packages(\"quarto\")",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#install-quarto-cli",
    "href": "Publish/quarto/1 quarto intro.html#install-quarto-cli",
    "title": "quarto introduction",
    "section": "",
    "text": "https://quarto.org/docs/get-started/",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#install-quarto-package",
    "href": "Publish/quarto/1 quarto intro.html#install-quarto-package",
    "title": "quarto introduction",
    "section": "",
    "text": "Code\ninstall.packages(\"quarto\")",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#in-terminal",
    "href": "Publish/quarto/1 quarto intro.html#in-terminal",
    "title": "quarto introduction",
    "section": "in Terminal",
    "text": "in Terminal\n\n\n\nCode\n\nTerminal\n\nquarto check",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#in-r",
    "href": "Publish/quarto/1 quarto intro.html#in-r",
    "title": "quarto introduction",
    "section": "in R",
    "text": "in R\n\n\nCode\nlibrary(quarto)\nquarto_version()\n\n\n[1] '1.8.25'\n\n\nquarto location\n\n\nCode\nquarto_path()\n\n\n[1] \"/usr/local/bin/quarto\"",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#r",
    "href": "Publish/quarto/1 quarto intro.html#r",
    "title": "quarto introduction",
    "section": "R",
    "text": "R\n```{R}\nversion\n```",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#python",
    "href": "Publish/quarto/1 quarto intro.html#python",
    "title": "quarto introduction",
    "section": "Python",
    "text": "Python\n```{python}\nimport sys\nprint(sys.version)\n```",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#bash",
    "href": "Publish/quarto/1 quarto intro.html#bash",
    "title": "quarto introduction",
    "section": "Bash",
    "text": "Bash\n```{bash}\necho \"foo\" \n```",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#in-yaml-header",
    "href": "Publish/quarto/1 quarto intro.html#in-yaml-header",
    "title": "quarto introduction",
    "section": "in YAML header",
    "text": "in YAML header\n---\ntitle: \"My Document\"\nexecute:\n  echo: false\njupyter: python3\n---\n\neval: Evaluate the code chunk (if false, just echos the code into the output).\necho: Include the source code in output.\noutput: Include the results of executing the code in the output (true, false, or asis to indicate that the output is raw markdown and should not have any of Quarto’s standard enclosing markdown).\nwarning: Include warnings in the output.\nerror: Evaluate the code chunk (if false, just echos the code into the output).\ninclude: Catch all for preventing any output (code or results) from being included (e.g. include: false suppresses all output from the code block).",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#in-code-chunk",
    "href": "Publish/quarto/1 quarto intro.html#in-code-chunk",
    "title": "quarto introduction",
    "section": "in code chunk",
    "text": "in code chunk\n\n\nCode\n #| eval: false",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#link",
    "href": "Publish/quarto/1 quarto intro.html#link",
    "title": "quarto introduction",
    "section": "link",
    "text": "link\n[link](www.rstudio.com)\nlink",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#tab",
    "href": "Publish/quarto/1 quarto intro.html#tab",
    "title": "quarto introduction",
    "section": "tab",
    "text": "tab\n::: {.panel-tabset}\n\n## Tab 1\n\nThis is tab 1\n\n\n## Tab 2\n\nThis is tab 2\n\n:::\n\nTab 1Tab 2\n\n\nThis is tab 1\n\n\nThis is tab 2",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#column-display",
    "href": "Publish/quarto/1 quarto intro.html#column-display",
    "title": "quarto introduction",
    "section": "column display",
    "text": "column display\n\n\nCode\n::: columns\n::: {.column width=\"40%\"}\nthis column with 40% width\n::: \n\n::: {.column width=\"60%\"}\nthis column with 60% width\n::: \n\n::: \n\n\n\n\nthis column with 40% width\n\nthis column with 60% width",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#step-1.-add-foldablecodeblock.lua-into-blog-root-folder",
    "href": "Publish/quarto/1 quarto intro.html#step-1.-add-foldablecodeblock.lua-into-blog-root-folder",
    "title": "quarto introduction",
    "section": "step 1. add foldableCodeBlock.lua into blog root folder",
    "text": "step 1. add foldableCodeBlock.lua into blog root folder\n\n\n\nCode\n\nfoldableCodeBlcok.lua\n\nfunction CodeBlock(elem)\n  if elem.classes and elem.classes:find(\"details\") then\n    local summary = \"Code\"\n    if elem.attributes.summary then\n      summary = elem.attributes.summary\n    end\n    return{\n      pandoc.RawBlock(\n        \"html\", \"&lt;details&gt;&lt;summary&gt;\" .. summary .. \"&lt;/summary&gt;\"\n      ),\n      elem,\n      pandoc.RawBlock(\"html\", \"&lt;/details&gt;\")\n    }\n  end\nend",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#step-2.-add-following-line-in-_quarto.yml",
    "href": "Publish/quarto/1 quarto intro.html#step-2.-add-following-line-in-_quarto.yml",
    "title": "quarto introduction",
    "section": "step 2. add following line in _quarto.yml",
    "text": "step 2. add following line in _quarto.yml\n\n\n\nCode\n\n_quarto.yml\n\nwebsite:\n  title: \"quarto blog\"\n\nfilters:\n  - foldableCodeBlcok.lua",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#step-3.-put-following-on-code-chunk",
    "href": "Publish/quarto/1 quarto intro.html#step-3.-put-following-on-code-chunk",
    "title": "quarto introduction",
    "section": "step 3. put following on code chunk:",
    "text": "step 3. put following on code chunk:\n{r, attr.output='.details summary=\"sessionInfo()\"'}\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.5.1 (2025-06-13)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Tahoe 26.0.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] quarto_1.4.4      reticulate_1.43.0\n\nloaded via a namespace (and not attached):\n [1] digest_0.6.37     later_1.4.2       fastmap_1.2.0     xfun_0.52        \n [5] Matrix_1.7-3      lattice_0.22-7    knitr_1.50        htmltools_0.5.8.1\n [9] png_0.1-8         rmarkdown_2.29    ps_1.9.1          cli_3.6.5        \n[13] processx_3.8.6    grid_4.5.1        compiler_4.5.1    rstudioapi_0.17.1\n[17] tools_4.5.1       evaluate_1.0.4    Rcpp_1.1.0        yaml_2.3.10      \n[21] rlang_1.1.6       jsonlite_2.0.0    htmlwidgets_1.6.4",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#embed-youtube",
    "href": "Publish/quarto/1 quarto intro.html#embed-youtube",
    "title": "quarto introduction",
    "section": "embed youtube",
    "text": "embed youtube\n\n\nCode\n&lt;iframe width=\"640\" height=\"480\" src=\"https://www.youtube.com/embed/nku5zFMZAdU\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen&gt;\n&lt;/iframe&gt;",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#embed-bilibili",
    "href": "Publish/quarto/1 quarto intro.html#embed-bilibili",
    "title": "quarto introduction",
    "section": "embed bilibili",
    "text": "embed bilibili",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#embed-local-video",
    "href": "Publish/quarto/1 quarto intro.html#embed-local-video",
    "title": "quarto introduction",
    "section": "embed local video",
    "text": "embed local video\n\n\nCode\n{{&lt; video images/vv.mp4 height=\"600\" &gt;}}",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#in-_quarto.ymlfor-all-page-or-headeronly-for-this-page",
    "href": "Publish/quarto/1 quarto intro.html#in-_quarto.ymlfor-all-page-or-headeronly-for-this-page",
    "title": "quarto introduction",
    "section": "in _quarto.yml(for all page) or header(only for this page)",
    "text": "in _quarto.yml(for all page) or header(only for this page)\n\n\n\nCode\n\n_quarto.yml\n\nformat:\n  html:\n    mainfont:Times New Roman\n    font-size: 120%;\n  \n# can find more font:https://developer.mozilla.org/en-US/docs/Web/CSS/font-family\n\n\n\nsource:https://quarto.org/docs/reference/formats/context.html",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#in-page",
    "href": "Publish/quarto/1 quarto intro.html#in-page",
    "title": "quarto introduction",
    "section": "in page",
    "text": "in page\n\n\nCode\n&lt;p style=\"font-family: times, serif; font-size:500% \"&gt;This is font size 500%&lt;/p&gt;\n\n\n\nThis is font size 500%\n\n\n\nCode\n&lt;p style=\"font-family: times, serif; font-size:50% \"&gt;This is font size 50%&lt;/p&gt;\n\n\n\nThis is font size 50%",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#render-a-folder-or-file",
    "href": "Publish/quarto/1 quarto intro.html#render-a-folder-or-file",
    "title": "quarto introduction",
    "section": "render a folder or file",
    "text": "render a folder or file\n\n\n\nCode\n\nTerminal\n\nquarto render introduction.qmd\nquarto render subdir/",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#freeze",
    "href": "Publish/quarto/1 quarto intro.html#freeze",
    "title": "quarto introduction",
    "section": "Freeze",
    "text": "Freeze\nYou can use the freeze option to denote that computational documents should never be re-rendered during a global project render, or alternatively only be re-rendered when their source file changes:\nin _quarto.yml(for all page) or header(only for this page)\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  freeze: true  # never re-render during project render\n\n\n\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  freeze: auto  # re-render only when source changes",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#cache",
    "href": "Publish/quarto/1 quarto intro.html#cache",
    "title": "quarto introduction",
    "section": "Cache",
    "text": "Cache\nYou can use the cache option to cache the results of computations (using the knitr cache for R documents, and Jupyter Cache for Jupyter documents):\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  cache: true\n\n\n\nNote that cache invalidation is triggered by changes in chunk source code (or other cache attributes you’ve defined). You may however need to manually refresh the cache if you know that some other input (or even time) has changed sufficiently to warrant an update. To do this, render either individual files or an entire project using the –cache-refresh option:\nsource:https://quarto.org/docs/projects/code-execution.html\n\n\n\nCode\n\nTerminal\n\nquarto render mydoc.qmd --cache-refresh # single doc\nquarto render --cache-refresh           # entire project",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/1 quarto intro.html#using-giscus-comment-tool",
    "href": "Publish/quarto/1 quarto intro.html#using-giscus-comment-tool",
    "title": "quarto introduction",
    "section": "using giscus comment tool",
    "text": "using giscus comment tool\nhttps://giscus.app/\n\nstep 1 install giscus on github\nhttps://github.com/apps/giscus\n\n\nstep 2 enable GitHub Discussions for your repository\n\n\n\nstep 3 add script to blog post\n\n\nCode\n'''\n&lt;script src=\"https://giscus.app/client.js\"\n        data-repo=\"[ENTER REPO HERE]\"\n        data-repo-id=\"[ENTER REPO ID HERE]\"\n        data-category=\"[ENTER CATEGORY NAME HERE]\"\n        data-category-id=\"[ENTER CATEGORY ID HERE]\"\n        data-mapping=\"pathname\"\n        data-strict=\"0\"\n        data-reactions-enabled=\"1\"\n        data-emit-metadata=\"0\"\n        data-input-position=\"bottom\"\n        data-theme=\"preferred_color_scheme\"\n        data-lang=\"en\"\n        crossorigin=\"anonymous\"\n        async&gt;\n&lt;/script&gt;\n'''\n\n\n\nstep 3b or using comment for all page\nadd into _quarto.yml\n\n\n\nCode\n\n_quarto.yml\n\nformat:\n  html:\n    include-after-body: \n         - text: &lt;script src=\"https://giscus.app/client.js\" data-repo=\"[ENTER REPO HERE]\" data-repo-id=\"[ENTER REPO ID HERE]\" data-category=\"[ENTER CATEGORY NAME HERE]\" data-category-id=\"[ENTER CATEGORY ID HERE]\" data-mapping=\"pathname\" data-strict=\"0\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"bottom\" data-theme=\"preferred_color_scheme\" data-lang=\"en\" crossorigin=\"anonymous\" async&gt; &lt;/script&gt;",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html",
    "href": "Publish/quarto/2 quarto blog.html",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ntitle: \"title\"\n\nauthor: \"name\"\ndate: \"2024-05-03\"\ncategories: [R,quarto]\nexecute:\n  warning: false\n  error: false\n  eval: false\n\nformat:\n  html:\n    toc: true\n    toc-location: left\n    code-fold: show\n    code-tools: true\n    number-sections: true\n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n    \n---\n\n\n\n\n\n\n\nCode\n---\ndraft: true  \n  \n---\n\n\n\n\n\n\n\nCode\nproject:\n  type: website\n\nwebsite:\n  title: \"tidystep\"\n  site-url: https://tidystep.netlify.app/\n  description: \"A blog for data stuff\"\n  favicon: \"profile3.png\"\n  google-analytics: \"G-2EQK8RFKFX\"\n  navbar:\n    right:\n      - about.qmd\n      - icon: github\n        href: https://github.com/TonyFly3000\n      - icon: twitter\n        href: https://twitter.com/TonyJCD\n      - icon: rss\n        href: index.xml\n\n  page-footer:\n    right: \"This blog is built with ❤️ and [Quarto](https://quarto.org/).\"\n\nformat:\n  html:\n    theme: \n      light: flatly\n      dark: darkly\n    css: styles.css\n    grid:\n      body-width: 1100px\n      margin-width: 300px\n      gutter-width: 1.5rem\n\neditor: visual\nexecute:\n  freeze: true\n\n\n\n\n\n\n\nCode\n---\ntitle: \"微步数据\"\nlisting:\n  page-size: 8\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: true\n  filter-ui: false\n  fields: [image, date, title, author,categories]\n  feed: true\npage-layout: full\ntitle-block-banner: true\n---\n\n\n\n\n\n\n\nCode\ndraft:true\n\n\n\n\n\n\n\n\n\nCode\nremotes::install_github(\"nikitoshina/staticryptR\")\n\n\n\n\n\n\n\nCode\nbrew install node\n\n\n\n\n\n\n\nCode\nnpm install -g staticrypt\n\n\n\n\n\n\n\nCode\n# _quarto.yml\nproject:\n  output-dir: \"./_output\"\n  post-render: encrypt.r\n\n\n\n\n\npassword protect all website\n\n\nCode\n# encrypt.r\nstaticryptR::staticryptr(\n  files = \"_output/\",\n  directory = \".\",\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact example@email.com\",\n  template_button = \"Access\"\n)\n\n\npassword protect one posts\n\n\nCode\nstaticryptR::staticryptr(\n  files = c(\"posts/youtube_yt-dlp/\"),\n  directory = c(\"docs/posts/\"),\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact TonyJCing@outlook.com\",\n  template_button = \"Access\",\n  print_cmd = TRUE\n)",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html#blog-post",
    "href": "Publish/quarto/2 quarto blog.html#blog-post",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ntitle: \"title\"\n\nauthor: \"name\"\ndate: \"2024-05-03\"\ncategories: [R,quarto]\nexecute:\n  warning: false\n  error: false\n  eval: false\n\nformat:\n  html:\n    toc: true\n    toc-location: left\n    code-fold: show\n    code-tools: true\n    number-sections: true\n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n    \n---",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html#hide-post-from-main-page",
    "href": "Publish/quarto/2 quarto blog.html#hide-post-from-main-page",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ndraft: true  \n  \n---",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html#quarto.yml",
    "href": "Publish/quarto/2 quarto blog.html#quarto.yml",
    "title": "quarto blog",
    "section": "",
    "text": "Code\nproject:\n  type: website\n\nwebsite:\n  title: \"tidystep\"\n  site-url: https://tidystep.netlify.app/\n  description: \"A blog for data stuff\"\n  favicon: \"profile3.png\"\n  google-analytics: \"G-2EQK8RFKFX\"\n  navbar:\n    right:\n      - about.qmd\n      - icon: github\n        href: https://github.com/TonyFly3000\n      - icon: twitter\n        href: https://twitter.com/TonyJCD\n      - icon: rss\n        href: index.xml\n\n  page-footer:\n    right: \"This blog is built with ❤️ and [Quarto](https://quarto.org/).\"\n\nformat:\n  html:\n    theme: \n      light: flatly\n      dark: darkly\n    css: styles.css\n    grid:\n      body-width: 1100px\n      margin-width: 300px\n      gutter-width: 1.5rem\n\neditor: visual\nexecute:\n  freeze: true",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html#index.qmd",
    "href": "Publish/quarto/2 quarto blog.html#index.qmd",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ntitle: \"微步数据\"\nlisting:\n  page-size: 8\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: true\n  filter-ui: false\n  fields: [image, date, title, author,categories]\n  feed: true\npage-layout: full\ntitle-block-banner: true\n---",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html#draft-postnot-include-in-the-main-page",
    "href": "Publish/quarto/2 quarto blog.html#draft-postnot-include-in-the-main-page",
    "title": "quarto blog",
    "section": "",
    "text": "Code\ndraft:true",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/2 quarto blog.html#create-password-for-blog",
    "href": "Publish/quarto/2 quarto blog.html#create-password-for-blog",
    "title": "quarto blog",
    "section": "",
    "text": "Code\nremotes::install_github(\"nikitoshina/staticryptR\")\n\n\n\n\n\n\n\nCode\nbrew install node\n\n\n\n\n\n\n\nCode\nnpm install -g staticrypt\n\n\n\n\n\n\n\nCode\n# _quarto.yml\nproject:\n  output-dir: \"./_output\"\n  post-render: encrypt.r\n\n\n\n\n\npassword protect all website\n\n\nCode\n# encrypt.r\nstaticryptR::staticryptr(\n  files = \"_output/\",\n  directory = \".\",\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact example@email.com\",\n  template_button = \"Access\"\n)\n\n\npassword protect one posts\n\n\nCode\nstaticryptR::staticryptr(\n  files = c(\"posts/youtube_yt-dlp/\"),\n  directory = c(\"docs/posts/\"),\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact TonyJCing@outlook.com\",\n  template_button = \"Access\",\n  print_cmd = TRUE\n)",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/quarto/3 quarto website.html",
    "href": "Publish/quarto/3 quarto website.html",
    "title": "quarto website",
    "section": "",
    "text": "you need to have quarto pub account https://quartopub.com/\n\n\nCode\nquarto publish quarto-pub\n\n\n\n\n\n\n\n\n\n_quarto.yml\n\n#| eval: false\nproject:\n  type: website\n  output-dir: docs\n\n\n\n\ntells GitHub Pages not to do additional processing of your published site using Jekyll (the GitHub default site generation tool):\n\n\n\n\n\n\n\nMac/Linux\n\n\nTerminal\n\ntouch .nojekyll\n\n\n\nWindows\n\n\nTerminal\n\ncopy NUL .nojekyll\n\n\n\n\n\n\n\n\n\n\n\n\nThe github site is created: https://your_github_name.github.io/repository_name/\n\n\n\nIn mac using {shift+command+.} to show hidden .gitignore file\nfor example,add *.parquet in .gitignore file to ignore all parquet file\n\n\n\nCode\n\n.gitignore\n\n.Rproj.user\n.Rhistory\n.RData\n.Ruserdata\n\n/.quarto/\n\n*.parquet",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto website"
    ]
  },
  {
    "objectID": "Publish/quarto/3 quarto website.html#publish-quarto-website-into-quarto-hub",
    "href": "Publish/quarto/3 quarto website.html#publish-quarto-website-into-quarto-hub",
    "title": "quarto website",
    "section": "",
    "text": "you need to have quarto pub account https://quartopub.com/\n\n\nCode\nquarto publish quarto-pub",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto website"
    ]
  },
  {
    "objectID": "Publish/quarto/3 quarto website.html#publish-quarto-website-into-github-page",
    "href": "Publish/quarto/3 quarto website.html#publish-quarto-website-into-github-page",
    "title": "quarto website",
    "section": "",
    "text": "_quarto.yml\n\n#| eval: false\nproject:\n  type: website\n  output-dir: docs\n\n\n\n\ntells GitHub Pages not to do additional processing of your published site using Jekyll (the GitHub default site generation tool):\n\n\n\n\n\n\n\nMac/Linux\n\n\nTerminal\n\ntouch .nojekyll\n\n\n\nWindows\n\n\nTerminal\n\ncopy NUL .nojekyll\n\n\n\n\n\n\n\n\n\n\n\n\nThe github site is created: https://your_github_name.github.io/repository_name/\n\n\n\nIn mac using {shift+command+.} to show hidden .gitignore file\nfor example,add *.parquet in .gitignore file to ignore all parquet file\n\n\n\nCode\n\n.gitignore\n\n.Rproj.user\n.Rhistory\n.RData\n.Ruserdata\n\n/.quarto/\n\n*.parquet",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto website"
    ]
  },
  {
    "objectID": "Publish/Shiny/5 shiny in web browser.html",
    "href": "Publish/Shiny/5 shiny in web browser.html",
    "title": "Shiny in web browser",
    "section": "",
    "text": "Code\nquarto add quarto-ext/shinylive\n\n\n\n\n\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\nlibrary(shiny)\nlibrary(bslib)\n\nui &lt;- page_fluid(\n  h2(\"Simple Histogram App\"),\n  layout_sidebar(\n    sidebar = sidebar(\n      sliderInput(\"n\", \"Number of observations:\", min = 10, max = 100, value = 30)\n    ),\n    plotOutput(\"hist\")\n  )\n)\n\nserver &lt;- function(input, output) {\n  output$hist &lt;- renderPlot({\n    hist(rnorm(input$n), main = \"Random Normal Data\", col = \"skyblue\")\n  })\n}\n\nshinyApp(ui, server)",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/Shiny/5 shiny in web browser.html#step-1-add-quarto-extension-in-project-root-folder",
    "href": "Publish/Shiny/5 shiny in web browser.html#step-1-add-quarto-extension-in-project-root-folder",
    "title": "Shiny in web browser",
    "section": "",
    "text": "Code\nquarto add quarto-ext/shinylive",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/Shiny/5 shiny in web browser.html#step-2-add-in-header",
    "href": "Publish/Shiny/5 shiny in web browser.html#step-2-add-in-header",
    "title": "Shiny in web browser",
    "section": "",
    "text": "---\n\nfilters:\n  - shinylive\n  \n---",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/Shiny/5 shiny in web browser.html#step-3-make-shiny-app",
    "href": "Publish/Shiny/5 shiny in web browser.html#step-3-make-shiny-app",
    "title": "Shiny in web browser",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\nlibrary(shiny)\nlibrary(bslib)\n\nui &lt;- page_fluid(\n  h2(\"Simple Histogram App\"),\n  layout_sidebar(\n    sidebar = sidebar(\n      sliderInput(\"n\", \"Number of observations:\", min = 10, max = 100, value = 30)\n    ),\n    plotOutput(\"hist\")\n  )\n)\n\nserver &lt;- function(input, output) {\n  output$hist &lt;- renderPlot({\n    hist(rnorm(input$n), main = \"Random Normal Data\", col = \"skyblue\")\n  })\n}\n\nshinyApp(ui, server)",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/Shiny/7 shiny game connect four.html",
    "href": "Publish/Shiny/7 shiny game connect four.html",
    "title": "shiny game in browser:coneect four",
    "section": "",
    "text": "create a connect four game in shiny call connect_four_app.R\nmake adjustment for bottom 1-7 and make it on top of the grid\nmake the bottom circle as same as the grid\ndisplay the tokens and when win display winer is red or yellow\n\n1 step 1 add quarto extension in project root folder\n#| eval: false\nquarto add quarto-ext/shinylive\n\n\n2 step 2 add in header\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n3 step 3 make shiny app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\n\n\nlibrary(shiny)\n\n# UI\nui &lt;- fluidPage(\n  titlePanel(\"Connect Four\"),\n  sidebarLayout(\n    sidebarPanel(\n      actionButton(\"reset\", \"New Game\"),\n      hr(),\n      uiOutput(\"game_status_ui\")\n    ),\n    mainPanel(\n      uiOutput(\"board\")\n    )\n  )\n)\n\n# Server\nserver &lt;- function(input, output, session) {\n\n  # Game state\n  game &lt;- reactiveValues(\n    board = matrix(0, 6, 7),\n    current_player = 1,\n    winner = 0 # 0: in progress, 1: player 1 wins, 2: player 2 wins, -1: draw\n  )\n\n  # Game Status UI (current player)\n  output$game_status_ui &lt;- renderUI({\n    if (game$winner == 0) {\n      player_color_name &lt;- if (game$current_player == 1) \"Red\" else \"Yellow\"\n      player_color_hex &lt;- if (game$current_player == 1) \"red\" else \"yellow\"\n      tagList(\n        h4(\"Current Turn:\"),\n        div(\n          style = paste0(\n            \"width: 30px; height: 30px; background-color: \", player_color_hex, \"; \",\n            \"border-radius: 50%; display: inline-block; vertical-align: middle; border: 1px solid black;\"\n          )\n        ),\n        tags$span(player_color_name, style = \"font-size: 18px; vertical-align: middle; margin-left: 10px;\")\n      )\n    }\n  })\n\n  # Create the game board UI\n  output$board &lt;- renderUI({\n    board_matrix &lt;- game$board\n\n    # Column buttons on top\n    col_buttons &lt;- fluidRow(\n      lapply(1:7, function(col) {\n        actionButton(\n          inputId = paste0(\"col_\", col),\n          label = as.character(col),\n          style = \"width: 50px; height: 50px; border-radius: 50%; margin: 2px;\"\n        )\n      })\n    )\n\n    # The grid of circles\n    board_html &lt;- lapply(1:6, function(row) {\n      fluidRow(\n        lapply(1:7, function(col) {\n          cell_value &lt;- board_matrix[row, col]\n          cell_color &lt;- if (cell_value == 1) \"red\" else if (cell_value == 2) \"yellow\" else \"lightgrey\"\n          div(\n            style = paste0(\n              \"display:inline-block; vertical-align:top; \",\n              \"width:50px; height:50px; background-color:\", cell_color, \"; \",\n              \"border: 1px solid black; border-radius: 50%; margin: 2px;\"\n            )\n          )\n        })\n      )\n    })\n\n    tagList(col_buttons, board_html)\n  })\n\n  # Handle column clicks\n  observe({\n    lapply(1:7, function(col) {\n      observeEvent(input[[paste0(\"col_\", col)]], {\n        # Proceed only if game is not over\n        if (game$winner == 0) {\n          # Find the lowest empty cell in the column\n          empty_cells &lt;- which(game$board[, col] == 0)\n          if (length(empty_cells) &gt; 0) {\n            row &lt;- max(empty_cells)\n            game$board[row, col] &lt;- game$current_player\n\n            # Check for winner\n            if (check_winner(game$board, game$current_player)) {\n              game$winner &lt;- game$current_player\n              winner_color &lt;- if (game$winner == 1) \"Red\" else \"Yellow\"\n              showModal(modalDialog(\n                title = \"Game Over\",\n                paste(winner_color, \"wins!\"),\n                easyClose = TRUE,\n                footer = NULL\n              ))\n            } else if (all(game$board != 0)) { # Check for a draw\n                game$winner &lt;- -1 # Using -1 to signify a draw\n                showModal(modalDialog(\n                    title = \"Game Over\",\n                    \"It's a draw!\",\n                    easyClose = TRUE,\n                    footer = NULL\n                ))\n            } else {\n              # Switch player\n              game$current_player &lt;- if (game$current_player == 1) 2 else 1\n            }\n          }\n        }\n      })\n    })\n  })\n\n  # Check for a winner\n  check_winner &lt;- function(board, player) {\n    # Check rows\n    for (r in 1:6) {\n      for (c in 1:4) {\n        if (all(board[r, c:(c + 3)] == player)) return(TRUE)\n      }\n    }\n\n    # Check columns\n    for (r in 1:3) {\n      for (c in 1:7) {\n        if (all(board[r:(r + 3), c] == player)) return(TRUE)\n      }\n    }\n\n    # Check diagonals (top-left to bottom-right)\n    for (r in 1:3) {\n      for (c in 1:4) {\n        if (all(diag(board[r:(r + 3), c:(c + 3)]) == player)) return(TRUE)\n      }\n    }\n\n    # Check diagonals (top-right to bottom-left)\n    for (r in 1:3) {\n      for (c in 4:7) {\n        if (all(c(board[r, c], board[r + 1, c - 1], board[r + 2, c - 2], board[r + 3, c - 3]) == player)) {\n          return(TRUE)\n        }\n      }\n    }\n\n    return(FALSE)\n  }\n\n  # Reset the game\n  observeEvent(input$reset, {\n    game$board &lt;- matrix(0, 6, 7)\n    game$current_player &lt;- 1\n    game$winner &lt;- 0\n  })\n\n}\n\n# Run the app\nshinyApp(ui = ui, server = server)\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Shiny",
      "shiny game in browser:coneect four"
    ]
  },
  {
    "objectID": "Publish/Shiny/6 shiny game tic tac toe.html",
    "href": "Publish/Shiny/6 shiny game tic tac toe.html",
    "title": "shiny game in browser:tic tac toe",
    "section": "",
    "text": "create shiny in quarto doc\n\n1 step 1 add quarto extension in project root folder\n#| eval: false\nquarto add quarto-ext/shinylive\n\n\n2 step 2 add in header\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n3 step 3 make shiny app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\n\n\nlibrary(shiny)\n\n# UI\nui &lt;- fluidPage(\n    titlePanel(\"Tic-Tac-Toe\"),\n    sidebarLayout(\n        sidebarPanel(\n            actionButton(\"new_game\", \"New Game\"),\n            h4(\"Current Player:\"),\n            textOutput(\"current_player\")\n        ),\n        mainPanel(\n            uiOutput(\"board\"),\n            h3(textOutput(\"game_status\"))\n        )\n    )\n)\n\n# Server\nserver &lt;- function(input, output, session) {\n\n    # Game state\n    game &lt;- reactiveValues(\n        board = matrix(rep(\"\", 3), nrow = 3, ncol = 3),\n        current_player = \"X\",\n        game_over = FALSE,\n        winner = NULL\n    )\n\n    # Render the game board\n    output$board &lt;- renderUI({\n        fluidRow(\n            lapply(1:3, function(i) {\n                column(4,\n                    lapply(1:3, function(j) {\n                        actionButton(paste0(\"cell_\", i, \"_\", j), label = game$board[i, j], style = \"width:100px; height:100px; font-size: 40px;\")\n                    })\n                )\n            })\n        )\n    })\n\n    # Display current player\n    output$current_player &lt;- renderText({\n        game$current_player\n    })\n\n    # Handle cell clicks\n    observe({\n        lapply(1:3, function(i) {\n            lapply(1:3, function(j) {\n                observeEvent(input[[paste0(\"cell_\", i, \"_\", j)]], {\n                    if (game$board[i, j] == \"\" && !game$game_over) {\n                        game$board[i, j] &lt;- game$current_player\n                        check_winner()\n                        if (!game$game_over) {\n                            game$current_player &lt;- ifelse(game$current_player == \"X\", \"O\", \"X\")\n                        }\n                    }\n                })\n            })\n        })\n    })\n\n    # Check for a winner\n    check_winner &lt;- function() {\n        board &lt;- game$board\n        # Check rows\n        for (i in 1:3) {\n            if (all(board[i, ] == game$current_player) && board[i, 1] != \"\") {\n                game$winner &lt;- game$current_player\n                game$game_over &lt;- TRUE\n                return()\n            }\n        }\n        # Check columns\n        for (j in 1:3) {\n            if (all(board[, j] == game$current_player) && board[1, j] != \"\") {\n                game$winner &lt;- game$current_player\n                game$game_over &lt;- TRUE\n                return()\n            }\n        }\n        # Check diagonals\n        if (all(diag(board) == game$current_player) && board[1, 1] != \"\") {\n            game$winner &lt;- game$current_player\n            game$game_over &lt;- TRUE\n            return()\n        }\n        if (all(diag(board[ , 3:1]) == game$current_player) && board[1, 3] != \"\") {\n            game$winner &lt;- game$current_player\n            game$game_over &lt;- TRUE\n            return()\n        }\n        # Check for a tie\n        if (all(board != \"\")) {\n            game$winner &lt;- \"Tie\"\n            game$game_over &lt;- TRUE\n        }\n    }\n\n    # Display game status\n    output$game_status &lt;- renderText({\n        if (game$game_over) {\n            if (game$winner == \"Tie\") {\n                \"It's a tie!\"\n            } else {\n                paste(\"Player\", game$winner, \"wins!\")\n            }\n        }\n    })\n\n    # New game button\n    observeEvent(input$new_game, {\n        game$board &lt;- matrix(rep(\"\", 3), nrow = 3, ncol = 3)\n        game$current_player &lt;- \"X\"\n        game$game_over &lt;- FALSE\n        game$winner &lt;- NULL\n    })\n\n}\n\n# Run the application\nshinyApp(ui = ui, server = server)\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Shiny",
      "shiny game in browser:tic tac toe"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About",
    "section": "",
    "text": "This project is a comprehensive guide to the R programming language, built with Quarto. It covers a wide range of topics, from the fundamentals of R to advanced applications in data manipulation, visualization, and publishing.\n\nKey Sections:\n\nIntro to R:\n\nBasic R: Covers fundamental concepts like working with files, handling errors, using conditional statements (if/else), loops (for, while, map), creating functions, managing packages, and using version control with renv. It also touches on interacting with Python using reticulate.\nProbability: Explores concepts like random numbers, permutations, combinations, conditional probability, the derangement problem, and key probability distributions (Binomial, Normal). It also demonstrates how to check for normality using histograms, Q-Q plots, and the Shapiro-Wilk test.\nStatistics: Introduces basic statistical concepts, including different types of variables, measures of centrality and spread, covariance, and correlation.\nError Handling: Provides practical tips for troubleshooting common issues, such as Python version conflicts with reticulate.\n\nData Manipulation:\n\nI/O: Reading and writing data from various formats.\nData Structures: Understanding and working with R’s data structures (vectors, lists, data frames, etc.).\nTidyverse: A deep dive into the tidyverse ecosystem for data manipulation and wrangling.\ndata.table: High-performance data manipulation using the data.table package.\nRecipes: Preprocessing data for modeling using the recipes package.\nResampling: Techniques for creating training and testing sets for model validation.\nSQL Databases: Interacting with SQL databases from within R.\nData Management: Best practices for organizing and managing data in your projects.\n\nPlotting:\n\nggplot2: Creating a wide variety of static visualizations.\nplotly: Building interactive plots.\nImage Processing: Basic image manipulation and analysis.\nFinancial Data: Visualizing financial time-series data.\nMapping: Creating maps and spatial visualizations.\n\nPublishing:\n\nShiny: Building interactive web applications.\nQuarto: Creating dynamic documents, presentations, and websites.\nDashboards: Designing and building data dashboards.\nEmail: Sending emails from R, potentially with embedded reports or plots.\nGit: Using Git for version control and collaboration.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "index.html#formatting-guidelines",
    "href": "index.html#formatting-guidelines",
    "title": "About",
    "section": "Formatting Guidelines",
    "text": "Formatting Guidelines\n\nAuthor attribution: All documents use “Tony Duan” as author\nYAML headers: Consistent metadata structure across all documents\nCode style: Consistent use of &lt;- for assignment, proper indentation\nHeadings: Hierarchical heading structure with proper capitalization\nLanguage: American English spelling and grammar"
  },
  {
    "objectID": "index.html#content-standards",
    "href": "index.html#content-standards",
    "title": "About",
    "section": "Content Standards",
    "text": "Content Standards\n\nComplete explanations: All code blocks include explanatory text\nWorking examples: Code is tested and runs without errors\nLearning objectives: Each section clearly states what readers will learn\nPrerequisites: Required knowledge and setup are specified\nCross-references: Related topics are properly linked"
  },
  {
    "objectID": "index.html#technical-standards",
    "href": "index.html#technical-standards",
    "title": "About",
    "section": "Technical Standards",
    "text": "Technical Standards\n\nReproducibility: All examples include sessionInfo() where appropriate\nDependencies: Required packages are listed and installation instructions provided\nError handling: Common issues and solutions are documented\nImages: Descriptive alt text and appropriate sizing\nLinks: External links are current and relevant"
  },
  {
    "objectID": "other/other/1 chromote.html",
    "href": "other/other/1 chromote.html",
    "title": "chromote",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(chromote)\n\n\n\n\nCode\npackageVersion(\"chromote\")\n\n\n\n1 create view\n\n\nCode\nlibrary(chromote)\n\nb &lt;- ChromoteSession$new()\n\n# In a web browser, open a viewer for the headless browser. Works best with\n# Chromium-based browsers.\nb$view()\n\n\n\n\nCode\nb$Browser$getVersion()\n\n\n\n\n2 go to page\n\n\nCode\nb$Page$navigate(\"https://www.r-project.org/\")\n\n\n\n\n3 take picture\n\n\nCode\n# Saves to screenshot.png\nb$screenshot()\n\n\n\n\nCode\n# Takes a screenshot of elements picked out by CSS selector\nis_interactive &lt;- interactive() # Display screenshot if interactive\nb$screenshot(\"sidebar.png\", selector = \"h1\" ,show = is_interactive)\n\n\n\n\n4 take picture as pdf\n\n\nCode\nb$screenshot_pdf(filename='page.pdf')\n\n\n\n\n5 Reference:\nhttps://rstudio.github.io/chromote/\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "Other",
      "chromote"
    ]
  },
  {
    "objectID": "other/other/3 API.html",
    "href": "other/other/3 API.html",
    "title": "API",
    "section": "",
    "text": "1 calling API\nto get exchange rate from European Central Bank.https://frankfurter.dev/\n\n\nCode\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(plotly)\nlibrary(lubridate)\n\n\n\n\nCode\nget_usd_thb_rates &lt;- function(start_date, end_date,base_currency,target_currency) {\n  url &lt;- paste0(\n    \"https://api.frankfurter.app/\",\n    start_date, \"..\", end_date,\n    \"?from=\", base_currency,\n    \"&to=\", target_currency\n  )\n  \n  response &lt;- GET(url)\n  \n  if (status_code(response) == 200) {\n    data &lt;- fromJSON(content(response, \"text\"))\n    rates_df &lt;- data.frame(\n      date = names(data$rates),\n      rate = sapply(data$rates, function(x) x[[target_currency]])\n    )\n    row.names(rates_df) &lt;- NULL\n    rates_df$date &lt;- as.Date(rates_df$date)\n    return(rates_df)\n  } else {\n    stop(paste(\"Error:\", status_code(response)))\n  }\n}\n\n\n\n\nCode\nUSD_THB=get_usd_thb_rates(start_date='2024-01-01', end_date=Sys.Date(),base_currency='USD',target_currency='THB')\n\n\n\n\nCode\nUSD_CNY=get_usd_thb_rates(start_date='2024-01-01', end_date=Sys.Date(),base_currency='USD',target_currency='CNY')\n\n\n\n\nCode\nUSD_CNY_THB &lt;- merge(USD_THB, USD_CNY, by = \"date\", suffixes = c(\"_THB\", \"_CNY\"))\n\n\n\n\nCode\nplot_ly(data=USD_CNY_THB, x=~date) %&gt;%\n  add_lines(y=~rate_THB, name='USD to THB', line=list(color='blue')) %&gt;%\n  add_lines(y=~rate_CNY, name='USD to CNY', line=list(color='red'), yaxis = \"y2\") %&gt;%\n  layout(title=\"USD to THB and CNY Exchange Rates\",\n         xaxis=list(title=\"Date\"),\n         yaxis=list(title=\"Rate THB\", showgrid=FALSE),\n         yaxis2=list(title=\"Rate CNY\", overlaying = \"y\", side = \"right\", tickformat = \".2f\"),\n         legend=list(orientation = 'h', xanchor = \"center\", x = 0.5, y = -0.2),\n         margin = list(r = 80)) # Increase right margin\n\n\n\n\n\n\n\n\nCode\nCNY_THB=get_usd_thb_rates(start_date='2024-01-01', end_date=Sys.Date(),base_currency='CNY',target_currency='THB')\n\n\n\n\nCode\nplot_ly(data=CNY_THB, x=~date) |&gt; \n  add_lines(y=~rate, name='CNY to THB', line=list(color='green')) |&gt; \n  layout(title=\"CNY to THB Exchange Rate\",\n         xaxis=list(title=\"Date\"),\n         yaxis=list(title=\"Rate\", showgrid=FALSE),\n         legend=list(orientation = 'h', xanchor = \"center\", x = 0.5, y = -0.2),\n         margin = list(r = 80)) # Increase right margin\n\n\n\n\n\n\n\n\nCode\n(max(CNY_THB$rate)-min(CNY_THB$rate))/min(CNY_THB$rate)\n\n\n[1] 0.1460838\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "Other",
      "API"
    ]
  },
  {
    "objectID": "other/web scrap/3 web scrap advance.html",
    "href": "other/web scrap/3 web scrap advance.html",
    "title": "web scrap with advance",
    "section": "",
    "text": "Code\nfrom seleniumbase import SB\n\nwith SB(test=True, uc=True) as sb:\n    sb.open(\"https://google.com/ncr\")\n    sb.type('[title=\"Search\"]', \"SeleniumBase GitHub page\\n\")\n    sb.click('[href*=\"github.com/seleniumbase/\"]')\n    sb.save_screenshot_to_logs()  # ./latest_logs/\n    print(sb.get_page_title())\n\n\n\n\nCode\nfrom seleniumbase import SB\n\nwith SB(test=True, uc=True) as sb:\n    sb.open(\"https://www.whiskybase.com/whiskies/\")\n    #sb.type('[title=\"Search\"]', \"SeleniumBase GitHub page\\n\")\n    #sb.click('[href*=\"github.com/seleniumbase/\"]')\n    sb.save_screenshot_to_logs()  # ./latest_logs/\n    print(sb.get_page_title())\n\n\n\n\nCode\nfrom seleniumbase import Driver\nclass Scraper(BaseCase):\ndef test_bypass_bot_protection(self):\ndriver = Driver(uc=True)\ndriver.open(\"https://www.whiskybase.com/whiskies/whisky/268484/2009-ud\")\ndriver.uc_gui_click_captcha()\npage_html = driver.get_page_source()\nprint(page_html)\ndriver.quit()\n\n\n\n\nCode\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(page_html, 'html.parser')\nprint(soup.prettify())\n\n\n\n\nCode\nprint(soup.get_text())\n\n\n\n\nCode\nsoup.select(\".votes-rating-current\").text\n\n\nh1\n\n1 Reference:\nhttps://github.com/seleniumbase/SeleniumBase\nhttps://medium.com/@datajournal/web-scraping-with-seleniumbase-e3ead6aebe7f\nhttps://github.com/ultrafunkamsterdam/undetected-chromedriver\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "web scrap",
      "web scrap with advance"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#categorical-variables",
    "href": "intro/3 Statistics.html#categorical-variables",
    "title": "Statistics",
    "section": "2.1 Categorical Variables",
    "text": "2.1 Categorical Variables\nCategorical variables place individuals or items into groups or categories.\nExamples: - Gender (Male, Female, Other) - Blood Type (A, B, AB, O) - Education Level (High School, Bachelor’s, Master’s, PhD)",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#quantitative-variables",
    "href": "intro/3 Statistics.html#quantitative-variables",
    "title": "Statistics",
    "section": "2.2 Quantitative Variables",
    "text": "2.2 Quantitative Variables\nQuantitative variables take numerical values and represent some kind of measurement.\nExamples: - Height (in centimeters or inches) - Temperature (in Celsius or Fahrenheit) - Income (in dollars or other currency)",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#variance-vs-standard-deviation",
    "href": "intro/3 Statistics.html#variance-vs-standard-deviation",
    "title": "Statistics",
    "section": "3.1 Variance vs Standard Deviation",
    "text": "3.1 Variance vs Standard Deviation\nBoth variance and standard deviation measure how spread out the data points are from the mean.\nVariance: The average of the squared differences from the mean.\nStandard Deviation: The square root of the variance, expressed in the same units as the original data.\nInterquartile Range (IQR): The range between the 25th and 75th percentiles, representing the middle 50% of the data.",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#centrality-mean-median-mode",
    "href": "intro/3 Statistics.html#centrality-mean-median-mode",
    "title": "Statistics",
    "section": "4.1 Centrality: Mean, Median, Mode",
    "text": "4.1 Centrality: Mean, Median, Mode\nMean: The average of all values, calculated by summing all values and dividing by the count.\nMedian: The middle value when data is ordered from smallest to largest.\nMode: The value that appears most frequently in the dataset.",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#covariance-and-correlation",
    "href": "intro/3 Statistics.html#covariance-and-correlation",
    "title": "Statistics",
    "section": "4.2 Covariance and Correlation",
    "text": "4.2 Covariance and Correlation\nWhen analyzing data, it’s often useful to be able to investigate the relationship between two numeric variables to assess trends. For example, you might expect height and weight observations to have a noticeable positive relationship—taller people tend to weigh more. Conversely, you might imagine that handspan and length of hair would have less of an association. One of the simplest and most common ways such associations are quantified and compared is through the idea of correlation, for which you need the covariance. The covariance expresses how much two numeric variables “change together” and the nature of that relationship.\n\n4.2.1 Example in R\nLet’s calculate covariance and correlation using the built-in mtcars dataset.\n\n\nCode\ndata(mtcars)\ncov(mtcars$wt, mtcars$mpg)  # Covariance between weight and mpg\n\n\n[1] -5.116685\n\n\nCode\ncor(mtcars$wt, mtcars$mpg)  # Correlation between weight and mpg\n\n\n[1] -0.8676594\n\n\nNegative correlation: as weight increases, mpg decreases.\n\n4.2.1.1 Scatterplot to visualize\n\n\nCode\nplot(mtcars$wt, mtcars$mpg, xlab = \"Weight\", ylab = \"Miles per Gallon\")\nabline(lm(mpg ~ wt, data = mtcars), col = \"red\")  # Regression line\n\n\n\n\n\n\n\n\n\n\n\n\n4.2.2 Variance, Standard Deviation, Mean, Median\nUsing the mtcars dataset for demonstration.\n\n\nCode\nmean(mtcars$mpg)   # Mean\n\n\n[1] 20.09062\n\n\nCode\nmedian(mtcars$mpg) # Median\n\n\n[1] 19.2\n\n\nCode\nvar(mtcars$mpg)    # Variance\n\n\n[1] 36.3241\n\n\nCode\nsd(mtcars$mpg)     # Standard Deviation\n\n\n[1] 6.026948\n\n\nCode\nIQR(mtcars$mpg)    # Interquartile Range\n\n\n[1] 7.375\n\n\n\n4.2.2.1 Histogram for distribution\n\n\nCode\nhist(mtcars$mpg, main = \"Histogram of MPG\", xlab = \"Miles per Gallon\")",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#correlation-pearsons-product-moment-correlation-coefficient",
    "href": "intro/3 Statistics.html#correlation-pearsons-product-moment-correlation-coefficient",
    "title": "Statistics",
    "section": "4.3 Correlation, Pearson’s product-moment correlation coefficient",
    "text": "4.3 Correlation, Pearson’s product-moment correlation coefficient\nPearson’s sample correlation coefficient ρxy is computed by dividing the sample covariance by the product of the standard deviation of each data set.\n\nSome Correlation Example:",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/6 data analytic in R book.html",
    "href": "intro/6 data analytic in R book.html",
    "title": "Data analytic in R book",
    "section": "",
    "text": "A selection of cutting-edge books focused on data science, machine learning, and practical data analysis with R. These titles emphasize the tidyverse, modeling, and modern techniques suitable for aspiring data scientists and analysts.\n\n\nBy Garrett Grolemund and Hadley Wickham (2017, 2nd ed. 2023)\nThe definitive guide to data science with R from the creators of the tidyverse. Free online, this book covers importing, tidying, transforming, visualizing, and modeling data using modern R tools. Perfect for beginners to intermediate users.\nKey Topics: Data wrangling with dplyr, visualization with ggplot2, modeling with tidymodels, and reproducible research.\nFree Online Book | Print Version on O’Reilly\n\n\n\n\nBy Garrett Grolemund\nCompanion to “R for Data Science,” this book dives into programming fundamentals with R. It teaches programming concepts through hands-on examples, ideal for those transitioning to R from other languages or learning serious programming.\nKey Topics: Variables, loops, functions, debugging, vectorized code, and best practices for writing clean R code.\nO’Reilly Online | Print Version\n\n\n\n\nBy Max Kuhn and Julia Silge\nComprehensive guide to statistical modeling using the tidyverse and tidymodels framework. Covers the full modeling process from data preparation to evaluation, with a focus on practical, reproducible results.\nKey Topics: Data splitting, preprocessing, model fitting (regression, classification), hyperparameter tuning, evaluation metrics, and deployment.\nOfficial Website | Print Version on O’Reilly\n\n\n\n\nBy François Chollet and J.J. Allaire\nIntroduces deep learning concepts using Keras and TensorFlow in R. Suitable for users familiar with R who want to explore neural networks and advanced ML techniques. Bridges R with Python-based tools.\nKey Topics: Neural network basics, convolutional neural networks (CNNs), recurrent neural networks (RNNs), computer vision, and natural language processing.\nOnline Book | Print Version on Manning",
    "crumbs": [
      "Intro",
      "Data analytic in R book"
    ]
  },
  {
    "objectID": "intro/6 data analytic in R book.html#r-for-data-science",
    "href": "intro/6 data analytic in R book.html#r-for-data-science",
    "title": "Data analytic in R book",
    "section": "",
    "text": "By Garrett Grolemund and Hadley Wickham (2017, 2nd ed. 2023)\nThe definitive guide to data science with R from the creators of the tidyverse. Free online, this book covers importing, tidying, transforming, visualizing, and modeling data using modern R tools. Perfect for beginners to intermediate users.\nKey Topics: Data wrangling with dplyr, visualization with ggplot2, modeling with tidymodels, and reproducible research.\nFree Online Book | Print Version on O’Reilly",
    "crumbs": [
      "Intro",
      "Data analytic in R book"
    ]
  },
  {
    "objectID": "intro/6 data analytic in R book.html#hands-on-programming-with-r",
    "href": "intro/6 data analytic in R book.html#hands-on-programming-with-r",
    "title": "Data analytic in R book",
    "section": "",
    "text": "By Garrett Grolemund\nCompanion to “R for Data Science,” this book dives into programming fundamentals with R. It teaches programming concepts through hands-on examples, ideal for those transitioning to R from other languages or learning serious programming.\nKey Topics: Variables, loops, functions, debugging, vectorized code, and best practices for writing clean R code.\nO’Reilly Online | Print Version",
    "crumbs": [
      "Intro",
      "Data analytic in R book"
    ]
  },
  {
    "objectID": "intro/6 data analytic in R book.html#tidy-modeling-with-r",
    "href": "intro/6 data analytic in R book.html#tidy-modeling-with-r",
    "title": "Data analytic in R book",
    "section": "",
    "text": "By Max Kuhn and Julia Silge\nComprehensive guide to statistical modeling using the tidyverse and tidymodels framework. Covers the full modeling process from data preparation to evaluation, with a focus on practical, reproducible results.\nKey Topics: Data splitting, preprocessing, model fitting (regression, classification), hyperparameter tuning, evaluation metrics, and deployment.\nOfficial Website | Print Version on O’Reilly",
    "crumbs": [
      "Intro",
      "Data analytic in R book"
    ]
  },
  {
    "objectID": "intro/6 data analytic in R book.html#deep-learning-with-r",
    "href": "intro/6 data analytic in R book.html#deep-learning-with-r",
    "title": "Data analytic in R book",
    "section": "",
    "text": "By François Chollet and J.J. Allaire\nIntroduces deep learning concepts using Keras and TensorFlow in R. Suitable for users familiar with R who want to explore neural networks and advanced ML techniques. Bridges R with Python-based tools.\nKey Topics: Neural network basics, convolutional neural networks (CNNs), recurrent neural networks (RNNs), computer vision, and natural language processing.\nOnline Book | Print Version on Manning",
    "crumbs": [
      "Intro",
      "Data analytic in R book"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#manage-r-version-with-rig",
    "href": "intro/1 basic R.html#manage-r-version-with-rig",
    "title": "Basic R",
    "section": "1.1 Manage R Version with rig",
    "text": "1.1 Manage R Version with rig\nhttps://github.com/r-lib/rig\n\n1.1.1 install rig\n\n\nCode\nbrew tap r-lib/rig\nbrew install --cask rig\n\n\n\n\n1.1.2 show current downloaded R version\n\n\nCode\nrig list\n\n\n* name       version    aliases\n------------------------------------------\n  4.4-arm64  (R 4.4.3)  \n* 4.5-arm64  (R 4.5.1)  \n\n\n\n\n1.1.3 show current which R version can be downloaded\n\n\nCode\nrig available\n\n\nname   version  release date  type\n------------------------------------------\n4.1.3  4.1.3    2022-03-10    release\n4.2.3  4.2.3    2023-03-15    release\n4.3.3  4.3.3    2024-02-29    release\n4.4.3  4.4.3    2025-02-28    release\n4.5.2  4.5.2    2025-10-31    release\nnext   4.5.2                  patched\ndevel  4.6.0                  devel\n\n\n\n\n1.1.4 download R version\n\n\nCode\nrig add 4.4.3\n\n\n\n\n1.1.5 use R 4.4.3 version\n\n\nCode\n#rig default 4.4-arm64\n\n\n\n\n1.1.6 use R 4.5.1 version\n\n\nCode\nrig default 4.5-arm64\n\n\nor you can choose with UI\n\n\nCode\nopen -a Rig",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-current-directory",
    "href": "intro/1 basic R.html#get-current-directory",
    "title": "Basic R",
    "section": "2.1 Get current directory",
    "text": "2.1 Get current directory\nThe getwd() function returns your current working directory as a string.\n\n\nCode\ngetwd()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-names-under-the-current-directory",
    "href": "intro/1 basic R.html#get-all-file-names-under-the-current-directory",
    "title": "Basic R",
    "section": "2.2 Get all file names under the current directory",
    "text": "2.2 Get all file names under the current directory\nThe list.files() function returns a character vector of file and directory names in the specified directory. Without an argument, it lists files in the current directory.\n\n\nCode\nlist.files()\n\n\n [1] \"1 basic R.qmd\"                 \"1 basic R.rmarkdown\"          \n [3] \"1-basic-R.rmarkdown\"           \"2 probability.qmd\"            \n [5] \"3 Statistics.qmd\"              \"5 R book.qmd\"                 \n [7] \"6 data analytic in R book.qmd\" \"7 error handling.qmd\"         \n [9] \"hotels.csv\"                    \"images\"                       \n[11] \"renv\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-names-under-one-level-up-directory",
    "href": "intro/1 basic R.html#get-all-file-names-under-one-level-up-directory",
    "title": "Basic R",
    "section": "2.3 Get all file names under one level up directory",
    "text": "2.3 Get all file names under one level up directory\nYou can use .. to refer to the parent directory.\n\n\nCode\nlist.files(\"../\")\n\n\n [1] \"_extensions\"           \"_freeze\"               \"_publish.yml\"         \n [4] \"_quarto.yml\"           \"_README_CN.md\"         \"_site\"                \n [7] \"CLAUDE.md\"             \"data manipulation\"     \"docs\"                 \n[10] \"foldableCodeBlcok.lua\" \"images\"                \"index_files\"          \n[13] \"index.qmd\"             \"intro\"                 \"Intro R.Rproj\"        \n[16] \"LICENSE\"               \"other\"                 \"Plot\"                 \n[19] \"Publish\"               \"README.md\"             \"Rlogo.png\"            \n[22] \"styles.css\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-file-info",
    "href": "intro/1 basic R.html#get-file-info",
    "title": "Basic R",
    "section": "2.4 Get file info",
    "text": "2.4 Get file info\nThe file.info() function returns a data frame with information about the specified file, such as its size, creation time, and modification time.\n\n\nCode\nfile.info(\"6 data analytic in R book.qmd\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#create-folder",
    "href": "intro/1 basic R.html#create-folder",
    "title": "Basic R",
    "section": "2.5 Create folder",
    "text": "2.5 Create folder\nThe dir.create() function creates a new directory (folder).\n\n\nCode\ndir.create(\"testing_folder\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#delete-folderfile",
    "href": "intro/1 basic R.html#delete-folderfile",
    "title": "Basic R",
    "section": "2.6 Delete folder/file",
    "text": "2.6 Delete folder/file\nThe file.remove() function can be used to delete files. To delete an empty directory, you can also use unlink().\n\n\nCode\nfile.remove(\"testing_folder\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#copy-file",
    "href": "intro/1 basic R.html#copy-file",
    "title": "Basic R",
    "section": "2.7 Copy file",
    "text": "2.7 Copy file\nThe file_copy() function from the fs package copies files from one location to another.\n\n\nCode\nlibrary(fs)\nfile_copy(\"test.csv\", \"test2.csv\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#find-folder-name-with-upper-case-letter",
    "href": "intro/1 basic R.html#find-folder-name-with-upper-case-letter",
    "title": "Basic R",
    "section": "2.8 find folder name with Upper Case letter",
    "text": "2.8 find folder name with Upper Case letter\n\n\nCode\nroot_path &lt;- \".\" # or \"c:/my_project\", \"~/GitHub\", etc.\n\n## ==== STEP 1 : find folders with uppercase ----------------------------\ndirs &lt;- list.dirs(root_path, recursive = FALSE, full.names = FALSE)\n\n## Drop the root itself so we don't try to rename it\ndirs &lt;- setdiff(dirs, root_path)\n\n## Posix-compliant: only paths whose last component has at least one A-Z\nneeds_rename &lt;- dirs[grepl(\"[A-Z]\", basename(dirs))]\n\nif (length(needs_rename) == 0) {\n    message(\"  no folder needs renaming\")\n    quit(save = \"no\")\n}\nneeds_rename",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#rename-folder-with-upper-case-letter-to-lower-case-letter",
    "href": "intro/1 basic R.html#rename-folder-with-upper-case-letter-to-lower-case-letter",
    "title": "Basic R",
    "section": "2.9 Rename folder with Upper Case letter to lower case letter",
    "text": "2.9 Rename folder with Upper Case letter to lower case letter\n\n\nCode\nfor (old_path in needs_rename) {\n    dir_name &lt;- basename(old_path)\n    new_name &lt;- tolower(dir_name)\n    parent_dir &lt;- dirname(old_path)\n    new_path &lt;- file.path(parent_dir, new_name)\n\n    # On case-insensitive filesystems (like macOS default), we can't\n    # rename 'A' to 'a' directly if 'a' is considered the same file as 'A'.\n    # We rename to a temporary name first.\n    temp_path &lt;- file.path(parent_dir, paste0(\"temp__\", new_name))\n\n    # 1. Rename to a temporary name that is guaranteed not to exist (or clash)\n    rename_ok &lt;- file.rename(old_path, temp_path)\n\n    if (rename_ok) {\n        # 2. Rename from temporary to the final lowercase name\n        rename_ok &lt;- file.rename(temp_path, new_path)\n    }\n\n    message(sprintf(\n        \"%s -&gt; %s  %s\",\n        old_path,\n        new_path,\n        ifelse(rename_ok, \"✓\", \"✗ failed\")\n    ))\n}",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#download-file-from-the-internet",
    "href": "intro/1 basic R.html#download-file-from-the-internet",
    "title": "Basic R",
    "section": "2.10 Download file from the internet",
    "text": "2.10 Download file from the internet\nThe download.file() function downloads a file from a given URL.\n\n\nCode\nurl &lt;- \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-11/hotels.csv\"\n\ndownload.file(url = url, destfile = \"hotels.csv\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#download-table-from-the-internet",
    "href": "intro/1 basic R.html#download-table-from-the-internet",
    "title": "Basic R",
    "section": "2.11 Download table from the internet",
    "text": "2.11 Download table from the internet\nThis code scrapes a table from a Wikipedia page. It uses rvest to read the HTML content, html_table to extract tables, janitor::clean_names to clean up column names, and dplyr verbs (filter, mutate) to clean the data.\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(janitor)\n\nnba_wiki_url &lt;- \"https://en.wikipedia.org/wiki/List_of_NBA_champions\"\n\nnba_wiki_data001 &lt;- nba_wiki_url %&gt;%\n    read_html() %&gt;%\n    html_table()\n\nnba_wiki_data002 &lt;- nba_wiki_data001[[2]] %&gt;% clean_names()\n\nnba_wiki_data003 &lt;- nba_wiki_data002 %&gt;%\n    filter(!row_number() %in% c(1, 5)) %&gt;%\n    mutate(year = str_sub(year, 1, 4))\n\ntail(nba_wiki_data003)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#for-loop",
    "href": "intro/1 basic R.html#for-loop",
    "title": "Basic R",
    "section": "5.1 for Loop",
    "text": "5.1 for Loop\nA for loop iterates over a sequence of values.\n\n\nCode\nfor (x in 1:4) {\n    print(x)\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n\n\nbreak exits the loop prematurely.\n\n\nCode\nfor (x in 1:6) {\n    if (x == 4) {\n        break\n    }\n    print(x)\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n\n\nnext skips the current iteration and proceeds to the next one.\n\n\nCode\nfor (x in 1:6) {\n    if (x == 4) {\n        next\n    }\n    print(x)\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 5\n[1] 6",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#using-map-function-for-loops",
    "href": "intro/1 basic R.html#using-map-function-for-loops",
    "title": "Basic R",
    "section": "5.2 Using map() function for loops",
    "text": "5.2 Using map() function for loops\nThe map functions from the purrr package (part of tidyverse) provide a more functional approach to iteration. map returns a list, map_dbl returns a numeric vector, and map_chr returns a character vector.\n\n\nCode\nlibrary(tidyverse)\n\n\n\n\nCode\nmap(\n    1:3,\n    \\(x) x + 2\n)\n\n\n[[1]]\n[1] 3\n\n[[2]]\n[1] 4\n\n[[3]]\n[1] 5\n\n\n\n\nCode\nmap_dbl(\n    1:3,\n    \\(x) x + 2\n)\n\n\n[1] 3 4 5\n\n\n\n\nCode\nmap_chr(\n    1:3,\n    \\(x) as.character(x + 2)\n)\n\n\n[1] \"3\" \"4\" \"5\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#error-handling-in-a-for-loop-printing-out-errors",
    "href": "intro/1 basic R.html#error-handling-in-a-for-loop-printing-out-errors",
    "title": "Basic R",
    "section": "5.3 Error handling in a for loop: printing out errors",
    "text": "5.3 Error handling in a for loop: printing out errors\nYou can use tryCatch inside a loop to handle errors on a per-iteration basis.\n\n\nCode\nstuff &lt;- list(12, 9, 2, \"cat\", 25, 10, \"bird\")\n\nloop_num &lt;- 0\nfor (i in 1:6) {\n    loop_num &lt;- loop_num + 1\n    tryCatch(print(1 + i), error = function(e) {\n        message(paste(\"An error occurred for loop num\", loop_num, \":\\n\"), e)\n    })\n}\n\n\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#while-loop",
    "href": "intro/1 basic R.html#while-loop",
    "title": "Basic R",
    "section": "5.4 while Loop",
    "text": "5.4 while Loop\nA while loop continues as long as a condition is true.\n\n\nCode\ni &lt;- 1\nwhile (i &lt; 6) {\n    print(i)\n    i &lt;- i + 1\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#error-handling-in-a-while-loop-retrying-until-the-error-is-gone",
    "href": "intro/1 basic R.html#error-handling-in-a-while-loop-retrying-until-the-error-is-gone",
    "title": "Basic R",
    "section": "5.5 Error handling in a while loop: retrying until the error is gone",
    "text": "5.5 Error handling in a while loop: retrying until the error is gone\nThis example shows a while loop that attempts to run code that causes an error. The tryCatch block catches the error and modifies a variable, allowing the loop to eventually terminate.\n\n\nCode\ni &lt;- 0\na &lt;- 0\nwhile (i &lt; 4) {\n    a &lt;- a + 1\n    print(i)\n    tryCatch(\n        {\n            asdfgaergae5gh5hae5h # This will cause an error\n            i &lt;- i + 1\n        },\n        error = function(msg) {\n            print(\"eeeeeeee\")\n            i &lt;- i - 1\n            print(paste0(\"new i : \", i))\n        }\n    )\n    if (a &gt; 10) {\n        break\n    } # Safety break to prevent an infinite loop\n}\n\n\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#without-arguments",
    "href": "intro/1 basic R.html#without-arguments",
    "title": "Basic R",
    "section": "6.1 Without Arguments",
    "text": "6.1 Without Arguments\nThis defines and calls a simple function that takes no arguments.\n\n\nCode\nmy_function &lt;- function() {\n    print(\"Hello World!\")\n}\n\nmy_function()\n\n\n[1] \"Hello World!\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#with-arguments",
    "href": "intro/1 basic R.html#with-arguments",
    "title": "Basic R",
    "section": "6.2 With Arguments",
    "text": "6.2 With Arguments\nThis function takes one argument, x, and returns its value plus 10.\n\n\nCode\nadding_ten &lt;- function(x) {\n    a &lt;- x + 10\n    return(a)\n}\n\nadding_ten(5)\n\n\n[1] 15",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#with-default-arguments",
    "href": "intro/1 basic R.html#with-default-arguments",
    "title": "Basic R",
    "section": "6.3 With default Arguments",
    "text": "6.3 With default Arguments\nThis function has a default value for x. If the function is called without an argument for x, the default value of 10 is used.\n\n\nCode\nadding_ten &lt;- function(x = 10) {\n    a &lt;- x + 10\n    return(a)\n}\n\nadding_ten()\n\n\n[1] 20",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-function-arguments",
    "href": "intro/1 basic R.html#check-function-arguments",
    "title": "Basic R",
    "section": "6.4 Check function Arguments",
    "text": "6.4 Check function Arguments\nThe args() function displays the arguments of a function.\n\n\nCode\nargs(adding_ten)\n\n\nfunction (x = 10) \nNULL",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#warning-in-function",
    "href": "intro/1 basic R.html#warning-in-function",
    "title": "Basic R",
    "section": "6.5 Warning in function",
    "text": "6.5 Warning in function\nThe warning() function issues a warning message without stopping the execution of the function.\n\n\nCode\nadding_ten &lt;- function(x = 10) {\n    a &lt;- x + 10\n    if (a &gt; 50) {\n        warning(\"it's better than 50\")\n    }\n    return(a)\n}\n\nadding_ten(100)\n\n\n[1] 110",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#stop-in-function",
    "href": "intro/1 basic R.html#stop-in-function",
    "title": "Basic R",
    "section": "6.6 Stop in function",
    "text": "6.6 Stop in function\nThe stop() function halts the execution of the function and prints an error message.\n\n\nCode\nadding_ten &lt;- function(x = 10) {\n    a &lt;- x + 10\n    if (a &gt; 50) {\n        stop(\"it's better than 50\")\n    }\n    return(a)\n}",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#use-try-to-bypass-errors",
    "href": "intro/1 basic R.html#use-try-to-bypass-errors",
    "title": "Basic R",
    "section": "6.7 Use try to bypass errors",
    "text": "6.7 Use try to bypass errors\nThe try() function is a simplified version of tryCatch. It runs an expression and if an error occurs, it returns an object of class try-error but allows the script to continue.\n\n\nCode\ntry(adding_ten(100))\n\n\n[1] 110\n\n\nCode\n5 + 10\n\n\n[1] 15",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#install-r-package",
    "href": "intro/1 basic R.html#install-r-package",
    "title": "Basic R",
    "section": "8.1 Install R package",
    "text": "8.1 Install R package\n\n8.1.1 Install from CRAN\ninstall.packages() is the standard way to install packages from CRAN.\n\n\nCode\ninstall.packages(\"dplyr\", repos = \"http://cran.us.r-project.org\")\n\n\n\n\n8.1.2 Install old version from CRAN\nThe remotes package allows you to install specific versions of packages.\n\n\nCode\nrequire(remotes)\ninstall_version(\"plotly\", version = \"4.10.2\")\n\n\n\n\n8.1.3 Install from Github\nThe pak package can install packages directly from GitHub repositories.\n\n\nCode\npak::pkg_install(\"tidymodels/learntidymodels\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-one-package-version",
    "href": "intro/1 basic R.html#check-one-package-version",
    "title": "Basic R",
    "section": "8.2 Check one package version",
    "text": "8.2 Check one package version\npackageVersion() returns the version of the specified package.\n\n\nCode\npackageVersion(\"tidyverse\")\n\n\n[1] '2.0.0'",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-location",
    "href": "intro/1 basic R.html#check-package-location",
    "title": "Basic R",
    "section": "8.3 Check package location",
    "text": "8.3 Check package location\npak::pkg_status() provides detailed information about a package, including its installation path.\n\n\nCode\npak::pkg_status(\"ggplot2\") |&gt; t()\n\n\n                  149                                                                                                               \nlibrary           \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"                                            \npackage           \"ggplot2\"                                                                                                         \nversion           \"4.0.0\"                                                                                                           \ntitle             \"Create Elegant Data Visualisations Using the Grammar of Graphics\"                                                \ndepends           \"R (&gt;= 4.1)\"                                                                                                      \nimports           \"cli, grDevices, grid, gtable (&gt;= 0.3.6), isoband, lifecycle (&gt;\\n        1.0.1), rlang (&gt;= 1.1.0), S7\" [truncated]\nlicense           \"MIT + file LICENSE\"                                                                                              \nneedscompilation  FALSE                                                                                                             \nrepository        \"CRAN\"                                                                                                            \nbuilt             \"R 4.5.0; ; 2025-09-11 10:00:15 UTC; unix\"                                                                        \nlinkingto         \"NA\"                                                                                                              \nsuggests          \"broom, covr, dplyr, ggplot2movies, hexbin, Hmisc, knitr,\\n        mapproj, maps, MASS, mgcv, multcom\" [truncated]\nremotetype        \"NA\"                                                                                                              \nremotepkgref      \"NA\"                                                                                                              \nremoteref         \"NA\"                                                                                                              \nremoterepos       \"NA\"                                                                                                              \nremotepkgplatform \"NA\"                                                                                                              \nremotesha         \"NA\"                                                                                                              \nremoteurl         \"NA\"                                                                                                              \npriority          \"NA\"                                                                                                              \nenhances          \"sp\"                                                                                                              \nremotehost        \"NA\"                                                                                                              \nremoterepo        \"NA\"                                                                                                              \nremoteusername    \"NA\"                                                                                                              \nbiocviews         \"NA\"                                                                                                              \nremotesubdir      \"NA\"                                                                                                              \nremotes           \"NA\"                                                                                                              \nmd5sum            \"NA\"                                                                                                              \nplatform          \"*\"                                                                                                               \nsysreqs           \"NA\"                                                                                                              \nref               \"installed::/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library/ggplot2\"                         \ntype              \"installed\"                                                                                                       \nstatus            \"OK\"                                                                                                              \nrversion          \"R 4.5.0\"                                                                                                         \nsources           character,0                                                                                                       \nrepotype          \"cran\"                                                                                                            \ndeps              tbl,5",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-dependencies",
    "href": "intro/1 basic R.html#check-package-dependencies",
    "title": "Basic R",
    "section": "8.4 Check package dependencies",
    "text": "8.4 Check package dependencies\npak::pkg_deps_tree() shows a tree of the dependencies for a given package.\n\n\nCode\npak::pkg_deps_tree(\"tibble\")\n\n\ntibble 3.3.0 ✨🔧\n├─cli 3.6.5 ✨🔧\n├─lifecycle 1.0.4 ✨\n│ ├─cli\n│ ├─glue 1.8.0 ✨🔧\n│ └─rlang 1.1.6 ✨🔧\n├─magrittr 2.0.4 ✨🔧 ⬇ (231.97 kB)\n├─pillar 1.11.1 ✨ ⬇ (660.11 kB)\n│ ├─cli\n│ ├─glue\n│ ├─lifecycle\n│ ├─rlang\n│ ├─utf8 1.2.6 ✨🔧\n│ └─vctrs 0.6.5 ✨🔧\n│   ├─cli\n│   ├─glue\n│   ├─lifecycle\n│   └─rlang\n├─pkgconfig 2.0.3 ✨\n├─rlang\n└─vctrs\n\nKey:  ✨ new |  ⬇ download | 🔧 compile",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-all-installed-packages",
    "href": "intro/1 basic R.html#check-all-installed-packages",
    "title": "Basic R",
    "section": "8.5 Check all installed packages",
    "text": "8.5 Check all installed packages\ninstalled.packages() returns a matrix of all installed packages. This code filters it and displays it in an interactive table using gt.\n\n\nCode\nlibrary(gt)\nip &lt;- as.data.frame(installed.packages()[, c(1, 3:4)])\nip &lt;- ip[is.na(ip$Priority), 1:2, drop = FALSE]\nip |&gt;\n    gt() |&gt;\n    opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-currently-loaded-packages",
    "href": "intro/1 basic R.html#check-currently-loaded-packages",
    "title": "Basic R",
    "section": "8.6 Check currently loaded packages",
    "text": "8.6 Check currently loaded packages\n.packages() returns a character vector of the packages that are currently loaded in your R session.\n\n\nCode\nlibrary(dplyr)\ninstalled_package &lt;- as.data.frame(installed.packages()[, c(1, 3:4)])\ninstalled_package &lt;- installed_package[\n    is.na(installed_package$Priority),\n    1:2,\n    drop = FALSE\n]\ninstalled_package |&gt;\n    filter(Package %in% (.packages())) |&gt;\n    gt() |&gt;\n    opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#list-all-packages-on-cran",
    "href": "intro/1 basic R.html#list-all-packages-on-cran",
    "title": "Basic R",
    "section": "8.7 List all packages on CRAN",
    "text": "8.7 List all packages on CRAN\navailable.packages() returns a matrix of all packages available on CRAN.\n\n\nCode\ncran_package_num &lt;- available.packages(repos = \"http://cran.us.r-project.org\") |&gt;\n    as.data.frame()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-local-installed-old-packages-compared-with-cran",
    "href": "intro/1 basic R.html#check-local-installed-old-packages-compared-with-cran",
    "title": "Basic R",
    "section": "8.8 Check local installed old packages compared with CRAN",
    "text": "8.8 Check local installed old packages compared with CRAN\nold.packages() checks for installed packages that have newer versions available on CRAN.\n\n\nCode\nold.packages(repos = \"http://cran.us.r-project.org\") |&gt;\n    as.data.frame() |&gt;\n    head(10) |&gt;\n    gt::gt()\n\n\n\n\n\n\n\n\nPackage\nLibPath\nInstalled\nBuilt\nReposVer\nRepository\n\n\n\n\nanytime\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.3.11\n4.5.0\n0.3.12\nhttp://cran.us.r-project.org/src/contrib\n\n\nav\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.9.4\n4.5.0\n0.9.6\nhttp://cran.us.r-project.org/src/contrib\n\n\nBiocManager\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n1.30.26\n4.5.0\n1.30.27\nhttp://cran.us.r-project.org/src/contrib\n\n\nbmp\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.3\n4.5.0\n0.3.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nbookdown\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.43\n4.5.0\n0.45\nhttp://cran.us.r-project.org/src/contrib\n\n\nboot\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n1.3-31\n4.5.1\n1.3-32\nhttp://cran.us.r-project.org/src/contrib\n\n\nbrulee\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.5.0\n4.5.0\n0.6.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nchattr\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.3.0\n4.5.1\n0.3.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ncollections\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n0.3.8\n4.5.0\n0.3.9\nhttp://cran.us.r-project.org/src/contrib\n\n\ncolorspace\n/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\n2.1-1\n4.5.0\n2.1-2\nhttp://cran.us.r-project.org/src/contrib",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-all-installed-packages",
    "href": "intro/1 basic R.html#update-all-installed-packages",
    "title": "Basic R",
    "section": "8.9 Update all installed packages",
    "text": "8.9 Update all installed packages\nupdate.packages() updates all installed packages to their latest versions.\n\n\nCode\nupdate.packages(ask = FALSE, checkBuilt = TRUE)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-install-location",
    "href": "intro/1 basic R.html#check-package-install-location",
    "title": "Basic R",
    "section": "8.10 Check package install location",
    "text": "8.10 Check package install location\n.libPaths() shows the library paths where R packages are installed.\n\n\nCode\n.libPaths()\n\n\n[1] \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#initialize-renv-and-create-renv.lock-with-currently-loaded-packages",
    "href": "intro/1 basic R.html#initialize-renv-and-create-renv.lock-with-currently-loaded-packages",
    "title": "Basic R",
    "section": "9.1 Initialize renv and create renv.lock with currently loaded packages",
    "text": "9.1 Initialize renv and create renv.lock with currently loaded packages\nrenv::init() initializes renv in a project, creating a private library and a renv.lock file that records the package versions used.\n\n\nCode\nrenv::init()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-lock-file",
    "href": "intro/1 basic R.html#update-lock-file",
    "title": "Basic R",
    "section": "9.2 Update lock file",
    "text": "9.2 Update lock file\nrenv::snapshot() updates the renv.lock file to reflect the current state of the project’s library.\n\n\nCode\nrenv::snapshot()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#make-all-current-package-versions-back-to-the-renv-list",
    "href": "intro/1 basic R.html#make-all-current-package-versions-back-to-the-renv-list",
    "title": "Basic R",
    "section": "9.3 Make all current package versions back to the renv list",
    "text": "9.3 Make all current package versions back to the renv list\nrenv::restore() restores the project library to the state recorded in renv.lock.\n\n\nCode\nrenv::restore()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#select-python-version",
    "href": "intro/1 basic R.html#select-python-version",
    "title": "Basic R",
    "section": "14.1 Select Python version",
    "text": "14.1 Select Python version\nreticulate::py_available() checks if Python is available, and reticulate::py_config() shows the Python configuration that reticulate is using.\n\n\nCode\nreticulate::py_available()\n\n\n[1] FALSE\n\n\n\n\nCode\nreticulate::py_config()\n\n\npython:         /Library/Frameworks/Python.framework/Versions/3.13/bin/python3\nlibpython:      /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/config-3.13-darwin/libpython3.13.dylib\npythonhome:     /Library/Frameworks/Python.framework/Versions/3.13:/Library/Frameworks/Python.framework/Versions/3.13\nversion:        3.13.2 (v3.13.2:4f8bb3947cf, Feb  4 2025, 11:51:10) [Clang 15.0.0 (clang-1500.3.9.4)]\nnumpy:          /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/numpy\nnumpy_version:  2.2.6\n\nNOTE: Python version was forced by use_python() function",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#run-python-in-r",
    "href": "intro/1 basic R.html#run-python-in-r",
    "title": "Basic R",
    "section": "14.2 Run Python in R",
    "text": "14.2 Run Python in R\nsource_python() executes a Python script and makes its objects available in the R environment.\n\n\nCode\nsource_python(\"flights.py\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html",
    "href": "Plot/Map/3 leaflet US.html",
    "title": "US State GDP Map",
    "section": "",
    "text": "This document demonstrates how to create a choropleth map of the United States, where each state is colored based on its per capita GDP in 2022. We will use the leaflet package in R to create the interactive map.",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data",
    "href": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data",
    "title": "US State GDP Map",
    "section": "1.1 Loading Geospatial and GDP Data",
    "text": "1.1 Loading Geospatial and GDP Data\nWe will load the US states geospatial data from a GeoJSON file and the GDP data from an Excel file.\n{ r} # Load the US states map data from the maps package. library(maps) mapStates = map(\"state\", fill = TRUE, plot = FALSE)\nUS location data: { r} # Read the US states GeoJSON file. json_data=read_sf(\"us-states.json\")\n{ r} # Convert the sf object to a data frame. map_df &lt;- as.data.frame(json_data)\n{ r} # Get a glimpse of the mapStates data. glimpse(mapStates)\nUS 2022 GDP data:\n```{ r} # Load the openxlsx and readxl packages for reading Excel files. library(openxlsx) library(readxl)",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data",
    "href": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data",
    "title": "US State GDP Map",
    "section": "2.1 Merging and Preparing the Data",
    "text": "2.1 Merging and Preparing the Data\nWe will merge the geospatial data with the GDP data.\n{ r} # Merge the map data with the GDP data by state name. map_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"names\")\n{ r} # Get a glimpse of the merged data. glimpse(map_df002)\n{ r} # Convert the merged data frame back to an sf object. map_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data-1",
    "href": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data-1",
    "title": "US State GDP Map",
    "section": "6.1 Loading Geospatial and GDP Data",
    "text": "6.1 Loading Geospatial and GDP Data\nWe will load the US states geospatial data from a GeoJSON file and the GDP data from an Excel file.\n{ r} # Load the US states map data from the maps package. library(maps) mapStates = map(\"state\", fill = TRUE, plot = FALSE)\nUS location data: { r} # Read the US states GeoJSON file. json_data=read_sf(\"us-states.json\")\n{ r} # Convert the sf object to a data frame. map_df &lt;- as.data.frame(json_data)\n{ r} # Get a glimpse of the mapStates data. glimpse(mapStates)\nUS 2022 GDP data:\n```{ r} # Load the openxlsx and readxl packages for reading Excel files. library(openxlsx) library(readxl)",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data-1",
    "href": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data-1",
    "title": "US State GDP Map",
    "section": "7.1 Merging and Preparing the Data",
    "text": "7.1 Merging and Preparing the Data\nWe will merge the geospatial data with the GDP data.\n{ r} # Merge the map data with the GDP data by state name. map_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"names\")\n{ r} # Get a glimpse of the merged data. glimpse(map_df002)\n{ r} # Convert the merged data frame back to an sf object. map_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html",
    "href": "Plot/Map/4 HK whisky bar.html",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "",
    "text": "This document demonstrates how to create an interactive map of whisky bars in Hong Kong using the leaflet and tidygeocoder packages in R. We will start by creating a dataset of whisky bars, then geocode their addresses to obtain latitude and longitude coordinates, and finally create a map with custom markers, popups, and labels.",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html#map-1-markers-with-custom-icons",
    "href": "Plot/Map/4 HK whisky bar.html#map-1-markers-with-custom-icons",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "3.1 Map 1: Markers with Custom Icons",
    "text": "3.1 Map 1: Markers with Custom Icons\nWe can use the bar logos as custom icons for the markers on the map.\n\n\nCode\n# Create a list of custom icons from the logo URLs\nleafIcons &lt;- icons(data002$bar_logo, iconWidth = 60, iconHeight = 50)\n\n# Create the leaflet map\nm &lt;- leaflet() %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # Add markers to the map using the custom icons\n  addMarkers(lng=data002$longitude, lat=data002$latitude, icon = leafIcons)\n \n# Display the map\nm",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html#map-2-markers-with-popups",
    "href": "Plot/Map/4 HK whisky bar.html#map-2-markers-with-popups",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "3.2 Map 2: Markers with Popups",
    "text": "3.2 Map 2: Markers with Popups\nPopups are useful for displaying information when a user clicks on a marker.\n\n\nCode\n# Create a leaflet map\nm &lt;- leaflet(height=2000, width=2000) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # Add popups that appear on click, showing the bar's name\n  addPopups(lng=data002$longitude, lat=data002$latitude, data002$bar_name,\n             options = popupOptions(closeButton = FALSE) # Optionally remove the close button\n            )\n \n# Display the map\nm",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html#map-3-markers-with-permanent-labels",
    "href": "Plot/Map/4 HK whisky bar.html#map-3-markers-with-permanent-labels",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "3.3 Map 3: Markers with Permanent Labels",
    "text": "3.3 Map 3: Markers with Permanent Labels\nUnlike popups, labels can be configured to be always visible, which is great for labeling a small number of locations directly on the map.\n\n\nCode\n# Create a leaflet map\nm &lt;- leaflet(height=2500, width=2000) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # Add markers with labels\n  addMarkers(\n    lng=data002$longitude, lat=data002$latitude,\n    label = data002$bar_name, # Set the label text\n    # Configure label options\n    labelOptions = labelOptions(noHide = TRUE, direction = \"bottom\", # Make label permanently visible below the marker\n      style = list( # Apply custom CSS styling to the label\n        \"color\" = \"red\",\n        \"font-family\" = \"serif\",\n        \"font-style\" = \"italic\",\n        \"box-shadow\" = \"2px 2px rgba(0,0,0,0.25)\",\n        \"font-size\" = \"12px\",\n        \"border-color\" = \"rgba(0,0,0,0.5)\"\n      )))\n\n# Display the map\nm",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html",
    "href": "Plot/Map/2 China accident map with mapview.html",
    "title": "China accident map",
    "section": "",
    "text": "This document demonstrates how to create an interactive map of accidents in China using the mapview package in R. The data is sourced from the chinese_incident_tracker GitHub repository, which contains a collection of incident reports.",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#loading-a-single-file",
    "href": "Plot/Map/2 China accident map with mapview.html#loading-a-single-file",
    "title": "China accident map",
    "section": "1.1 Loading a Single File",
    "text": "1.1 Loading a Single File\nWe start by loading a single JSON file to understand its structure.\n\n\nCode\n# You can uncomment these lines to download the file from the URL.\n# url &lt;- \"https://raw.githubusercontent.com/percent4/chinese_incident_tracker/main/elk/data/00105670-df53-4be8-9039-8a07fe2d2b4d.json\"\n# download.file(url,\"./data/SAFI.json\", mode = \"wb\")\n\n\n\n\nCode\n# Read the JSON file into a list.\ndata001 &lt;- read_json(\"./data/SAFI.json\")\n\n\n\n\nCode\n# Convert the list to a data frame and rename the coordinate columns.\ndata002=data001 %&gt;% as.data.frame()\ncolnames(data002)[14] = \"latitude\"\ncolnames(data002)[15] = \"longitude\"\n# Get a glimpse of the data frame.\nglimpse(data002)\n\n\nRows: 1\nColumns: 22\n$ item_id            &lt;chr&gt; \"00105670-df53-4be8-9039-8a07fe2d2b4d\"\n$ news_channel       &lt;chr&gt; \"新闻坊\"\n$ title              &lt;chr&gt; \"一养老院突发火灾，已致3死10伤！\"\n$ report             &lt;chr&gt; \"4月4日\\n\\n“东莞应急管理”\\n\\n发布情况通报\\n\\n↓↓↓\\n\\n4月4日4时21分，东莞万…\n$ original_websites  &lt;chr&gt; \"https://mp.weixin.qq.com/s/xUZR8gZ_N0UqGj0GvH6L8A\"\n$ start_date         &lt;chr&gt; \"2024-04-04\"\n$ start_time         &lt;chr&gt; \"2024-04-04 04:21:00\"\n$ update_time        &lt;chr&gt; \"2024-05-03 10:50:01\"\n$ incident_type      &lt;chr&gt; \"火灾\"\n$ incident_reason    &lt;chr&gt; \"该建筑为一栋11层楼房，起火部位为第三层303房，过火面积约20平方米。\"…\n$ person_death_num   &lt;int&gt; 3\n$ person_injury_num  &lt;int&gt; 10\n$ person_missing_num &lt;int&gt; 0\n$ latitude           &lt;dbl&gt; 113.6952\n$ longitude          &lt;dbl&gt; 23.07464\n$ place              &lt;chr&gt; \"东莞万江街道康怡护理院（公助民办养老院）\"\n$ province           &lt;chr&gt; \"广东省\"\n$ city               &lt;chr&gt; \"东莞市\"\n$ county             &lt;chr&gt; \"\"\n$ town               &lt;chr&gt; \"万江街道\"\n$ village            &lt;chr&gt; \"\"\n$ is_final           &lt;lgl&gt; TRUE",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#loading-all-files",
    "href": "Plot/Map/2 China accident map with mapview.html#loading-all-files",
    "title": "China accident map",
    "section": "1.2 Loading All Files",
    "text": "1.2 Loading All Files\nNow, we will load all the JSON files from the repository.\n\n\nCode\n# You can uncomment these lines to download the entire repository as a zip file.\n# url=\"https://github.com/percent4/chinese_incident_tracker/archive/refs/heads/main.zip\"\n# download.file(url,\"./data/data.zip\", mode = \"wb\")\n\n\n\n\nCode\n# You can uncomment this line to unzip the downloaded file.\n# unzip(\"./data/data.zip\",exdir=\"./data/out\")\n\n\n\n\nCode\n# Copy the JSON files from the unzipped folder to a new folder.\nfrom &lt;- \"./data/out/chinese_incident_tracker-main/elk/data\"\nto   &lt;- \"./data/json_folder\"\nfile.copy(list.files(from, full.names = TRUE), \n          to, \n          recursive = TRUE)\n\n\n [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n\n\n\n\nCode\n# You can uncomment this line to list the files in the new folder.\n# list.files(\"./data/json_folder\")\n\n\n\n\nCode\n# Create an empty tibble to store all the data.\nall_data=tibble()\n\n# Loop through each JSON file in the folder.\nfor (i in list.files(\"./data/json_folder\")) {\n  # Read the JSON file.\n  data001=read_json(paste0(\"./data/json_folder/\",i))\n  # Convert the list to a data frame.\n  data002=data001 %&gt;% as.data.frame()\n  # Rename the coordinate columns.\n  colnames(data002)[14] = \"Longitude\"\n  colnames(data002)[15] = \"Latitude\"\n  # Bind the data to the main tibble.\n  all_data=rbind(all_data,data002)\n}\n\n\n\n\nCode\n# Create a text column for the map labels and a month_year column for charting.\nall_data=all_data %&gt;% mutate(text=paste0(incident_type,\" \",\"死亡人数:\",person_death_num,\" 受伤人数:\",person_injury_num)\n                             ,month_year= format_ISO8601(ymd(start_date), precision = \"ym\")\n                             )\n\n\n\n\nCode\n# Get a glimpse of the final data frame.\nglimpse(all_data)\n\n\nRows: 60\nColumns: 24\n$ item_id            &lt;chr&gt; \"00105670-df53-4be8-9039-8a07fe2d2b4d\", \"0683ba1e-7…\n$ news_channel       &lt;chr&gt; \"新闻坊\", \"中国新闻网\", \"凤凰网\", \"搜狐网\", \"每日经济新闻\", \"中国新闻网\", \"杭…\n$ title              &lt;chr&gt; \"一养老院突发火灾，已致3死10伤！\", \"江西于都一矿企发生事故 致3死2伤\", \"#云南镇雄突发山…\n$ report             &lt;chr&gt; \"4月4日\\n\\n“东莞应急管理”\\n\\n发布情况通报\\n\\n↓↓↓\\n\\n4月4日4时21分，东莞万…\n$ original_websites  &lt;chr&gt; \"https://mp.weixin.qq.com/s/xUZR8gZ_N0UqGj0GvH6L8A\"…\n$ start_date         &lt;chr&gt; \"2024-04-04\", \"2024-04-24\", \"2024-01-22\", \"2024-02-…\n$ start_time         &lt;chr&gt; \"2024-04-04 04:21:00\", \"2024-04-24 00:08:48\", \"2024…\n$ update_time        &lt;chr&gt; \"2024-05-03 10:50:01\", \"2024-05-03 00:08:48\", \"2024…\n$ incident_type      &lt;chr&gt; \"火灾\", \"溃水\", \"山体滑坡\", \"房屋坍塌\", \"燃气爆炸\", \"火灾\", \"摔伤\", \"摔伤…\n$ incident_reason    &lt;chr&gt; \"该建筑为一栋11层楼房，起火部位为第三层303房，过火面积约20平方米。\", \"企业清理排洪隧洞时溃…\n$ person_death_num   &lt;int&gt; 3, 3, 44, 1, 7, 4, 1, 1, 7, 1, 18, 4, 5, 1, 15, 12,…\n$ person_injury_num  &lt;int&gt; 10, 2, 2, 0, 27, 4, 0, 0, 0, 11, 1155, 0, 3, 2, 44,…\n$ person_missing_num &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 6, 0, …\n$ Longitude          &lt;dbl&gt; 113.69524, 115.32158, 104.95514, 113.28304, 116.808…\n$ Latitude           &lt;dbl&gt; 23.07464, 25.72126, 27.49063, 32.22574, 39.95258, 4…\n$ place              &lt;chr&gt; \"东莞万江街道康怡护理院（公助民办养老院）\", \"于都县龙鑫矿业有限公司选矿厂\", \"云南省昭通市镇雄…\n$ province           &lt;chr&gt; \"广东省\", \"江西省\", \"云南省\", \"湖北省\", \"河北省\", \"内蒙古自治区\", \"新疆维吾尔…\n$ city               &lt;chr&gt; \"东莞市\", \"赣州市\", \"昭通市\", \"随州市\", \"廊坊市\", \"呼和浩特市\", \"伊犁哈萨克自…\n$ county             &lt;chr&gt; \"\", \"于都县\", \"镇雄县\", \"随县\", \"三河市\", \"新城区\", \"富蕴县\", \"富蕴县\",…\n$ town               &lt;chr&gt; \"万江街道\", \"祁禄山镇\", \"塘房镇\", \"万和镇\", \"燕郊镇\", \"\", \"\", \"\", \"宁…\n$ village            &lt;chr&gt; \"\", \"金沙村\", \"\", \"\", \"小张各庄\", \"\", \"\", \"\", \"乔家沟\", \"\", \"…\n$ is_final           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…\n$ text               &lt;chr&gt; \"火灾 死亡人数:3 受伤人数:10\", \"溃水 死亡人数:3 受伤人数:2\", \"山体滑坡 死亡人数…\n$ month_year         &lt;chr&gt; \"2024-04\", \"2024-04\", \"2024-01\", \"2024-02\", \"2024-0…\n\n\n\n\nCode\n# You can uncomment this line to save the data to an Excel file.\n# write.xlsx(all_data,'all_data.xlsx')",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#grouping-by-month",
    "href": "Plot/Map/2 China accident map with mapview.html#grouping-by-month",
    "title": "China accident map",
    "section": "2.1 Grouping by Month",
    "text": "2.1 Grouping by Month\nWe’ll group the data by month and summarize the number of deaths and injuries.\n\n\nCode\n# Group the data by month_year and summarize the number of deaths and injuries.\nchartdata001=all_data %&gt;% group_by(month_year)  %&gt;%  summarise(person_death_num=sum(person_death_num)\n                                                           ,person_injury_num=sum(person_injury_num)\n                                                           )",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#reshaping-the-data",
    "href": "Plot/Map/2 China accident map with mapview.html#reshaping-the-data",
    "title": "China accident map",
    "section": "2.2 Reshaping the Data",
    "text": "2.2 Reshaping the Data\nWe’ll reshape the data from a wide format to a long format for easier plotting.\n\n\nCode\n# Reshape the data from wide to long format.\nchartdata002=chartdata001 %&gt;%select(month_year,person_death_num,person_injury_num) %&gt;% \n  pivot_longer(!c(month_year), names_to = 'type', values_to = 'DATA')",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#creating-the-charts",
    "href": "Plot/Map/2 China accident map with mapview.html#creating-the-charts",
    "title": "China accident map",
    "section": "2.3 Creating the Charts",
    "text": "2.3 Creating the Charts\nWe’ll create a bar chart of the number of deaths per month and a grouped bar chart of both deaths and injuries.\n\n\nCode\n# Create a bar chart of the number of deaths per month.\ngg=ggplot(chartdata001, aes(x=month_year, y=person_death_num,label = person_death_num))+\n  geom_bar(stat=\"identity\",fill='red')+ geom_text(vjust = -1,\n              position = position_dodge(width = 0.9))+ theme_bw()\n\n# Convert the ggplot object to a plotly object for interactivity.\nggplotly(gg)\n\n\n\n\n\n\n\n\nCode\n# Create a grouped bar chart of the number of deaths and injuries per month.\ngg=ggplot(chartdata002, aes(fill=type, y=DATA, x=month_year)) +\n    geom_col(position = \"dodge\") +\n    geom_text(aes(label = DATA), vjust = 1.5,\n              position = position_dodge(width = 0.9))+scale_y_log10()+ theme_light()\n\n# Convert the ggplot object to a plotly object.\npp=ggplotly(gg)\n\n# Display the plotly object.\npp",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html",
    "href": "Plot/1 ggplot2.html",
    "title": "ggplot2 in R",
    "section": "",
    "text": "This document provides a comprehensive introduction to ggplot2, a powerful and popular data visualization package for the R programming language. We will explore the fundamental concepts of the “grammar of graphics,” which underpins ggplot2, and demonstrate how to create a wide variety of plots, from basic scatter and line charts to more advanced visualizations like maps and animations.\nggplot2 is built on the idea that you can build any plot from the same set of components: a data set, a coordinate system, and geoms (the visual marks that represent data points). You’ll learn how to combine these components to create elegant and informative graphics.\nCode\n# This code chunk installs the necessary packages for this tutorial.\n# You only need to run this once.\npak::pak(c(\n  'ggplot2',\n  'ggthemr',\n  'gganimate',\n  'patchwork',\n  'ggthemes',\n  'tidyverse',\n  'gapminder',\n  'ggpubr',\n  'plotly',\n  'magick',\n  'reshape2',\n  'sf',\n  'legendry'\n))\nggplot2 is an elegant and versatile data visualization package in R, based on the grammar of graphics. It allows you to build plots layer by layer, providing immense flexibility and control.",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#scatter-plot",
    "href": "Plot/1 ggplot2.html#scatter-plot",
    "title": "ggplot2 in R",
    "section": "Scatter Plot",
    "text": "Scatter Plot\nA scatter plot is one of the simplest and most common types of plots. It uses points to show the relationship between two continuous variables. We use geom_point() to create scatter plots.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill)) + geom_point()\np\n\n\n\n\n\n\n\n\n\n\nColor by Group\nWe can introduce a third variable to the plot by mapping it to an aesthetic. For example, we can color the points by the sex of the person who paid the bill.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + geom_point()\np\n\n\n\n\n\n\n\n\n\n\n\nSize by Group\nSimilarly, we can map a variable to the size aesthetic to represent another dimension. Here, we size the points by the size of the party.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, colour = sex, size = size)) +\n  geom_point()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#line-plot",
    "href": "Plot/1 ggplot2.html#line-plot",
    "title": "ggplot2 in R",
    "section": "Line Plot",
    "text": "Line Plot\nLine plots are used to visualize trends over a continuous variable, such as time. We use geom_line() for this.\nFirst, let’s aggregate the gapminder data to calculate the total population for each continent over the years.\n\n\nCode\ndata002 = data001 %&gt;%\n  group_by(continent, year) %&gt;%\n  summarise(pop = sum(pop), .groups = 'drop')\n\n\nNow, we can plot the population trend for Asia.\n\n\nCode\np = ggplot(data002 %&gt;% filter(continent == 'Asia'), aes(x = year, y = pop)) +\n  geom_line()\np\n\n\n\n\n\n\n\n\n\n\nChange Line Size\nYou can customize the appearance of the line by setting aesthetics within the geom_line() function.\n\n\nCode\np = ggplot(data002 %&gt;% filter(continent == 'Asia'), aes(x = year, y = pop)) +\n  geom_line(size = 2)\np\n\n\n\n\n\n\n\n\n\n\n\nColor by Group\nTo compare trends across different continents, we can map the continent variable to the color aesthetic.\n\n\nCode\np = ggplot(data002, aes(x = year, y = pop, colour = continent)) + geom_line()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#area-plot",
    "href": "Plot/1 ggplot2.html#area-plot",
    "title": "ggplot2 in R",
    "section": "Area Plot",
    "text": "Area Plot\nAn area plot is similar to a line plot, but the area under the line is filled in. This is useful for showing cumulative totals or magnitudes over time. We use geom_area().\n\n\nCode\np = ggplot(data002 |&gt; filter(continent == 'Asia'), aes(x = year, y = pop)) +\n  geom_area(fill = 'blue', alpha = 0.2)\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#histogram",
    "href": "Plot/1 ggplot2.html#histogram",
    "title": "ggplot2 in R",
    "section": "Histogram",
    "text": "Histogram\nA histogram displays the distribution of a single continuous variable by dividing the data into bins and showing the frequency of observations in each bin. We use geom_histogram().\nLet’s look at the distribution of GDP per capita in Asia and Africa in 1997.\n\n\nCode\ndata002 = data001 %&gt;% filter(year == 1997, continent %in% c('Asia', 'Africa'))\n\n\n\n\nCode\nggplot(data002, aes(x = gdpPercap)) +\n  geom_histogram()\n\n\n\n\n\n\n\n\n\n\nColor by Group\nWe can compare the distributions of different groups by using the fill aesthetic and setting position = 'dodge' to place the bars side-by-side.\n\n\nCode\nggplot(data002, aes(x = gdpPercap, fill = continent)) +\n  geom_histogram(position = 'dodge')",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#bar-chart",
    "href": "Plot/1 ggplot2.html#bar-chart",
    "title": "ggplot2 in R",
    "section": "Bar Chart",
    "text": "Bar Chart\nBar charts are used to display the relationship between a categorical variable and a continuous variable. geom_bar(stat=\"identity\") is used when you want the height of the bars to represent values in the data.\nLet’s look at the total population of each continent in 1997.\n\n\nCode\ndata002 = data001 %&gt;%\n  filter(year == 1997) %&gt;%\n  group_by(continent) %&gt;%\n  summarise(pop = sum(pop), .groups = 'drop')\n\n\n\n\nCode\nggplot(data002, aes(x = continent, y = pop)) +\n  geom_bar(stat = \"identity\") +\n  scale_y_continuous(labels = scales::comma)\n\n\n\n\n\n\n\n\n\n\nShow Numbers on Bars\nYou can add text labels to the bars using geom_text().\n\n\nCode\nggplot(data002, aes(x = continent, y = pop)) +\n  geom_bar(stat = \"identity\") +\n  scale_y_continuous(labels = scales::comma) +\n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\n\n\nChange Bar Color\nThe fill argument within geom_bar() controls the color of the bars.\n\n\nCode\nggplot(data002, aes(x = continent, y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') +\n  scale_y_continuous(labels = scales::comma) +\n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\n\n\nBar Plot Order\nYou can reorder the bars based on a variable using the reorder() function within the aes() mapping.\nOrder by population in ascending order:\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') +\n  scale_y_continuous(labels = scales::comma) +\n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\nOrder by population in descending order:\n\n\nCode\nggplot(data002, aes(x = reorder(continent, -pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') +\n  scale_y_continuous(labels = scales::comma) +\n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\n\n\nHorizontal Barplot\ncoord_flip() swaps the x and y axes, creating a horizontal bar plot.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') +\n  scale_y_continuous(labels = scales::comma) +\n  geom_text(aes(label = pop), vjust = -0.2) +\n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nAdjust Bar Transparency\nThe alpha aesthetic controls the transparency of the bars.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red', alpha = 0.5) +\n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nAdjust Bar Spacing to Axis\nscale_y_continuous(expand = ...) controls the space between the bars and the axis.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", alpha = 0.5, fill = 'red') +\n  coord_flip() +\n  scale_y_continuous(expand = expansion(mult = c(0, .1)))\n\n\n\n\n\n\n\n\n\n\n\nHighlight One Bar\nYou can use ifelse() within the fill aesthetic and scale_fill_manual() to highlight a specific bar.\n\n\nCode\nggplot(\n  data002,\n  aes(\n    x = reorder(continent, pop),\n    y = pop,\n    fill = factor(ifelse(continent == \"Asia\", \"Highlighted\", \"Normal\"))\n  )\n) +\n  geom_bar(stat = \"identity\", alpha = 0.8, show.legend = FALSE) +\n  scale_fill_manual(values = c(\"Highlighted\" = \"red\", \"Normal\" = \"grey50\")) +\n  coord_flip() +\n  scale_y_continuous(expand = expansion(mult = c(0, .1)))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#box-plot",
    "href": "Plot/1 ggplot2.html#box-plot",
    "title": "ggplot2 in R",
    "section": "Box Plot",
    "text": "Box Plot\nA box plot displays the distribution of a continuous variable across different categories. It shows the median, quartiles, and potential outliers. We use geom_boxplot().\n\n\nCode\np = ggplot(tips, aes(x = day, y = tip, fill = sex)) + geom_boxplot()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#strip-plot-jittered-points",
    "href": "Plot/1 ggplot2.html#strip-plot-jittered-points",
    "title": "ggplot2 in R",
    "section": "Strip Plot (Jittered Points)",
    "text": "Strip Plot (Jittered Points)\nA strip plot shows the distribution of a continuous variable for different categories by plotting individual points. geom_jitter() adds a small amount of random noise to the points to prevent overplotting.\n\n\nCode\np = ggplot(tips, aes(x = day, y = tip)) + geom_jitter()\np\n\n\n\n\n\n\n\n\n\n\nColor by Group\n\n\nCode\np = ggplot(tips, aes(x = day, y = tip, color = sex)) +\n  geom_jitter(position = position_jitterdodge())\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#titles-subtitles-and-captions",
    "href": "Plot/1 ggplot2.html#titles-subtitles-and-captions",
    "title": "ggplot2 in R",
    "section": "Titles, Subtitles, and Captions",
    "text": "Titles, Subtitles, and Captions\nYou can add a title, subtitle, and caption to your plot using ggtitle() and labs().\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  ggtitle(\"Tip by Sex\")\np\n\n\n\n\n\n\n\n\n\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  ggtitle(\"Tip by Sex\", subtitle = \"Subtitle of the plot\")\np\n\n\n\n\n\n\n\n\n\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  ggtitle(\"Tip by Sex\") +\n  labs(caption = \"This is a footnote\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#adjust-plot-size-and-text",
    "href": "Plot/1 ggplot2.html#adjust-plot-size-and-text",
    "title": "ggplot2 in R",
    "section": "Adjust Plot Size and Text",
    "text": "Adjust Plot Size and Text\nThe theme() function allows you to customize almost every aspect of your plot’s appearance. plot.margin controls the margins around the plot, and text controls the font size.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  ggtitle(\"Tip by Sex\") +\n  theme(plot.margin = margin(2, 2, 5, 5, \"cm\"))\np\n\n\n\n\n\n\n\n\n\nYou can also center the title and increase the overall text size.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  ggtitle(\"Tip by Sex\") +\n  labs(caption = \"This is a footnote\")\n\np +\n  theme(plot.title = element_text(hjust = 0.5), text = element_text(size = 15))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#change-axis-labels",
    "href": "Plot/1 ggplot2.html#change-axis-labels",
    "title": "ggplot2 in R",
    "section": "Change Axis Labels",
    "text": "Change Axis Labels\nYou can change the axis labels using xlab() and ylab(), or for more control, scale_x_continuous() and scale_y_continuous().\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  xlab(\"New X Name\") +\n  ylab(\"New Y Name\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#axis-limits-and-second-axis",
    "href": "Plot/1 ggplot2.html#axis-limits-and-second-axis",
    "title": "ggplot2 in R",
    "section": "Axis Limits and Second Axis",
    "text": "Axis Limits and Second Axis\n\nAxis Limits\nYou can set the limits of the x and y axes using xlim() and ylim().\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  scale_x_continuous(name = \"New X Name\") +\n  scale_y_continuous(name = \"New Y Name\")\np + xlim(min = 0, 20)\n\n\n\n\n\n\n\n\n\n\n\nAdding a Second Axis\nYou can add a secondary y-axis to your plot using sec_axis() within scale_y_continuous(). This is useful when you want to display two different variables with different scales on the same plot.\n\n\nCode\ndata002 = data001 %&gt;%\n  group_by(year, continent) %&gt;%\n  summarise(pop = sum(pop), lifeExp = mean(lifeExp), .groups = 'drop') %&gt;%\n  filter(continent == 'Asia')\n\n# We need a coefficient to scale the second variable to fit on the plot.\ncoeff = 1 / 40000000\n\np = ggplot(data002, aes(x = year, y = pop)) +\n  geom_col() +\n  geom_line(aes(y = lifeExp / coeff), size = 1, color = \"red\") +\n  scale_y_continuous(\n    \"Population\",\n    sec.axis = sec_axis(~ . * coeff, name = \"Life Expectancy\"),\n    labels = scales::comma\n  )\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#convert-ggplot-to-plotly-for-interactivity",
    "href": "Plot/1 ggplot2.html#convert-ggplot-to-plotly-for-interactivity",
    "title": "ggplot2 in R",
    "section": "Convert ggplot to Plotly for Interactivity",
    "text": "Convert ggplot to Plotly for Interactivity\nThe plotly package can convert your static ggplot2 plots into interactive, web-based visualizations with features like tooltips and zooming.\n\n\nCode\nlibrary(ggplot2)\nlibrary(plotly)\np = ggplot(data = tips, aes(x = tip, y = total_bill, color = sex)) +\n  geom_point() +\n  scale_x_continuous(name = \"New X Name\") +\n  scale_y_continuous(name = \"New Y Name\")\n\nggplotly(p)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#save-your-plots",
    "href": "Plot/1 ggplot2.html#save-your-plots",
    "title": "ggplot2 in R",
    "section": "Save Your Plots",
    "text": "Save Your Plots\nggsave() makes it easy to save your plots to a file. You can specify the filename, format, dimensions, and resolution.\n\n\nCode\np + theme_economist()\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"myplot.png\", width = 6, height = 4, units = \"in\", dpi = 300)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-images-to-your-charts",
    "href": "Plot/1 ggplot2.html#add-images-to-your-charts",
    "title": "ggplot2 in R",
    "section": "Add Images to Your Charts",
    "text": "Add Images to Your Charts\nThe magick package allows you to read and manipulate images, which you can then add to your ggplot2 plots using grid::grid.raster().\n\n\nCode\n# Add your company's logo to the graph you created\nlogo &lt;- image_read(\"images/logo1.png\")\n\np\ngrid::grid.raster(\n  logo,\n  x = 0.1,\n  y = 0,\n  just = c('left', 'bottom'),\n  width = unit(0.4, 'inches')\n)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#create-animated-plots-with-gganimate",
    "href": "Plot/1 ggplot2.html#create-animated-plots-with-gganimate",
    "title": "ggplot2 in R",
    "section": "Create Animated Plots with gganimate",
    "text": "Create Animated Plots with gganimate\nThe gganimate package extends ggplot2 to create stunning animations, which are great for showing changes over time.\n\n\nCode\nlibrary(gganimate)\n\n# Note: country_colors is not defined in the original code.\n# We will use the default ggplot2 color palette.\np = ggplot(\n  gapminder,\n  aes(x = gdpPercap, y = lifeExp, size = pop, colour = continent)\n) +\n  geom_point(alpha = 0.7, show.legend = FALSE) +\n  scale_size(range = c(2, 12)) +\n  scale_x_log10() +\n  labs(\n    title = 'Year: {as.integer(frame_time)}',\n    x = 'GDP per capita',\n    y = 'life expectancy'\n  ) +\n  transition_time(year) +\n  ease_aes('linear')\n\n# To render the animation, you would typically use `animate(p)` or `anim_save()`\nanimate(p)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#create-maps-with-ggplot2",
    "href": "Plot/1 ggplot2.html#create-maps-with-ggplot2",
    "title": "ggplot2 in R",
    "section": "Create Maps with ggplot2",
    "text": "Create Maps with ggplot2\nggplot2 can also be used to create maps. The sf package is commonly used for working with spatial data.\n\n\nCode\nlibrary(sf)\n\n# Data from https://geojson-maps.kyd.au/\ngeoj_data &lt;- read_sf(\"data/custom.geo.json\")\n\ngeoj_data_asia = geoj_data |&gt; filter(continent == \"Asia\")\n\nggplot() +\n  geom_sf(\n    data = geoj_data_asia,\n    aes(fill = income_grp),\n    linewidth = 0.2,\n    color = \"white\",\n    alpha = 1\n  )",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#patchwork-combining-multiple-plots",
    "href": "Plot/1 ggplot2.html#patchwork-combining-multiple-plots",
    "title": "ggplot2 in R",
    "section": "patchwork: Combining Multiple Plots",
    "text": "patchwork: Combining Multiple Plots\nThe patchwork package provides a simple and intuitive syntax for combining multiple ggplot2 plots into a single graphic.\n\n\nCode\nlibrary(patchwork)\n\np1 &lt;- ggplot(mtcars) + geom_point(aes(mpg, disp))\np2 &lt;- ggplot(mtcars) + geom_boxplot(aes(gear, disp, group = gear))\np3 &lt;- ggplot(mtcars) + geom_smooth(aes(disp, qsec))\np4 &lt;- ggplot(mtcars) + geom_bar(aes(carb))\n\n(p1 | p2 | p3) / p4",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#legendry-advanced-legend-customization",
    "href": "Plot/1 ggplot2.html#legendry-advanced-legend-customization",
    "title": "ggplot2 in R",
    "section": "legendry: Advanced Legend Customization",
    "text": "legendry: Advanced Legend Customization\nThe legendry package provides tools for creating more complex and customized legends.\n\n\nCode\n# pak::pak('legendry') # Uncomment to install\n\n\n\n\nCode\nlibrary(legendry)\n\nbase_plot &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +\n  geom_point() +\n  labs(\n    x = \"Engine displacement\",\n    y = \"Highway miles per gallon\",\n    col = \"City miles\nper gallon\"\n  ) +\n  theme(axis.line = element_line())\n\n# A partial guide to display a bracket\nefficient_bracket &lt;- primitive_bracket(\n  key = key_range_manual(start = 25, end = Inf, name = \"Efficient\"),\n  bracket = \"square\",\n  theme = theme(\n    legend.text = element_text(angle = 90, hjust = 0.5),\n    axis.text.y.left = element_text(angle = 90, hjust = 0.5)\n  )\n)\n\nbase_plot + guides(y = guide_axis_stack(\"axis\", efficient_bracket))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html",
    "href": "Plot/3 image processing.html",
    "title": "image processing",
    "section": "",
    "text": "This document provides a practical guide to image processing in R using the magick package. The magick package is a powerful and versatile tool for image manipulation, providing a wide range of functions for reading, writing, editing, and transforming images. It is built on top of the ImageMagick library, a robust and feature-rich image processing software.\nWe will cover the basics of reading and writing images, as well as more advanced topics like color manipulation, transformations, and adding text and borders. We will also explore how to integrate magick with ggplot2 to create more visually appealing and informative plots.\nCode\n# Load the magick library\nlibrary(magick)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#reading-an-image",
    "href": "Plot/3 image processing.html#reading-an-image",
    "title": "image processing",
    "section": "Reading an Image",
    "text": "Reading an Image\n\n\nCode\n# Read an image from a local file\nraw_logo &lt;- image_read('./images/comb.webp')",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#getting-image-information",
    "href": "Plot/3 image processing.html#getting-image-information",
    "title": "image processing",
    "section": "Getting Image Information",
    "text": "Getting Image Information\nThe image_info() function provides useful information about an image, such as its format, width, height, and colorspace.\n\n\nCode\nimage_info(raw_logo)\n\n\n  format width height colorspace matte filesize density\n1   WEBP   450    303       sRGB  TRUE    49650   72x72",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#changing-image-format",
    "href": "Plot/3 image processing.html#changing-image-format",
    "title": "image processing",
    "section": "Changing Image Format",
    "text": "Changing Image Format\nThe image_convert() function allows you to convert an image from one format to another.\n\n\nCode\nnew_png &lt;- image_convert(raw_logo, \"png\")\nimage_info(new_png)\n\n\n  format width height colorspace matte filesize density\n1    PNG   450    303       sRGB  TRUE        0   72x72",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#writing-an-image",
    "href": "Plot/3 image processing.html#writing-an-image",
    "title": "image processing",
    "section": "Writing an Image",
    "text": "Writing an Image\nThe image_write() function saves an image to a file. You can specify the path and format of the output file.\n\n\nCode\nimage_write(new_png, path = \"./images/new_png.png\", format = \"png\")",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#filling-with-color",
    "href": "Plot/3 image processing.html#filling-with-color",
    "title": "image processing",
    "section": "Filling with Color",
    "text": "Filling with Color\nThe image_fill() function can be used to fill areas of an image with a specified color. Here, we fill the white corners of the logo with green. The fuzz argument controls the tolerance of the color matching.\n\n\nCode\nimg_filled &lt;- raw_logo %&gt;% \n    image_fill(\"green\", \"+1+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"green\", \"+140+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"green\", \"+1+99\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"green\", \"+140+99\", fuzz = 50, refcolor = \"white\")\n\nimg_filled",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#rotating-an-image",
    "href": "Plot/3 image processing.html#rotating-an-image",
    "title": "image processing",
    "section": "Rotating an Image",
    "text": "Rotating an Image\nThe image_rotate() function rotates an image by a specified angle.\n\n\nCode\nimg_filled %&gt;% image_rotate(45)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-a-border",
    "href": "Plot/3 image processing.html#adding-a-border",
    "title": "image processing",
    "section": "Adding a Border",
    "text": "Adding a Border\nThe image_border() function adds a border to an image. You can specify the color and size of the border.\n\n\nCode\nimg_filled %&gt;% image_border(\"#CD5C5C\", \"20x20\")",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#making-a-background-transparent",
    "href": "Plot/3 image processing.html#making-a-background-transparent",
    "title": "image processing",
    "section": "Making a Background Transparent",
    "text": "Making a Background Transparent\nThe image_transparent() function makes a specified color transparent. This is useful for creating images with transparent backgrounds.\n\n\nCode\n# The fuzz argument (0-100) controls how similar colors need to be to be made transparent.\nb = img_filled %&gt;% image_transparent(color = 'green', fuzz = 10)\nb\n\n\n\n\n\n\n\n\n\nCode\nimage_write(b, path = \"images/b.png\", format = \"png\")",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adjusting-opacity",
    "href": "Plot/3 image processing.html#adjusting-opacity",
    "title": "image processing",
    "section": "Adjusting Opacity",
    "text": "Adjusting Opacity\nThe image_colorize() function can be used to adjust the opacity of an image.\n\n\nCode\nb = img_filled %&gt;% image_colorize(opacity = 80, color = 'white')\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adjusting-brightness",
    "href": "Plot/3 image processing.html#adjusting-brightness",
    "title": "image processing",
    "section": "Adjusting Brightness",
    "text": "Adjusting Brightness\nThe image_modulate() function can be used to adjust the brightness, saturation, and hue of an image.\n\n\nCode\nb = img_filled %&gt;% image_modulate(brightness = 30)\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#applying-a-blur-effect",
    "href": "Plot/3 image processing.html#applying-a-blur-effect",
    "title": "image processing",
    "section": "Applying a Blur Effect",
    "text": "Applying a Blur Effect\nThe image_blur() function applies a blur effect to an image. You can control the radius and sigma of the blur.\n\n\nCode\nb = img_filled %&gt;%  image_blur(10, 5)\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-text-to-an-image",
    "href": "Plot/3 image processing.html#adding-text-to-an-image",
    "title": "image processing",
    "section": "Adding Text to an Image",
    "text": "Adding Text to an Image\nThe image_annotate() function adds text to an image. You can specify the text, font, size, color, and gravity (position).\n\n\nCode\nb = img_filled %&gt;% image_annotate(\"The quick brown fox\", font = 'Times', size = 20, gravity = \"southwest\", color = \"red\")\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#resizing-an-image",
    "href": "Plot/3 image processing.html#resizing-an-image",
    "title": "image processing",
    "section": "Resizing an Image",
    "text": "Resizing an Image\nThe image_resize() and image_scale() functions can be used to resize an image. image_resize() allows you to specify the new dimensions, while image_scale() scales the image by a factor.\n\n\nCode\nb = img_filled %&gt;% image_resize(\"200x200\")\nb\n\n\n\n\n\n\n\n\n\nCode\nimage_info(b)\n\n\n  format width height colorspace matte filesize density\n1    PNG   200    143       sRGB  TRUE        0   72x72",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#creating-a-black-and-white-logo",
    "href": "Plot/3 image processing.html#creating-a-black-and-white-logo",
    "title": "image processing",
    "section": "Creating a Black and White Logo",
    "text": "Creating a Black and White Logo\nBy combining several magick functions, we can perform more complex image manipulations. Here, we create a black and white version of the logo with a transparent background.\n\n\nCode\nimg_filled2 &lt;- raw_logo %&gt;% \n    image_fill(\"transparent\", \"+1+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"transparent\", \"+140+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"transparent\", \"+1+99\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"transparent\", \"+140+99\", fuzz = 50, refcolor = \"white\")\n\nimg_filled2 %&gt;% \n    image_channel(\"Opacity\") %&gt;% \n    image_convert(matte = FALSE)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-a-background-image-to-a-plot",
    "href": "Plot/3 image processing.html#adding-a-background-image-to-a-plot",
    "title": "image processing",
    "section": "Adding a Background Image to a Plot",
    "text": "Adding a Background Image to a Plot\nWe can use annotation_custom() and rasterGrob() to add an image as the background of a ggplot2 plot.\n\n\nCode\nlibrary(ggplot2)\nlibrary(png)\nlibrary(grid)\n\nimg &lt;- readPNG(\"./images/new_png.png\")\n\nbees &lt;- data.frame(distance = c(0.5, 1, 1.5, 2, 2.5, 3),\n                  number = c(40, 34, 32, 22, 18, 10))\n\nggplot(data = bees, aes(x = distance, y = number)) +\n  annotation_custom(rasterGrob(img, \n                               width = unit(1, \"npc\"),\n                               height = unit(1, \"npc\")), \n                    -Inf, Inf, -Inf, Inf) +\n  geom_point() +\n  xlab(\"Distance (km)\") +\n  ylab(\"Number of Bees\") +\n  ylim(0, 45)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#replacing-scatter-points-with-images",
    "href": "Plot/3 image processing.html#replacing-scatter-points-with-images",
    "title": "image processing",
    "section": "Replacing Scatter Points with Images",
    "text": "Replacing Scatter Points with Images\nThe ggimage package provides geom_image(), which allows you to use images as points in a scatter plot.\n\n\nCode\nlibrary(ggimage)\n\nbees$image &lt;- \"./images/bee.png\"\n\nggplot(data = bees, aes(x = distance, y = number)) +\n  annotation_custom(rasterGrob(img, \n                               width = unit(1, \"npc\"),\n                               height = unit(1, \"npc\")), \n                    -Inf, Inf, -Inf, Inf) +\n  geom_image(aes(image = image), size = 0.15) +\n  xlab(\"Distance (km)\") +\n  ylab(\"Number of Bees\") +\n  ylim(0, 45)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-a-logo-to-a-plot",
    "href": "Plot/3 image processing.html#adding-a-logo-to-a-plot",
    "title": "image processing",
    "section": "Adding a Logo to a Plot",
    "text": "Adding a Logo to a Plot\nThe cowplot package provides ggdraw() and draw_image() which make it easy to add a logo or other images to your ggplot2 plots.\n\n\nCode\nlibrary(cowplot)\n\nimg2 = image_read(\"./images/logo1.png\")\n\np = ggplot(data = bees, aes(x = distance, y = number)) +\n  annotation_custom(rasterGrob(img, \n                               width = unit(1, \"npc\"),\n                               height = unit(1, \"npc\")), \n                    -Inf, Inf, -Inf, Inf) +\n  geom_image(aes(image = image), size = 0.15) +\n  xlab(\"Distance (km)\") +\n  ylab(\"Number of Bees\") +\n  ylim(0, 45)\n\nggdraw() + \n  draw_plot(p, x = 0, y = 0.15, width = 1, height = 0.85) + \n  draw_image(img2, x = 0.1, y = 0.1, width = 0.1, height = 0.1)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html",
    "href": "data manipulation/3 data manipulation with tidyverse.html",
    "title": "Data Manipulation with tidyverse",
    "section": "",
    "text": "The tidyverse is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures. This guide focuses on dplyr, tidyr, stringr, and lubridate, the core packages for data manipulation.",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#load-packages-and-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#load-packages-and-data",
    "title": "Data Manipulation with tidyverse",
    "section": "Load Packages and Data",
    "text": "Load Packages and Data\nFirst, we load the tidyverse suite of packages.\n\n\nCode\nlibrary(tidyverse)\n\n\nWe will use the built-in mtcars dataset. For clarity, we convert the row names to a proper column called car_name.\n\n\nCode\ndata(mtcars)\n\nsmall_mtcars &lt;- mtcars %&gt;% \n  select(cyl, mpg, hp) %&gt;% \n  head()\n\nsmall_mtcars &lt;- rownames_to_column(small_mtcars, var = \"car_name\")\n\nmtcars_df &lt;- mtcars %&gt;% \n  rownames_to_column(var = \"car_name\") %&gt;% \n  as_tibble() # Convert to a tibble for better printing\n\nhead(mtcars_df)\n\n\n# A tibble: 6 × 12\n  car_name       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Mazda RX4     21       6   160   110  3.9   2.62  16.5     0     1     4     4\n2 Mazda RX4 W…  21       6   160   110  3.9   2.88  17.0     0     1     4     4\n3 Datsun 710    22.8     4   108    93  3.85  2.32  18.6     1     1     4     1\n4 Hornet 4 Dr…  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1\n5 Hornet Spor…  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2\n6 Valiant       18.1     6   225   105  2.76  3.46  20.2     1     0     3     1",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#get-column-names",
    "href": "data manipulation/3 data manipulation with tidyverse.html#get-column-names",
    "title": "Data Manipulation with tidyverse",
    "section": "Get Column Names",
    "text": "Get Column Names\nThe names() function returns a character vector of the column names in a data frame.\n\n\nCode\nnames(mtcars_df)\n\n\n [1] \"car_name\" \"mpg\"      \"cyl\"      \"disp\"     \"hp\"       \"drat\"    \n [7] \"wt\"       \"qsec\"     \"vs\"       \"am\"       \"gear\"     \"carb\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-pick-columns-by-name",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-pick-columns-by-name",
    "title": "Data Manipulation with tidyverse",
    "section": "select(): Pick columns by name",
    "text": "select(): Pick columns by name\nselect() allows you to subset your data by choosing specific columns.\n\n\nCode\n# Select a few specific columns\nmtcars_df %&gt;% select(car_name, mpg, hp, cyl)\n\n\n# A tibble: 32 × 4\n   car_name            mpg    hp   cyl\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21     110     6\n 2 Mazda RX4 Wag      21     110     6\n 3 Datsun 710         22.8    93     4\n 4 Hornet 4 Drive     21.4   110     6\n 5 Hornet Sportabout  18.7   175     8\n 6 Valiant            18.1   105     6\n 7 Duster 360         14.3   245     8\n 8 Merc 240D          24.4    62     4\n 9 Merc 230           22.8    95     4\n10 Merc 280           19.2   123     6\n# ℹ 22 more rows\n\n\nUse helper functions like starts_with(), ends_with(), and contains() for powerful selections.\n\n\nCode\n# Select all columns that start with the letter \"d\"\nmtcars_df %&gt;% select(starts_with(\"d\"))\n\n\n# A tibble: 32 × 2\n    disp  drat\n   &lt;dbl&gt; &lt;dbl&gt;\n 1  160   3.9 \n 2  160   3.9 \n 3  108   3.85\n 4  258   3.08\n 5  360   3.15\n 6  225   2.76\n 7  360   3.21\n 8  147.  3.69\n 9  141.  3.92\n10  168.  3.92\n# ℹ 22 more rows\n\n\nUse the - sign to deselect or drop columns.\n\n\nCode\n# Select all columns except `vs` and `am`\nmtcars_df %&gt;% select(-vs, -am)\n\n\n# A tibble: 32 × 10\n   car_name            mpg   cyl  disp    hp  drat    wt  qsec  gear  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21       6  160    110  3.9   2.62  16.5     4     4\n 2 Mazda RX4 Wag      21       6  160    110  3.9   2.88  17.0     4     4\n 3 Datsun 710         22.8     4  108     93  3.85  2.32  18.6     4     1\n 4 Hornet 4 Drive     21.4     6  258    110  3.08  3.22  19.4     3     1\n 5 Hornet Sportabout  18.7     8  360    175  3.15  3.44  17.0     3     2\n 6 Valiant            18.1     6  225    105  2.76  3.46  20.2     3     1\n 7 Duster 360         14.3     8  360    245  3.21  3.57  15.8     3     4\n 8 Merc 240D          24.4     4  147.    62  3.69  3.19  20       4     2\n 9 Merc 230           22.8     4  141.    95  3.92  3.15  22.9     4     2\n10 Merc 280           19.2     6  168.   123  3.92  3.44  18.3     4     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-by-index",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-by-index",
    "title": "Data Manipulation with tidyverse",
    "section": "Select by Index",
    "text": "Select by Index\nYou can also select columns by their position.\n\n\nCode\nmtcars_df %&gt;% select(1, 2) \n\n\n# A tibble: 32 × 2\n   car_name            mpg\n   &lt;chr&gt;             &lt;dbl&gt;\n 1 Mazda RX4          21  \n 2 Mazda RX4 Wag      21  \n 3 Datsun 710         22.8\n 4 Hornet 4 Drive     21.4\n 5 Hornet Sportabout  18.7\n 6 Valiant            18.1\n 7 Duster 360         14.3\n 8 Merc 240D          24.4\n 9 Merc 230           22.8\n10 Merc 280           19.2\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#drop-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#drop-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "Drop Columns",
    "text": "Drop Columns\nUse the - sign to deselect or drop columns.\n\n\nCode\nmtcars_df %&gt;% select(-cyl)\n\n\n# A tibble: 32 × 11\n   car_name            mpg  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21    160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 Wag      21    160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710         22.8  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 Drive     21.4  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Sportabout  18.7  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant            18.1  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360         14.3  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D          24.4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230           22.8  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280           19.2  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#rename-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#rename-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "Rename Columns",
    "text": "Rename Columns\nThe rename() verb changes the name of a column.\n\n\nCode\nmtcars_df %&gt;% rename(new_cyl = cyl)\n\n\n# A tibble: 32 × 12\n   car_name    mpg new_cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4  21         6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX…  21         6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 7…  22.8       4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4…  21.4       6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet S…  18.7       8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant    18.1       6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 3…  14.3       8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D  24.4       4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230   22.8       4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280   19.2       6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#filter-pick-rows-by-condition",
    "href": "data manipulation/3 data manipulation with tidyverse.html#filter-pick-rows-by-condition",
    "title": "Data Manipulation with tidyverse",
    "section": "filter(): Pick rows by condition",
    "text": "filter(): Pick rows by condition\nfilter() subsets rows based on logical conditions. Only rows where the condition is TRUE are kept.\n\n\nCode\n# Filter for cars with 8 cylinders\nmtcars_df %&gt;% filter(cyl == 8)\n\n\n# A tibble: 14 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n11 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n\n\nCombine conditions with logical operators: - , or & for AND - | for OR - ! for NOT\n\n\nCode\n# Filter for 8-cylinder cars with more than 200 horsepower\nmtcars_df %&gt;% filter(cyl == 8 & hp &gt; 200)\n\n\n# A tibble: 7 × 12\n  car_name       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Duster 360    14.3     8   360   245  3.21  3.57  15.8     0     0     3     4\n2 Cadillac Fl…  10.4     8   472   205  2.93  5.25  18.0     0     0     3     4\n3 Lincoln Con…  10.4     8   460   215  3     5.42  17.8     0     0     3     4\n4 Chrysler Im…  14.7     8   440   230  3.23  5.34  17.4     0     0     3     4\n5 Camaro Z28    13.3     8   350   245  3.73  3.84  15.4     0     0     3     4\n6 Ford Panter…  15.8     8   351   264  4.22  3.17  14.5     0     1     5     4\n7 Maserati Bo…  15       8   301   335  3.54  3.57  14.6     0     1     5     8\n\n\nCode\n# Filter for cars that are either 8-cylinder OR have more than 300 horsepower\nmtcars_df %&gt;% filter(cyl == 8 | hp &gt; 300)\n\n\n# A tibble: 14 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n11 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#arrange-reorder-rows",
    "href": "data manipulation/3 data manipulation with tidyverse.html#arrange-reorder-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "arrange(): Reorder rows",
    "text": "arrange(): Reorder rows\narrange() sorts the rows of a data frame by one or more columns.\n\n\nCode\n# Sort cars by miles per gallon (mpg) in ascending order (the default)\nmtcars_df %&gt;% arrange(mpg)\n\n\n# A tibble: 32 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 2 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 3 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n 4 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 5 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 6 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n# ℹ 22 more rows\n\n\nUse desc() to sort in descending order.\n\n\nCode\n# Sort by cylinder count (desc) and then by mpg (desc) for tie-breaking\nmtcars_df %&gt;% arrange(desc(cyl), desc(mpg))\n\n\n# A tibble: 32 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n 2 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 3 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 4 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 5 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n 6 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n10 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#mutate-create-new-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#mutate-create-new-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "mutate(): Create new columns",
    "text": "mutate(): Create new columns\nmutate() adds new columns or transforms existing ones, while keeping all existing columns.\n\n\nCode\n# Create a new column for horsepower-to-weight ratio\nmtcars_df %&gt;% mutate(hp_per_wt = hp / wt)\n\n\n# A tibble: 32 × 13\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows\n# ℹ 1 more variable: hp_per_wt &lt;dbl&gt;\n\n\nUse case_when() for complex conditional logic, which is like a more powerful version of an if-else statement.\n\n\nCode\n# Create a column for cylinder category\nmtcars_df %&gt;% mutate(cyl_group = case_when(\n    cyl == 4 ~ \"Four-Cylinder\",\n    cyl == 6 ~ \"Six-Cylinder\",\n    cyl == 8 ~ \"Eight-Cylinder\",\n    TRUE ~ \"Other\" # Fallback for any other case\n  ))\n\n\n# A tibble: 32 × 13\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows\n# ℹ 1 more variable: cyl_group &lt;chr&gt;",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#summarise-and-group_by-collapse-rows-to-a-summary",
    "href": "data manipulation/3 data manipulation with tidyverse.html#summarise-and-group_by-collapse-rows-to-a-summary",
    "title": "Data Manipulation with tidyverse",
    "section": "summarise() and group_by(): Collapse rows to a summary",
    "text": "summarise() and group_by(): Collapse rows to a summary\nThis is one of the most powerful combinations in dplyr. group_by() groups the data by one or more variables. Subsequent operations are then performed on each group independently. summarise() then collapses each group into a single-row summary.\n\n\nCode\n# Calculate summary statistics for each cylinder group\nmtcars_df %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    avg_mpg = mean(mpg, na.rm = TRUE),\n    median_hp = median(hp, na.rm = TRUE),\n    min_wt = min(wt, na.rm = TRUE),\n    max_wt = max(wt, na.rm = TRUE),\n    car_count = n() # n() counts the number of rows in the group\n  )\n\n\n# A tibble: 3 × 6\n    cyl avg_mpg median_hp min_wt max_wt car_count\n  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;int&gt;\n1     4    26.7       91    1.51   3.19        11\n2     6    19.7      110    2.62   3.46         7\n3     8    15.1      192.   3.17   5.42        14",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#joining-tables",
    "href": "data manipulation/3 data manipulation with tidyverse.html#joining-tables",
    "title": "Data Manipulation with tidyverse",
    "section": "Joining Tables",
    "text": "Joining Tables\ndplyr provides a family of join functions to combine data from different tables.\n\n\nCode\nband_members_df &lt;- tribble(\n  ~name,     ~band, \n  \"Mick\",    \"Stones\",\n  \"John\",    \"Beatles\",\n  \"Paul\",    \"Beatles\"\n)\n\nband_instruments_df &lt;- tribble(\n  ~name,     ~plays, \n  \"Mick\",    \"vocals\",\n  \"John\",    \"guitar\",\n  \"Keith\",   \"guitar\"\n)\n\n\n\ninner_join(): Returns only the rows where the key exists in both tables.\nleft_join(): Returns all rows from the left table, and matching rows from the right table.\nfull_join(): Returns all rows from both tables.\nanti_join(): Returns all rows from the left table that do not have a match in the right table.\n\n\n\nCode\n# Left join to keep all members and see who plays an instrument\nleft_join(band_members_df, band_instruments_df, by = \"name\")\n\n\n# A tibble: 3 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 Mick  Stones  vocals\n2 John  Beatles guitar\n3 Paul  Beatles &lt;NA&gt;  \n\n\nCode\n# Anti join to find which members are not in the instruments table\nanti_join(band_members_df, band_instruments_df, by = \"name\")\n\n\n# A tibble: 1 × 2\n  name  band   \n  &lt;chr&gt; &lt;chr&gt;  \n1 Paul  Beatles",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#today",
    "href": "data manipulation/3 data manipulation with tidyverse.html#today",
    "title": "Data Manipulation with tidyverse",
    "section": "Today",
    "text": "Today\n\n\nCode\ntoday()\n\n\n[1] \"2025-11-03\"\n\n\n\nParsing: ymd(), mdy(), dmy() parse strings into dates reliably, automatically handling different separators.\nComponent Extraction: year(), month(), day(), wday() extract parts of a date.\nArithmetic: Perform calculations with date and time objects using duration and period objects.\n\n\n\nCode\n# Parse a date\ndate_obj &lt;- ymd(\"2023-10-27\")\n\n# Get the day of the week\nwday(date_obj, label = TRUE, abbr = FALSE)\n\n\n[1] Friday\n7 Levels: Sunday &lt; Monday &lt; Tuesday &lt; Wednesday &lt; Thursday &lt; ... &lt; Saturday\n\n\nCode\n# Add 15 days to the date\ndate_obj + days(15)\n\n\n[1] \"2023-11-11\"\n\n\nCode\n# Calculate the time difference between two dates\nnew_year &lt;- ymd(\"2024-01-01\")\ninterval(date_obj, new_year) / days(1)\n\n\n[1] 66",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#ranking-with-row_number",
    "href": "data manipulation/3 data manipulation with tidyverse.html#ranking-with-row_number",
    "title": "Data Manipulation with tidyverse",
    "section": "Ranking with row_number",
    "text": "Ranking with row_number\nrow_number() assigns a unique rank to each row within a group.\n\n\nCode\nsmall_mtcars %&gt;% \n  group_by(cyl) %&gt;% \n  mutate(rank = row_number(desc(mpg))) %&gt;% \n  select(cyl, mpg, rank)\n\n\n# A tibble: 6 × 3\n# Groups:   cyl [3]\n    cyl   mpg  rank\n  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n1     6  21       2\n2     6  21       3\n3     4  22.8     1\n4     6  21.4     1\n5     8  18.7     1\n6     6  18.1     4",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#accessing-previousnext-values-with-lag-and-lead",
    "href": "data manipulation/3 data manipulation with tidyverse.html#accessing-previousnext-values-with-lag-and-lead",
    "title": "Data Manipulation with tidyverse",
    "section": "Accessing Previous/Next Values with lag and lead",
    "text": "Accessing Previous/Next Values with lag and lead\nlag() and lead() are useful for comparing a value to its predecessor or successor.\n\n\nCode\nsmall_mtcars %&gt;% \n  select(cyl, mpg) %&gt;% \n  mutate(mpg_previous = lag(mpg, n = 1))\n\n\n  cyl  mpg mpg_previous\n1   6 21.0           NA\n2   6 21.0         21.0\n3   4 22.8         21.0\n4   6 21.4         22.8\n5   8 18.7         21.4\n6   6 18.1         18.7",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#cumulative-summaries",
    "href": "data manipulation/3 data manipulation with tidyverse.html#cumulative-summaries",
    "title": "Data Manipulation with tidyverse",
    "section": "Cumulative Summaries",
    "text": "Cumulative Summaries\ncumsum() calculates the cumulative sum.\n\n\nCode\nsmall_mtcars %&gt;% \n  select(cyl, mpg) %&gt;% \n  mutate(mpg_running_total = cumsum(mpg))\n\n\n  cyl  mpg mpg_running_total\n1   6 21.0              21.0\n2   6 21.0              42.0\n3   4 22.8              64.8\n4   6 21.4              86.2\n5   8 18.7             104.9\n6   6 18.1             123.0",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#order-rows",
    "href": "data manipulation/3 data manipulation with tidyverse.html#order-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "Order Rows",
    "text": "Order Rows\narrange() sorts the rows of a data frame by one or more columns.\n\n\nCode\nsmall_mtcars %&gt;% arrange(cyl) \n\n\n           car_name cyl  mpg  hp\n1        Datsun 710   4 22.8  93\n2         Mazda RX4   6 21.0 110\n3     Mazda RX4 Wag   6 21.0 110\n4    Hornet 4 Drive   6 21.4 110\n5           Valiant   6 18.1 105\n6 Hornet Sportabout   8 18.7 175\n\n\nSort in descending order using desc().\n\n\nCode\nsmall_mtcars %&gt;% arrange(desc(cyl))\n\n\n           car_name cyl  mpg  hp\n1 Hornet Sportabout   8 18.7 175\n2         Mazda RX4   6 21.0 110\n3     Mazda RX4 Wag   6 21.0 110\n4    Hornet 4 Drive   6 21.4 110\n5           Valiant   6 18.1 105\n6        Datsun 710   4 22.8  93",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#find-missing-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#find-missing-data",
    "title": "Data Manipulation with tidyverse",
    "section": "Find Missing Data",
    "text": "Find Missing Data\nis.na() returns a logical vector indicating which values are missing.\n\n\nCode\nis.na(missing_df)\n\n\n         x     y\n[1,] FALSE FALSE\n[2,] FALSE  TRUE\n[3,]  TRUE FALSE\n[4,] FALSE FALSE",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#filter-out-missing-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#filter-out-missing-data",
    "title": "Data Manipulation with tidyverse",
    "section": "Filter Out Missing Data",
    "text": "Filter Out Missing Data\nYou can use filter() with !is.na() to remove rows with missing values in a specific column.\n\n\nCode\nmissing_df %&gt;% filter(!is.na(y))\n\n\n   x y\n1  1 a\n2 NA c\n3  4 d\n\n\ntidyr::drop_na() removes rows with any missing values.\n\n\nCode\nmissing_df %&gt;% drop_na()\n\n\n  x y\n1 1 a\n2 4 d",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-vector",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-vector",
    "title": "Data Manipulation with tidyverse",
    "section": "Dataframe to Vector",
    "text": "Dataframe to Vector\n\n\nCode\ndata &lt;- small_mtcars$cyl\ndata\n\n\n[1] 6 6 4 6 8 6\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"numeric\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-matrix",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-matrix",
    "title": "Data Manipulation with tidyverse",
    "section": "Dataframe to Matrix",
    "text": "Dataframe to Matrix\n\n\nCode\ndata=data.matrix(small_mtcars)\ndata\n\n\n     car_name cyl  mpg  hp\n[1,]        4   6 21.0 110\n[2,]        5   6 21.0 110\n[3,]        1   4 22.8  93\n[4,]        2   6 21.4 110\n[5,]        3   8 18.7 175\n[6,]        6   6 18.1 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"matrix\" \"array\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-list",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-list",
    "title": "Data Manipulation with tidyverse",
    "section": "Dataframe to List",
    "text": "Dataframe to List\n\n\nCode\ndata=as.list(small_mtcars)\ndata\n\n\n$car_name\n[1] \"Mazda RX4\"         \"Mazda RX4 Wag\"     \"Datsun 710\"       \n[4] \"Hornet 4 Drive\"    \"Hornet Sportabout\" \"Valiant\"          \n\n$cyl\n[1] 6 6 4 6 8 6\n\n$mpg\n[1] 21.0 21.0 22.8 21.4 18.7 18.1\n\n$hp\n[1] 110 110  93 110 175 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"list\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/5 recipe.html",
    "href": "data manipulation/5 recipe.html",
    "title": "Recipe in tidymodels",
    "section": "",
    "text": "1. What is a Recipe?\nThe recipes package, part of the tidymodels ecosystem, provides a powerful and flexible framework for data preprocessing. A recipe is an object that defines a series of steps for transforming your data before it is used to train a model. Think of it as a blueprint for data preparation.\nUsing recipes is beneficial because it:\n\nSeparates preprocessing from modeling: Keeps your code clean and organized.\nPrevents data leakage: Ensures that information from the test set does not “leak” into the training process, which is a common and subtle bug in machine learning. For example, when normalizing data, the mean and standard deviation should be calculated from the training data only and then applied to both the training and test sets.\nIs highly extensible: Provides a wide range of built-in steps for common tasks and allows you to create your own custom steps.\n\n\n\n2. Creating a Sample Dataset\nLet’s create a small, messy dataset to demonstrate how recipes work. It contains a mix of data types, missing values (NA), and categorical variables with many levels.\n\n\nCode\nlibrary(recipes)\nlibrary(tidyverse)\n\n# Create a sample training dataset\ntrees_train &lt;- tibble(\n  tree_id = 1:10,\n  species = factor(c(\"Oak\", \"Pine\", \"Maple\", \"Oak\", \"Pine\", \"Hickory\", \"Birch\", \"Oak\", \"Pine\", \"Maple\")),\n  date_planted = as.Date(c(\"2001-01-10\", \"2005-03-15\", \"2002-07-20\", \"2010-11-01\", \"2008-09-12\", \n                           \"2001-04-25\", \"2019-06-30\", \"2004-02-18\", \"2006-08-05\", \"2011-12-21\")),\n  caretaker = c(\"City\", \"Private\", \"City\", \"City\", \"Private\", \"Non-Profit\", \"City\", \"Private\", \"City\", \"Private\"),\n  site_info = c(\"Park A\", \"Yard B\", \"Park C\", \"Park A\", \"Yard D\", \"Reserve E\", \"Park F\", \"Yard G\", \"Park A\", \"Yard H\"),\n  height_m = c(10, 12, 8, 15, 13, 11, 2, 14, 12, 9),\n  diameter_cm = c(30, 35, 25, 40, 38, 32, 5, 39, 36, NA), # Added a missing value\n  legal_status = factor(c(\"Protected\", \"Not Protected\", \"Protected\", \"Protected\", \"Not Protected\", \n                          \"Protected\", \"Not Protected\", \"Protected\", \"Not Protected\", \"Protected\"))\n)\n\n\n\n\nCode\n# Create a sample test set (new data)\nnew_trees_data &lt;- tibble(\n  tree_id = 11:12,\n  species = factor(c(\"Oak\", \"Redwood\")),\n  date_planted = as.Date(c(\"2015-05-10\", \"2021-11-15\")),\n  caretaker = c(\"City\", \"State\"),\n  site_info = c(\"Park A\", \"National Park I\"),\n  height_m = c(5, 1),\n  diameter_cm = c(15, 2),\n  legal_status = factor(c(\"Protected\", \"Protected\"))\n)\n\n\n\n\n3. Defining a Recipe\nA recipe is created with the recipe() function. You specify the model formula (legal_status ~ . means we want to predict legal_status using all other variables) and the training data.\nThen, you pipe (%&gt;%) this object into a series of step_*() functions, each performing a specific preprocessing task.\n\n\nCode\ntree_rec &lt;- recipe(legal_status ~ ., data = trees_train) %&gt;%\n  \n  # 1. Assign roles: `update_role()` tells the recipe that `tree_id` is just an identifier\n  # and should not be used as a predictor or outcome. This prevents it from being included\n  # in the model matrix but keeps it in the data for reference.\n  update_role(tree_id, new_role = \"ID\") %&gt;%\n  \n  # 2. Impute missing values: `step_impute_mean` will fill in the NA in `diameter_cm`\n  # with the mean of the non-missing values from the training set.\n  step_impute_mean(all_numeric_predictors()) %&gt;%\n  \n  # 3. Collapse infrequent categories: `step_other()` is great for high-cardinality\n  # categorical variables. It pools infrequent levels into a single \"other\" category.\n  step_other(species, caretaker, site_info, threshold = 0.2, other = \"other_level\") %&gt;%\n  \n  # 4. Create date features: Instead of using the exact date, which might not be a good\n  # predictor, we can extract the year. `step_rm()` then removes the original date column.\n  step_date(date_planted, features = c(\"year\")) %&gt;%\n  step_rm(date_planted) %&gt;%\n  \n  # 5. Create dummy variables: `step_dummy()` converts all nominal (categorical) predictors\n  # into numeric binary (0/1) columns. This is required for many modeling algorithms.\n  step_dummy(all_nominal_predictors()) %&gt;%\n  \n  # 6. Remove zero-variance predictors: `step_zv()` removes any predictor columns that\n  # contain only a single unique value, as these have no predictive power.\n  step_zv(all_predictors()) %&gt;% \n  \n  # 7. Normalize numeric predictors: `step_normalize()` scales all numeric predictors to have\n  # a mean of 0 and a standard deviation of 1. This helps many models converge faster.\n  step_normalize(all_numeric_predictors())\n\n# Print the recipe to see the defined steps\ntree_rec\n\n\n\n\n4. Prepping and Baking the Recipe\nDefining the recipe doesn’t actually perform the transformations. This is a crucial concept.\n\nprep(recipe): You first need to prep() the recipe. This function estimates the required parameters from the training data only. For example, it learns the means and standard deviations for normalization, the levels to collapse for step_other, and the full set of dummy variables to create. This is the step that prevents data leakage.\nbake(prep, new_data): After prepping, you can bake() the recipe. This applies the learned transformations to any dataset, such as the training data or, more importantly, new data like a test set.\n\n\n\nCode\n# Prep the recipe using the training data\nprepped_recipe &lt;- prep(tree_rec, training = trees_train)\n\n# Bake the training data to see the result of the transformations\n# Using new_data = NULL bakes the original training data\nprocessed_training_data &lt;- bake(prepped_recipe, new_data = NULL)\n\n# Display the first few rows of the processed data\nhead(processed_training_data)\n\n\n# A tibble: 6 × 11\n  tree_id height_m diameter_cm legal_status  date_planted_year species_Oak\n    &lt;int&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;                     &lt;dbl&gt;       &lt;dbl&gt;\n1       1   -0.161     -0.108  Protected                -1.02        1.45 \n2       2    0.377      0.379  Not Protected            -0.305      -0.621\n3       3   -0.699     -0.595  Protected                -0.842      -0.621\n4       4    1.18       0.866  Protected                 0.592       1.45 \n5       5    0.646      0.671  Not Protected             0.233      -0.621\n6       6    0.108      0.0866 Protected                -1.02       -0.621\n# ℹ 5 more variables: species_Pine &lt;dbl&gt;, species_other_level &lt;dbl&gt;,\n#   caretaker_Private &lt;dbl&gt;, caretaker_other_level &lt;dbl&gt;,\n#   site_info_other_level &lt;dbl&gt;\n\n\nNow, let’s apply the same, already-prepped recipe to our new_trees_data.\n\n\nCode\n# Bake the new data\nprocessed_new_data &lt;- bake(prepped_recipe, new_data = new_trees_data)\n\n# Display the processed new data\nprocessed_new_data\n\n\n# A tibble: 2 × 11\n  tree_id height_m diameter_cm legal_status date_planted_year species_Oak\n    &lt;int&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;                    &lt;dbl&gt;       &lt;dbl&gt;\n1      11    -1.51       -1.57 Protected                 1.49       1.45 \n2      12    -2.58       -2.84 Protected                 2.56      -0.621\n# ℹ 5 more variables: species_Pine &lt;dbl&gt;, species_other_level &lt;dbl&gt;,\n#   caretaker_Private &lt;dbl&gt;, caretaker_other_level &lt;dbl&gt;,\n#   site_info_other_level &lt;dbl&gt;\n\n\nNotice how the recipe correctly handled the new, unseen levels (“Redwood”, “State”, etc.) in the test set based on the rules it learned from the training set. The new levels were converted to the “other_level” dummy variable, and the normalization was applied using the mean and standard deviation from the training data.\n\n\n5. Common Recipe Steps and Selectors\nThe recipes package has a rich set of steps. Some of the most common include:\n\nstep_impute_*(): For handling missing data (e.g., step_impute_mean, step_impute_median, step_impute_knn).\nstep_log(): For log-transforming numeric variables.\nstep_corr(): For removing highly correlated predictors.\nstep_downsample() / step_upsample(): For addressing class imbalance.\nstep_pca(): For Principal Component Analysis.\n\n\nSelector Functions\nYou can use powerful selector functions to choose which variables a step should apply to. This makes your recipes more robust and scalable.\n\nall_predictors(): Selects all predictor variables.\nall_outcomes(): Selects all outcome variables.\nall_numeric(), all_nominal(): Selects variables of a specific type.\nall_numeric_predictors(): Selects all numeric predictors.\nstarts_with(), ends_with(), contains(): Selects variables based on their names.\n\n\n\n\n6. Reference\n\nTidymodels recipes Documentation\nAvailable Recipe Steps\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Recipe in tidymodels"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html",
    "href": "data manipulation/1 input output.html",
    "title": "Input & Output in R",
    "section": "",
    "text": "This document provides a comprehensive guide to reading data into R (input) and writing data out of R (output). We will cover a wide variety of common file formats, from traditional text files to modern, high-performance formats.\nCode\npak::pak(c('tidyverse', 'openxlsx', 'arrow', 'readxl','tabulapdf'))\nCode\n# Load common packages for I/O operations\nlibrary(tidyverse)\nlibrary(openxlsx)\nlibrary(arrow)\nlibrary(readxl)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#text-files-csv-txt",
    "href": "data manipulation/1 input output.html#text-files-csv-txt",
    "title": "Input & Output in R",
    "section": "1.1. Text Files (CSV, TXT)",
    "text": "1.1. Text Files (CSV, TXT)\n\nReading CSV Files\nComma-Separated Values (CSV) are one of the most common formats for storing tabular data. The readr package (part of the tidyverse) provides the read_csv() function, which is fast and efficient.\n\n\nCode\n# Create a sample data frame to write to a CSV\nsample_df &lt;- tibble(\n  id = 1:5,\n  name = c(\"Alice\", \"Bob\", \"Charlie\", \"David\", \"Eve\"),\n  score = c(95, 82, 78, 91, 88)\n)\n\nwrite_csv(sample_df, \"data/sample_data.csv\")\n\n# Read the CSV file back into R\ndata_from_csv &lt;- read_csv(\"data/sample_data.csv\")\nhead(data_from_csv)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nReading Delimited Files\nFor text files that use delimiters other than commas (like tabs or semicolons), you can use read_delim().\n\n\nCode\n# Write a tab-delimited file\nwrite_delim(sample_df, \"data/sample_data.txt\", delim = \"\\t\")\n\n# Read the tab-delimited file\ndata_from_txt &lt;- read_delim(\"data/sample_data.txt\", delim = \"\\t\")\nhead(data_from_txt)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#excel-files-.xlsx",
    "href": "data manipulation/1 input output.html#excel-files-.xlsx",
    "title": "Input & Output in R",
    "section": "1.2. Excel Files (.xlsx)",
    "text": "1.2. Excel Files (.xlsx)\nThe readxl package is excellent for reading .xls and .xlsx files. The openxlsx package can be used for both reading and writing.\n\n\nCode\n# Write the sample data to an Excel file\nwrite.xlsx(sample_df, \"data/sample_data.xlsx\")\n\n# Read the data from the Excel file\ndata_from_excel &lt;- read_excel(\"data/sample_data.xlsx\")\nhead(data_from_excel)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#high-performance-formats-parquet-feather",
    "href": "data manipulation/1 input output.html#high-performance-formats-parquet-feather",
    "title": "Input & Output in R",
    "section": "1.3. High-Performance Formats (Parquet, Feather)",
    "text": "1.3. High-Performance Formats (Parquet, Feather)\nFor large datasets, text-based formats are inefficient. Binary formats like Parquet and Feather are much faster to read and write and take up less disk space.\n\nReading Parquet Files\nParquet is a columnar storage format optimized for big data processing. The arrow package provides the interface to work with Parquet files.\n\n\nCode\n# Write data to a Parquet file\nwrite_parquet(sample_df, \"data/sample_data.parquet\")\n\n# Read data from the Parquet file\ndata_from_parquet &lt;- read_parquet(\"data/sample_data.parquet\")\nhead(data_from_parquet)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nReading Feather Files\nFeather is a fast, lightweight binary format designed for sharing data between R and Python.\n\n\nCode\n# Write data to a Feather file\nwrite_feather(sample_df, \"data/sample_data.feather\")\n\n# Read data from the Feather file\ndata_from_feather &lt;- read_feather(\"data/sample_data.feather\")\nhead(data_from_feather)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#r-specific-formats-.rds-.rdata",
    "href": "data manipulation/1 input output.html#r-specific-formats-.rds-.rdata",
    "title": "Input & Output in R",
    "section": "1.4. R-Specific Formats (.Rds, .RData)",
    "text": "1.4. R-Specific Formats (.Rds, .RData)\nR has its own native formats for saving any R object.\n\n.Rds: Saves a single R object.\n.RData: Saves multiple R objects and can save the entire workspace.\n\n\nReading an .Rds File\n\n\nCode\n# Save a single object (our data frame)\nsaveRDS(sample_df, \"data/sample_df.rds\")\n\n# Read the object back\ndata_from_rds &lt;- readRDS(\"data/sample_df.rds\")\nhead(data_from_rds)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nLoading an .RData File\n\n\nCode\n# Save multiple objects to one file\nsave(sample_df, mtcars, file = \"data/multiple_objects.RData\")\n\n# Clear the objects from the environment to show they are loaded\nrm(sample_df, mtcars)\n\n# Load the objects back into the workspace\nload(\"data/multiple_objects.RData\")\n\n# Check that they exist again\nhead(sample_df)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#reading-from-a-database",
    "href": "data manipulation/1 input output.html#reading-from-a-database",
    "title": "Input & Output in R",
    "section": "1.5. Reading from a Database",
    "text": "1.5. Reading from a Database\nConnecting to databases is covered in detail in a separate guide (6 SQL database.qmd), but here is a quick example using SQLite.\n\n\nCode\nlibrary(DBI)\nlibrary(RSQLite)\n\n# Create an in-memory SQLite database and write mtcars to it\ncon &lt;- dbConnect(RSQLite::SQLite(), \":memory:\")\ndbWriteTable(con, \"mtcars_table\", mtcars)\n\n# Read the full table back into an R data frame\nmtcars_from_db &lt;- dbReadTable(con, \"mtcars_table\")\ndbDisconnect(con)\n\nhead(mtcars_from_db)\n\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#read-.docx-word-file",
    "href": "data manipulation/1 input output.html#read-.docx-word-file",
    "title": "Input & Output in R",
    "section": "1.6 Read .docx (Word) file",
    "text": "1.6 Read .docx (Word) file\n\n\nCode\nlibrary(officer)\n# docx = read_docx(\"data/example03.docx\")\n# docx_summary(docx)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#read-pdf-tables",
    "href": "data manipulation/1 input output.html#read-pdf-tables",
    "title": "Input & Output in R",
    "section": "1.7 Read PDF Tables",
    "text": "1.7 Read PDF Tables\n\n\nCode\nlibrary(tabulapdf)\n# out &lt;- extract_tables('data/60870-By-the-Numbers.pdf')\n# out[[1]]",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-csv",
    "href": "data manipulation/1 input output.html#write-to-csv",
    "title": "Input & Output in R",
    "section": "2.1. Write to CSV",
    "text": "2.1. Write to CSV\n\n\nCode\n# The `write_csv` function from readr is a great choice\nwrite_csv(mtcars, \"data/mtcars_output.csv\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-excel",
    "href": "data manipulation/1 input output.html#write-to-excel",
    "title": "Input & Output in R",
    "section": "2.2. Write to Excel",
    "text": "2.2. Write to Excel\n\n\nCode\n# The `write.xlsx` function from openxlsx is very convenient\nwrite.xlsx(iris, \"data/iris_output.xlsx\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-parquet",
    "href": "data manipulation/1 input output.html#write-to-parquet",
    "title": "Input & Output in R",
    "section": "2.3. Write to Parquet",
    "text": "2.3. Write to Parquet\n\n\nCode\n# Use the arrow package for high-performance writing\nwrite_parquet(airquality, \"data/airquality_output.parquet\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-feather",
    "href": "data manipulation/1 input output.html#write-to-feather",
    "title": "Input & Output in R",
    "section": "2.4. Write to Feather",
    "text": "2.4. Write to Feather\n\n\nCode\n# Ideal for R-to-Python data exchange\nwrite_feather(diamonds, \"data/diamonds_output.feather\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-r-specific-formats",
    "href": "data manipulation/1 input output.html#write-to-r-specific-formats",
    "title": "Input & Output in R",
    "section": "2.5. Write to R-Specific Formats",
    "text": "2.5. Write to R-Specific Formats\n\n\nCode\n# Save a single model object\nmy_model &lt;- lm(mpg ~ hp, data = mtcars)\nsaveRDS(my_model, \"data/linear_model.rds\")\n\n# Save the entire current workspace\n# save.image(file = \"data/my_full_workspace.RData\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-a-database",
    "href": "data manipulation/1 input output.html#write-to-a-database",
    "title": "Input & Output in R",
    "section": "2.6. Write to a Database",
    "text": "2.6. Write to a Database\n\n\nCode\n# Establish a connection\ncon &lt;- dbConnect(RSQLite::SQLite(), \"data/my_output_database.sqlite\")\n\n# Write the iris dataset to a new table named 'iris_table'\n# `overwrite = TRUE` will replace the table if it already exists\ndbWriteTable(con, \"iris_table\", iris, overwrite = TRUE)\n\n# List tables to confirm it was created\nprint(dbListTables(con))\n\n\n[1] \"iris_table\"\n\n\nCode\n# Clean up\ndbDisconnect(con)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#write-to-google-sheets",
    "href": "data manipulation/1 input output.html#write-to-google-sheets",
    "title": "Input & Output in R",
    "section": "2.7 Write to Google Sheets",
    "text": "2.7 Write to Google Sheets\nYou can write a data frame to a new or existing Google Sheet. This requires authentication.\n\n\nCode\nlibrary(googlesheets4)\n\n# Create a data frame to write\nmy_data_to_write &lt;- data.frame(\n  Name = c(\"Ada Lovelace\", \"Grace Hopper\"),\n  Contribution = c(\"First algorithm\", \"COBOL\")\n)\n\n# Write the data to a new Google Sheet file named 'R-Sheet-Output'\nss &lt;- write_sheet(my_data_to_write, ss = \"R-Sheet-Output\", sheet = \"Sheet1\")\n\n# The returned object `ss` contains the URL of the new sheet\nprint(ss)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html",
    "href": "data manipulation/7 SQL database.html",
    "title": "Working with SQL Databases in R",
    "section": "",
    "text": "This document provides a comprehensive guide on how to connect to and interact with SQL databases directly from R. We will explore three primary methods: writing raw SQL queries, using the modern dbplyr package for a tidyverse-like experience, and using sqldf to query local data frames with SQL syntax.",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#create-and-populate-a-database",
    "href": "data manipulation/7 SQL database.html#create-and-populate-a-database",
    "title": "Working with SQL Databases in R",
    "section": "Create and Populate a Database",
    "text": "Create and Populate a Database\nFirst, we establish a connection to a database file. If the file doesn’t exist, dbConnect() will create it. Then, we’ll copy the mtcars and iris R data frames into the database, creating new tables.\n\n\nCode\n# Add car names as a column in mtcars, as they are originally row names\nmtcars_df &lt;- mtcars %&gt;% \n  rownames_to_column(var = \"car_name\")\n\n# Create a connection to an SQLite database file in the 'data' subdirectory\ncon &lt;- dbConnect(RSQLite::SQLite(), \"data/my_sql_database.db\")\n\n# Write the R data frames to the database\n# `overwrite = TRUE` will replace the table if it already exists\ndbWriteTable(con, \"mtcars\", mtcars_df, overwrite = TRUE)\ndbWriteTable(con, \"iris\", iris, overwrite = TRUE)\n\n\nWe can list the tables to confirm they were successfully created.\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\" \"iris\"      \"mtcars\"    \"part_info\"",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#select-statement",
    "href": "data manipulation/7 SQL database.html#select-statement",
    "title": "Working with SQL Databases in R",
    "section": "SELECT Statement",
    "text": "SELECT Statement\nSelect all columns (*) from the mtcars table. LIMIT restricts the output to the first 3 rows.\n\n\nCode\nsql_select &lt;- \"SELECT * FROM mtcars LIMIT 3\"\ndbGetQuery(con, sql_select)\n\n\n       car_name  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1     Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3    Datsun 710 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#column-aliasing-and-creation",
    "href": "data manipulation/7 SQL database.html#column-aliasing-and-creation",
    "title": "Working with SQL Databases in R",
    "section": "Column Aliasing and Creation",
    "text": "Column Aliasing and Creation\nUse AS to rename a column in the query’s output. You can also create new columns based on calculations on existing ones.\n\n\nCode\nsql_create_col &lt;- \"SELECT mpg, mpg * 0.425 AS kpl FROM mtcars\" # Convert MPG to KPL\nhead(dbGetQuery(con, sql_create_col))\n\n\n   mpg    kpl\n1 21.0 8.9250\n2 21.0 8.9250\n3 22.8 9.6900\n4 21.4 9.0950\n5 18.7 7.9475\n6 18.1 7.6925",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#filtering-with-where",
    "href": "data manipulation/7 SQL database.html#filtering-with-where",
    "title": "Working with SQL Databases in R",
    "section": "Filtering with WHERE",
    "text": "Filtering with WHERE\nThe WHERE clause filters rows based on one or more conditions. AND requires both conditions to be true.\n\n\nCode\nsql_filter &lt;- \"SELECT * FROM mtcars WHERE hp &gt; 200 AND cyl = 8\"\nhead(dbGetQuery(con, sql_filter))\n\n\n             car_name  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1          Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4\n2  Cadillac Fleetwood 10.4   8  472 205 2.93 5.250 17.98  0  0    3    4\n3 Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4\n4   Chrysler Imperial 14.7   8  440 230 3.23 5.345 17.42  0  0    3    4\n5          Camaro Z28 13.3   8  350 245 3.73 3.840 15.41  0  0    3    4\n6      Ford Pantera L 15.8   8  351 264 4.22 3.170 14.50  0  1    5    4",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#aggregation-with-group-by",
    "href": "data manipulation/7 SQL database.html#aggregation-with-group-by",
    "title": "Working with SQL Databases in R",
    "section": "Aggregation with GROUP BY",
    "text": "Aggregation with GROUP BY\nGROUP BY is a powerful tool for summarizing data. It collapses multiple rows into a single summary row based on a grouping variable. It is almost always used with aggregate functions like AVG() (average), COUNT() (count), MIN() (minimum), and MAX() (maximum).\nThis query calculates the average horsepower and the number of cars for each cylinder group.\n\n\nCode\nsql_groupby &lt;- \"SELECT cyl, AVG(hp) AS avg_hp, COUNT(*) AS num_cars FROM mtcars GROUP BY cyl\"\ndbGetQuery(con, sql_groupby)\n\n\n  cyl    avg_hp num_cars\n1   4  82.63636       11\n2   6 122.28571        7\n3   8 209.21429       14",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#sorting-with-order-by",
    "href": "data manipulation/7 SQL database.html#sorting-with-order-by",
    "title": "Working with SQL Databases in R",
    "section": "Sorting with ORDER BY",
    "text": "Sorting with ORDER BY\nORDER BY sorts the result set. The default is ascending order (ASC), but you can specify DESC for descending order.\n\n\nCode\nsql_orderby &lt;- \"SELECT car_name, mpg, hp FROM mtcars ORDER BY hp DESC LIMIT 5\"\ndbGetQuery(con, sql_orderby)\n\n\n           car_name  mpg  hp\n1     Maserati Bora 15.0 335\n2    Ford Pantera L 15.8 264\n3        Duster 360 14.3 245\n4        Camaro Z28 13.3 245\n5 Chrysler Imperial 14.7 230",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#joins",
    "href": "data manipulation/7 SQL database.html#joins",
    "title": "Working with SQL Databases in R",
    "section": "Joins",
    "text": "Joins\nJoins are used to combine rows from two or more tables based on a related column. We’ll create two new tables to demonstrate.\n\n\nCode\ndbWriteTable(con, \"car_parts\", data.frame(car_name = c(\"Mazda RX4\", \"Datsun 710\", \"Hornet 4 Drive\"), part_id = c(1, 2, 3)), overwrite = TRUE)\ndbWriteTable(con, \"part_info\", data.frame(part_id = c(1, 2, 4), part_name = c(\"Engine\", \"Tire\", \"Brake\")), overwrite = TRUE)\n\n\n\nINNER JOIN\nReturns only the rows where the join key (part_id) exists in both tables.\n\n\nCode\nsql_inner_join &lt;- \"\nSELECT cp.car_name, pi.part_name\nFROM car_parts cp\nINNER JOIN part_info pi ON cp.part_id = pi.part_id\"\ndbGetQuery(con, sql_inner_join)\n\n\n    car_name part_name\n1  Mazda RX4    Engine\n2 Datsun 710      Tire\n\n\n\n\nLEFT JOIN\nReturns all rows from the left table (car_parts) and any matched rows from the right table (part_info). If there is no match, the columns from the right table will be NA.\n\n\nCode\nsql_left_join &lt;- \"\nSELECT cp.car_name, pi.part_name\nFROM car_parts cp\nLEFT JOIN part_info pi ON cp.part_id = pi.part_id\"\ndbGetQuery(con, sql_left_join)\n\n\n        car_name part_name\n1      Mazda RX4    Engine\n2     Datsun 710      Tire\n3 Hornet 4 Drive      &lt;NA&gt;",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#modifying-data",
    "href": "data manipulation/7 SQL database.html#modifying-data",
    "title": "Working with SQL Databases in R",
    "section": "Modifying Data",
    "text": "Modifying Data\nFor SQL commands that modify data but do not return a result set (like UPDATE, CREATE, DROP), use the dbExecute() function.\n\nUPDATE Table\nUPDATE modifies existing records in a table.\n\n\nCode\n# Set the horsepower to 120 for the 'Mazda RX4'\ndbExecute(con, \"UPDATE mtcars SET hp = 120 WHERE car_name = 'Mazda RX4'\")\n\n\n[1] 1\n\n\nCode\n# Verify the change\ndbGetQuery(con, \"SELECT car_name, hp FROM mtcars WHERE car_name = 'Mazda RX4'\")\n\n\n   car_name  hp\n1 Mazda RX4 120\n\n\n\n\nCREATE and DROP Table\nCREATE TABLE builds a new table, and DROP TABLE permanently deletes one.\n\n\nCode\n# Create a copy of the mtcars table\nsql_create &lt;- \"CREATE TABLE mtcars_copy AS SELECT * FROM mtcars\"\ndbExecute(con, sql_create)\n\n\n[1] 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\"   \"iris\"        \"mtcars\"      \"mtcars_copy\" \"part_info\"  \n\n\n\n\nCode\n# Drop the copy\nsql_drop &lt;- \"DROP TABLE mtcars_copy\"\ndbExecute(con, sql_drop)\n\n\n[1] 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\" \"iris\"      \"mtcars\"    \"part_info\"",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/8 data management.html",
    "href": "data manipulation/8 data management.html",
    "title": "Data management",
    "section": "",
    "text": "1. Introduction to Data Management\nEffective data management is crucial for reproducible and collaborative data science. It involves organizing, storing, and sharing data in a way that is efficient, secure, and easy to manage. In R, the pins package provides a powerful and straightforward solution for this challenge.\n\nThe pins package allows you to “pin” data objects—like data frames, models, or plots—to a “board.” A board is a location where you store your pins, which can be a local folder, a network drive, or a cloud service like Amazon S3, Google Cloud Storage, or Posit Connect. This makes it easy to share and access data across different projects, colleagues, or even between R and Python environments.\nThe key idea is to treat data like a package. You can publish data to a board, and then others (or your future self) can install and use that data with a simple command, without worrying about file paths or where the data is stored.\n\n\n2. Getting Started with pins\nFirst, you need to install the package from CRAN.\n\n\nCode\ninstall.packages(\"pins\")\n\n\nThen, load the necessary libraries. We will use pins and tidyverse.\n\n\nCode\nlibrary(pins)\nlibrary(tidyverse)\n\n\n\n\n3. Creating a Board\nA board is the storage location for your pins. For this example, we will create a simple board in a local folder. This is great for managing data for your own projects on a single machine.\n\n\nCode\n# Create a board in a subfolder named 'my_local_board'\n# This folder will be created in your current working directory.\nboard &lt;- board_folder(\"my_local_board\")\n\n\nYou can check the path of your board.\n\n\nCode\nboard\n\n\nPin board &lt;pins_board_folder&gt;\nPath: 'my_local_board'\nCache size: 0\n\n\n\n\n4. Pinning Data\n“Pinning” data means saving an R object to your board with a specific name. Let’s pin the built-in mtcars dataset.\nThe pin_write() function is used for this. It takes three main arguments: - x: The R object you want to pin. - name: A unique name for the pin. - board: The board where you want to store the pin. - type: The file format to save the pin as (e.g., “rds”, “csv”, “parquet”). pins will choose a sensible default if you don’t specify.\n\n\nCode\n# Pin the mtcars data frame to our local board\n# We can also add a description for context\npin_write(board, mtcars, name = \"mtcars_data\", description = \"Motor Trend Car Road Tests dataset\", type = \"rds\")\n\n\nYou can list the pins on your board to see what’s available.\n\n\nCode\npin_list(board)\n\n\n[1] \"mtcars_data\"\n\n\nYou can also search for pins with pin_search().\n\n\nCode\npin_search(board, \"mtcars\")\n\n\n# A tibble: 1 × 6\n  name        type  title               created             file_size meta      \n  &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;               &lt;dttm&gt;              &lt;fs::byt&gt; &lt;list&gt;    \n1 mtcars_data rds   mtcars_data: a pin… 2026-01-07 22:09:17     1.19K &lt;pins_met&gt;\n\n\n\n\n5. Reading Data from a Pin\nOnce data is pinned, you can easily read it back into your R session using pin_read(). This is incredibly useful for starting a new analysis without having to re-run a long data preparation script.\n\n\nCode\n# Read the 'mtcars_data' pin from our board\nmy_mtcars_data &lt;- pin_read(board, \"mtcars_data\")\n\nhead(my_mtcars_data)\n\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1\n\n\n\n\n6. Sharing Data with Others\nThe real power of pins comes from sharing data. While a local folder board is good for personal use, you can use other board types to collaborate with a team. Common choices include:\n\nboard_folder(): For a shared network drive.\nboard_s3(): For Amazon S3.\nboard_gcs(): For Google Cloud Storage.\nboard_connect(): For Posit Connect (formerly RStudio Connect), which is an excellent choice for teams within an organization.\n\nThe workflow remains the same regardless of the board type. For example, to pin to an S3 bucket, your code would look like this (after setting up authentication):\n\n\nCode\n# Connect to an S3 board (requires AWS credentials to be configured)\ns3_board &lt;- board_s3(\"my-team-s3-bucket\")\n\n# Write and read from the S3 board just like a local one\npin_write(s3_board, mtcars, name = \"shared_mtcars\")\nshared_data &lt;- pin_read(s3_board, \"shared_mtcars\")\n\n\nThis makes your data assets portable and accessible, whether you are working on your laptop, a cloud virtual machine, or a production server.\n\n\n7. Versioning\npins automatically versions your data. If you write to a pin with the same name multiple times, pins will save each version. This is a powerful feature for tracking changes and ensuring reproducibility. You can always go back to a previous version of your data if needed.\nLet’s modify our mtcars data and pin it again.\n\n\nCode\nmtcars_modified &lt;- mtcars %&gt;% mutate(hp_per_cyl = hp / cyl)\npin_write(board, mtcars_modified, name = \"mtcars_data\")\n\n\nNow, you can list the available versions for the “mtcars_data” pin.\n\n\nCode\npin_versions(board, \"mtcars_data\")\n\n\n# A tibble: 1 × 3\n  version                created             hash \n  &lt;chr&gt;                  &lt;dttm&gt;              &lt;chr&gt;\n1 20260107T140917Z-9365e 2026-01-07 22:09:17 9365e\n\n\nYou can read a specific version by providing its version hash to pin_read().\n\n\nCode\n# Get the hash for the first version we saved\nfirst_version_hash &lt;- pin_versions(board, \"mtcars_data\")$version[1]\n\n# Read the original data using the version hash\noriginal_data &lt;- pin_read(board, \"mtcars_data\", version = first_version_hash)\n\n# Check that it doesn't have the new column\nhead(original_data)\n\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb hp_per_cyl\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4   18.33333\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4   18.33333\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1   23.25000\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1   18.33333\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2   21.87500\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1   17.50000\n\n\n\n\n8. References\n\npins for R Official Website\nGetting Started with pins\nManaging and Sharing Data with pins Blog Post\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Data management"
    ]
  },
  {
    "objectID": "data manipulation/6 resample.html",
    "href": "data manipulation/6 resample.html",
    "title": "resample",
    "section": "",
    "text": "1. The Importance of Resampling\nIn machine learning, we want to build models that generalize well to new, unseen data. A common mistake is to train and evaluate a model on the same dataset. This often leads to overfitting, where the model learns the noise in the training data, not the underlying pattern. As a result, the model performs well on the data it has seen but fails miserably on new data.\nResampling is a collection of techniques used to combat this. It involves repeatedly drawing samples from a training set and refitting a model on each sample. This process allows us to:\n\nEstimate model performance: Get a more accurate and robust estimate of how the model will perform on unseen data.\nUnderstand variability: See how much the model’s performance changes across different subsets of the data.\nTune hyperparameters: Find the best settings for a model by evaluating them across multiple validation sets.\n\nThe rsample package, part of the tidymodels ecosystem, provides a consistent and intuitive interface for creating different types of resamples.\n\n\nCode\nlibrary(rsample)\nlibrary(tidyverse)\n\n# We will use the iris dataset for demonstration\ndata(iris)\n\n\n\n\n2. k-Fold Cross-Validation (CV)\nThis is the most common resampling method. The data is randomly split into k equal-sized partitions (or “folds”). For each fold, the model is trained on the other k-1 folds (the analysis set) and tested on the held-out fold (the assessment set). The process is repeated k times, with each fold serving as the test set exactly once. The final performance is the average of the performances across all k folds.\n\nvfold_cv() creates the folds. A v of 10 is a common choice.\n\n\nCode\nk_fold_resample &lt;- vfold_cv(iris, v = 10)\nk_fold_resample\n\n\n#  10-fold cross-validation \n# A tibble: 10 × 2\n   splits           id    \n   &lt;list&gt;           &lt;chr&gt; \n 1 &lt;split [135/15]&gt; Fold01\n 2 &lt;split [135/15]&gt; Fold02\n 3 &lt;split [135/15]&gt; Fold03\n 4 &lt;split [135/15]&gt; Fold04\n 5 &lt;split [135/15]&gt; Fold05\n 6 &lt;split [135/15]&gt; Fold06\n 7 &lt;split [135/15]&gt; Fold07\n 8 &lt;split [135/15]&gt; Fold08\n 9 &lt;split [135/15]&gt; Fold09\n10 &lt;split [135/15]&gt; Fold10\n\n\nEach row in the output represents one fold. The &lt;split&gt; column contains rsplit objects, which are lightweight pointers to the actual data for the training (analysis) and testing (assessment) sets for that fold.\n\nWorking with rsplit objects\nYou can extract the analysis and assessment data for a specific split.\n\n\nCode\n# Get the first split object\nfirst_split &lt;- k_fold_resample$splits[[1]]\n\n# Get the training data for the first fold\nanalysis_data &lt;- analysis(first_split)\n\n# Get the testing data for the first fold\nassessment_data &lt;- assessment(first_split)\n\ncat(paste(\"Analysis (training) rows:\", nrow(analysis_data), \"\\n\"))\n\n\nAnalysis (training) rows: 135 \n\n\nCode\ncat(paste(\"Assessment (testing) rows:\", nrow(assessment_data), \"\\n\"))\n\n\nAssessment (testing) rows: 15 \n\n\n\n\n\n3. Monte Carlo Cross-Validation (MCCV)\nMCCV, also known as repeated random sub-sampling validation, involves randomly splitting the data into a training and a validation set a specified number of times. Unlike k-fold CV, the assessment sets are not mutually exclusive and can overlap.\nThis method is useful when you want to control the size of the validation set directly, rather than being constrained by the number of folds. It can be more computationally intensive than k-fold CV if many repetitions are used.\nmc_cv() creates the splits. prop is the proportion of data to be used for training, and times is the number of splits to create.\n\n\nCode\nmc_resample &lt;- mc_cv(iris, prop = 9/10, times = 20)\nmc_resample\n\n\n# Monte Carlo cross-validation (0.9/0.1) with 20 resamples \n# A tibble: 20 × 2\n   splits           id        \n   &lt;list&gt;           &lt;chr&gt;     \n 1 &lt;split [135/15]&gt; Resample01\n 2 &lt;split [135/15]&gt; Resample02\n 3 &lt;split [135/15]&gt; Resample03\n 4 &lt;split [135/15]&gt; Resample04\n 5 &lt;split [135/15]&gt; Resample05\n 6 &lt;split [135/15]&gt; Resample06\n 7 &lt;split [135/15]&gt; Resample07\n 8 &lt;split [135/15]&gt; Resample08\n 9 &lt;split [135/15]&gt; Resample09\n10 &lt;split [135/15]&gt; Resample10\n11 &lt;split [135/15]&gt; Resample11\n12 &lt;split [135/15]&gt; Resample12\n13 &lt;split [135/15]&gt; Resample13\n14 &lt;split [135/15]&gt; Resample14\n15 &lt;split [135/15]&gt; Resample15\n16 &lt;split [135/15]&gt; Resample16\n17 &lt;split [135/15]&gt; Resample17\n18 &lt;split [135/15]&gt; Resample18\n19 &lt;split [135/15]&gt; Resample19\n20 &lt;split [135/15]&gt; Resample20\n\n\n\n\n4. The Bootstrap\nA bootstrap sample is created by sampling from the original dataset with replacement. The resulting sample is the same size as the original dataset. Because of sampling with replacement, some data points will be selected multiple times, while others will not be selected at all (these are called the “out-of-bag” samples).\nBootstrapping is useful for estimating the uncertainty of a statistic (like a model coefficient) and is the foundation for ensemble methods like Random Forest. The out-of-bag sample can be used as a validation set.\n\nbootstraps() creates the bootstrap samples.\n\n\nCode\nbootstraps_resample &lt;- bootstraps(iris, times = 1000)\nbootstraps_resample\n\n\n# Bootstrap sampling \n# A tibble: 1,000 × 2\n   splits           id           \n   &lt;list&gt;           &lt;chr&gt;        \n 1 &lt;split [150/58]&gt; Bootstrap0001\n 2 &lt;split [150/52]&gt; Bootstrap0002\n 3 &lt;split [150/58]&gt; Bootstrap0003\n 4 &lt;split [150/56]&gt; Bootstrap0004\n 5 &lt;split [150/57]&gt; Bootstrap0005\n 6 &lt;split [150/55]&gt; Bootstrap0006\n 7 &lt;split [150/53]&gt; Bootstrap0007\n 8 &lt;split [150/56]&gt; Bootstrap0008\n 9 &lt;split [150/55]&gt; Bootstrap0009\n10 &lt;split [150/58]&gt; Bootstrap0010\n# ℹ 990 more rows\n\n\n\n\n5. Stratified Sampling\nWhen dealing with a classification problem where the outcome variable is imbalanced (i.e., some classes have very few samples), random splitting can lead to folds where one or more classes are missing entirely from the training or testing set.\nStratified sampling ensures that the class distribution in each fold is approximately the same as in the original dataset. You can do this by specifying the strata argument in the resampling functions. This is highly recommended for classification problems.\n\n\nCode\n# Create 10-fold cross-validation splits, stratified by the Species column\nstratified_k_fold &lt;- vfold_cv(iris, v = 10, strata = Species)\nstratified_k_fold\n\n\n#  10-fold cross-validation using stratification \n# A tibble: 10 × 2\n   splits           id    \n   &lt;list&gt;           &lt;chr&gt; \n 1 &lt;split [135/15]&gt; Fold01\n 2 &lt;split [135/15]&gt; Fold02\n 3 &lt;split [135/15]&gt; Fold03\n 4 &lt;split [135/15]&gt; Fold04\n 5 &lt;split [135/15]&gt; Fold05\n 6 &lt;split [135/15]&gt; Fold06\n 7 &lt;split [135/15]&gt; Fold07\n 8 &lt;split [135/15]&gt; Fold08\n 9 &lt;split [135/15]&gt; Fold09\n10 &lt;split [135/15]&gt; Fold10\n\n\n\n\n6. Visualizing Resamples\nIt can be helpful to visualize the resamples to understand how the data is being split. The code below defines a helper function to plot the distribution of a variable across the different resample splits.\n\n\nCode\n# Helper function to extract and plot data from splits\nplot_resample_dist &lt;- function(resample_obj, variable) {\n  resample_obj %&gt;% \n    mutate(fold_id = as.character(row_number())) %&gt;% \n    pull(splits) %&gt;% \n    map_dfr(~as_tibble(analysis(.)), .id = \"fold_id\") %&gt;% \n    ggplot(aes(x = {{variable}}, fill = fold_id)) + \n    geom_density(alpha = 0.5, show.legend = FALSE) + \n    labs(\n      title = paste(\"Distribution of\", rlang::as_name(enquo(variable)), \"across resamples\"),\n      x = rlang::as_name(enquo(variable)),\n      y = \"Density\"\n    ) + \n    theme_minimal()\n}\n\n# Visualize the distribution of Sepal.Length across the k-fold splits\nplot_resample_dist(k_fold_resample, Sepal.Length)\n\n\n\n\n\n\n\n\n\nThis visualization helps confirm that the splits are reasonably balanced and representative of the overall data distribution.\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "resample"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html",
    "href": "data manipulation/4 data table.html",
    "title": "Data Tables in R",
    "section": "",
    "text": "This document provides a comprehensive guide to creating a wide variety of tables in R, from simple static tables to complex, interactive, and publication-ready displays. We will explore several powerful packages, each with its own strengths.\n\n1 1. gt: For Beautiful, Presentation-Ready Tables\n\nThe gt package is designed for creating beautiful and highly customizable tables. It follows a “grammar of tables” philosophy, allowing you to build a table layer by layer, from the data to the header, footer, and cell formatting. This makes it ideal for tables in reports, presentations, and publications where appearance and clarity are paramount.\n\nThis example demonstrates how to create a rich, informative table from the sp500 dataset included with gt.\n\n\nCode\nlibrary(gt)\nlibrary(tidyverse)\nlibrary(glue)\n\n# Define the start and end dates for the data range\nstart_date &lt;- \"2010-06-07\"\nend_date &lt;- \"2010-06-14\"\n\n# Create a gt table from preprocessed sp500 data\nsp500 |&gt;\n  filter(date &gt;= start_date & date &lt;= end_date) |&gt;\n  select(-adj_close) |&gt;\n  gt() |&gt;\n  # Add a title and subtitle using markdown for formatting\n  tab_header(\n    title = md(\"**S&P 500 Daily Prices**\"),\n    subtitle = glue(\"Data from {start_date} to {end_date}\")\n  ) |&gt;\n  # Format columns for currency, dates, and large numbers\n  fmt_currency(columns = c(open, high, low, close)) |&gt;\n  fmt_date(columns = date, date_style = \"wd_m_day_year\") |&gt;\n  fmt_number(columns = volume, suffixing = TRUE) |&gt;\n  # Add a source note with a link\n  tab_source_note(\n    source_note = html(\"Source: &lt;a href='https://www.spglobal.com/'&gt;S&P Global&lt;/a&gt;\")\n  ) |&gt;\n  # Center-align all columns\n  cols_align(\n    align = \"center\",\n    columns = everything()\n  ) |&gt;\n  # Add a color scale to the `close` column to highlight values\n  data_color(\n    columns = close,\n    colors = scales::col_numeric(\n      palette = c(\"#FEEBDB\", \"#FDD8B0\", \"#FDC686\", \"#FDB35B\", \"#FD9F2C\"),\n      domain = range(sp500$close)\n    )\n  )\n\n\n\n\n\n\n\n\nS&P 500 Daily Prices\n\n\nData from 2010-06-07 to 2010-06-14\n\n\ndate\nopen\nhigh\nlow\nclose\nvolume\n\n\n\n\nMon, Jun 14, 2010\n$1,095.00\n$1,105.91\n$1,089.03\n$1,089.63\n4.43B\n\n\nFri, Jun 11, 2010\n$1,082.65\n$1,092.25\n$1,077.12\n$1,091.60\n4.06B\n\n\nThu, Jun 10, 2010\n$1,058.77\n$1,087.85\n$1,058.77\n$1,086.84\n5.14B\n\n\nWed, Jun 9, 2010\n$1,062.75\n$1,077.74\n$1,052.25\n$1,055.69\n5.98B\n\n\nTue, Jun 8, 2010\n$1,050.81\n$1,063.15\n$1,042.17\n$1,062.00\n6.19B\n\n\nMon, Jun 7, 2010\n$1,065.84\n$1,071.36\n$1,049.86\n$1,050.47\n5.47B\n\n\n\nSource: S&P Global\n\n\n\n\n\n\n\n\n\n\n2 2. DT: For Interactive Data Exploration\nThe DT package provides an R interface to the powerful JavaScript library DataTables. It turns a standard R data frame into an interactive HTML table that supports live filtering, pagination, sorting, and exporting. It is perfect for data exploration in R Markdown documents and Shiny apps.\n\n\n\nCode\nlibrary(DT)\n\n\nThis is a basic example of an interactive table using the iris dataset.\n\n\nCode\niris |&gt; datatable(options = list(pageLength = 5, scrollX = TRUE))\n\n\n\n\n\n\n\n2.0.1 Advanced Formatting and Styling\nDT allows for extensive styling using the format*() family of functions. You can add color bars, conditional formatting, and more.\n\n\nCode\n# Take a sample of the iris dataset for a cleaner look\nsample_iris &lt;- iris[c(1:5, 51:55, 101:105), ]\n\nsample_iris |&gt; \n  datatable(options = list(pageLength = 5)) %&gt;% \n  # Bold the Sepal.Length for values &gt; 5\n  formatStyle('Sepal.Length', fontWeight = styleInterval(5, c('normal', 'bold'))) %&gt;% \n  # Apply conditional colors to Sepal.Width\n  formatStyle(\n    'Sepal.Width',\n    color = styleInterval(c(3.0, 3.5), c('red', 'orange', 'green')),\n    backgroundColor = styleInterval(3.0, c('lightgray', 'lightyellow'))\n  ) %&gt;% \n  # Add a background color bar to Petal.Length\n  formatStyle(\n    'Petal.Length',\n    background = styleColorBar(range(iris$Petal.Length), 'steelblue'),\n    backgroundSize = '100% 90%',\n    backgroundRepeat = 'no-repeat',\n    backgroundPosition = 'center'\n  ) %&gt;% \n  # Style the Species column\n  formatStyle(\n    'Species',\n    backgroundColor = styleEqual(\n      unique(iris$Species), c('lightblue', 'lightgreen', 'lightpink')\n    )\n  )\n\n\n\n\n\n\n\n\n2.0.2 Table Export Buttons\nThe Buttons extension adds buttons to the table for exporting the data to formats like CSV, Excel, and PDF, or for copying to the clipboard.\n\n\nCode\niris |&gt; datatable(\n  extensions = 'Buttons', \n  options = list(\n    dom = 'Bfrtip', # Defines the layout, B is for buttons\n    buttons = c('copy', 'csv', 'excel', 'pdf', 'print'),\n    pageLength = 5\n  )\n)\n\n\n\n\n\n\n\n\n\n3 3. reactable: For Modern and Feature-Rich Interactive Tables\nreactable is another excellent package for creating interactive tables, known for its modern look, rich feature set, and ease of use. It supports sorting, filtering, grouping, and aggregation out of the box.\n\n\nCode\nlibrary(reactable)\nlibrary(reactablefmtr)\n\nmtcars %&gt;% \n  rownames_to_column(\"car_name\") %&gt;% \n  select(car_name, mpg, cyl, hp, gear) %&gt;% \n  reactable(\n    filterable = TRUE, # Add column filters\n    searchable = TRUE,   # Add a global search box\n    groupBy = \"cyl\",     # Group by number of cylinders\n    columns = list(\n      hp = colDef(aggregate = \"mean\", format = colFormat(digits = 1)), # Show mean HP for each group\n      gear = colDef(aggregate = \"max\"), # Show max gears for each group\n      # Custom cell rendering to add a bar chart for mpg\n      mpg = colDef(cell = data_bars(., text_position = \"above\", box_shadow = TRUE))\n    ),\n    defaultPageSize = 10\n  ) %&gt;% \n  add_title(title = 'MTCars Dataset Summary') %&gt;% \n  add_subtitle(subtitle = 'Grouped by Cylinders', font_weight = 'normal')\n\n\nMTCars Dataset Summary\nGrouped by Cylinders\n\n\n\n\n\n\n4 4. knitr::kable: For Simple, Static Tables\nknitr::kable() is a simple and lightweight function for creating clean, static tables in various formats like HTML, LaTeX, and Markdown. It’s perfect for quick reports and documents where interactivity is not needed. The kableExtra package adds many styling options.\n\n\nCode\nlibrary(knitr)\nlibrary(kableExtra)\n\nmtcars %&gt;% \n  head() %&gt;% \n  kable(caption = \"A Simple Static Table with kable\") %&gt;% \n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"), full_width = F)\n\n\n\nA Simple Static Table with kable\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\nMazda RX4\n21.0\n6\n160\n110\n3.90\n2.620\n16.46\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160\n110\n3.90\n2.875\n17.02\n0\n1\n4\n4\n\n\nDatsun 710\n22.8\n4\n108\n93\n3.85\n2.320\n18.61\n1\n1\n4\n1\n\n\nHornet 4 Drive\n21.4\n6\n258\n110\n3.08\n3.215\n19.44\n1\n0\n3\n1\n\n\nHornet Sportabout\n18.7\n8\n360\n175\n3.15\n3.440\n17.02\n0\n0\n3\n2\n\n\nValiant\n18.1\n6\n225\n105\n2.76\n3.460\n20.22\n1\n0\n3\n1\n\n\n\n\n\nFor longer tables, rmarkdown::paged_table() creates a scrollable, paged version, which is more user-friendly than a very long static table.\n\n\nCode\nlibrary(rmarkdown)\nmtcars %&gt;% paged_table()\n\n\n\n  \n\n\n\n\n\n5 5. flextable: For Publication-Ready Tables in Office Documents\nThe flextable package is designed to create tables for reporting, with a focus on producing high-quality output for Microsoft Word, PowerPoint, and HTML documents. It offers a high degree of control over formatting, including cell merging, borders, and fonts.\n\n\nCode\nlibrary(flextable)\n\n# Create a basic flextable\nft &lt;- flextable(head(mtcars))\n\n# Apply formatting\nft &lt;- ft %&gt;% \n  set_header_labels(mpg = \"Miles per Gallon\", cyl = \"Cylinders\") %&gt;% \n  theme_booktabs() %&gt;% \n  autofit() %&gt;% \n  set_caption(\"A Publication-Ready Table with flextable\") %&gt;% \n  color(j = ~ mpg, color = \"red\") %&gt;% \n  bold(j = ~ cyl, bold = TRUE)\n\nft\n\n\nMiles per GallonCylindersdisphpdratwtqsecvsamgearcarb21.061601103.902.62016.46014421.061601103.902.87517.02014422.84108933.852.32018.61114121.462581103.083.21519.44103118.783601753.153.44017.02003218.162251052.763.46020.221031\n\n\n\n\n6 6. Conclusion: Which Package Should You Use?\n\nFor beautiful, static reports and publications: Use gt.\nFor interactive data exploration in R Markdown or Shiny: Use DT or reactable. reactable has a more modern feel and powerful grouping features, while DT is very mature and has a rich ecosystem of extensions.\nFor quick, simple static tables: Use knitr::kable with kableExtra for styling.\nFor reports destined for Microsoft Office (Word, PowerPoint): Use flextable.\n\n\n\n7 7. References\n\ngt Package\nDT Package\nreactable Package\nflextable Package\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Data Tables in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html",
    "href": "data manipulation/2 data_structure.html",
    "title": "Data Structures in R",
    "section": "",
    "text": "This document provides a detailed overview of the fundamental data structures in R. Understanding these structures is essential for effective programming and data analysis in R. Each structure has its own strengths and is suited for different types of tasks.\nCode\nlibrary(tidyverse)",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-data-frames",
    "href": "data manipulation/2 data_structure.html#creating-data-frames",
    "title": "Data Structures in R",
    "section": "Creating Data Frames",
    "text": "Creating Data Frames\nUse the data.frame() function or, preferably, the tibble() function from the tidyverse. Tibbles are a modern take on data frames that are more user-friendly: they don’t change variable names or types, and they have a much nicer print method.\n\n\nCode\nmy_df &lt;- tibble(\n  id = 1:4,\n  name = c(\"Alice\", \"Bob\", \"Charlie\", \"David\"),\n  score = c(95, 82, 78, 91),\n  is_student = c(TRUE, FALSE, TRUE, FALSE)\n)\n\nmy_df\n\n\n# A tibble: 4 × 4\n     id name    score is_student\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;lgl&gt;     \n1     1 Alice      95 TRUE      \n2     2 Bob        82 FALSE     \n3     3 Charlie    78 TRUE      \n4     4 David      91 FALSE",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#subsetting-data-frames",
    "href": "data manipulation/2 data_structure.html#subsetting-data-frames",
    "title": "Data Structures in R",
    "section": "Subsetting Data Frames",
    "text": "Subsetting Data Frames\nYou can subset data frames in several ways:\n\n$ or [[ ]] to select a single column by name. This returns the column as a vector.\n[row, column] to select specific rows and columns. The result is another data frame (or a vector if you select a single column).\n\n\n\nCode\n# Select the 'name' column (returns a vector)\nmy_df$name\n\n\n[1] \"Alice\"   \"Bob\"     \"Charlie\" \"David\"  \n\n\nCode\n# Select the first two rows and the 'name' and 'score' columns (returns a tibble)\nmy_df[1:2, c(\"name\", \"score\")]\n\n\n# A tibble: 2 × 2\n  name  score\n  &lt;chr&gt; &lt;dbl&gt;\n1 Alice    95\n2 Bob      82\n\n\nFor more complex subsetting, it is highly recommended to use the dplyr verbs filter() and select() (covered in a separate guide).",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#data-frame-to-matrix",
    "href": "data manipulation/2 data_structure.html#data-frame-to-matrix",
    "title": "Data Structures in R",
    "section": "Data Frame to Matrix",
    "text": "Data Frame to Matrix\nConverting a data frame to a matrix will coerce all elements to the most flexible data type (usually character).\n\n\nCode\nmat &lt;- as.matrix(my_df)\nmat\n\n\n     id  name      score is_student\n[1,] \"1\" \"Alice\"   \"95\"  \"TRUE\"    \n[2,] \"2\" \"Bob\"     \"82\"  \"FALSE\"   \n[3,] \"3\" \"Charlie\" \"78\"  \"TRUE\"    \n[4,] \"4\" \"David\"   \"91\"  \"FALSE\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#data-frame-to-vector",
    "href": "data manipulation/2 data_structure.html#data-frame-to-vector",
    "title": "Data Structures in R",
    "section": "Data Frame to Vector",
    "text": "Data Frame to Vector\nYou can extract a single column as a vector using $ or [[ ]] notation.\n\n\nCode\nvec = my_df[['name']]\nvec\n\n\n[1] \"Alice\"   \"Bob\"     \"Charlie\" \"David\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-lists",
    "href": "data manipulation/2 data_structure.html#creating-lists",
    "title": "Data Structures in R",
    "section": "Creating Lists",
    "text": "Creating Lists\nUse the list() function. It’s good practice to name the list elements.\n\n\nCode\n# A list is often used to return multiple results from a function\nmy_model_output &lt;- list(\n  name = \"Linear Model\",\n  coefficients = c(intercept = 2.5, slope = 0.8),\n  r_squared = 0.85,\n  data = head(mtcars)\n)\n\nmy_model_output\n\n\n$name\n[1] \"Linear Model\"\n\n$coefficients\nintercept     slope \n      2.5       0.8 \n\n$r_squared\n[1] 0.85\n\n$data\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#subsetting-lists",
    "href": "data manipulation/2 data_structure.html#subsetting-lists",
    "title": "Data Structures in R",
    "section": "Subsetting Lists",
    "text": "Subsetting Lists\nSubsetting lists requires understanding the difference between [ and [[:\n\n[[index]] or [[name]] extracts a single element from the list. The result will have the type of that element.\n[index] or [name] extracts a sub-list. The result is always another list, even if you only select one element.\n\n\n\nCode\n# Extract the 'coefficients' vector (result is a numeric vector)\nmy_model_output[[\"coefficients\"]]\n\n\nintercept     slope \n      2.5       0.8 \n\n\nCode\n# Extract a sub-list containing only the 'coefficients' element (result is a list)\nmy_model_output[\"coefficients\"]\n\n\n$coefficients\nintercept     slope \n      2.5       0.8 \n\n\nCode\n# Use the $ operator as a convenient shortcut for [[name]]\nmy_model_output$r_squared\n\n\n[1] 0.85",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-arrays",
    "href": "data manipulation/2 data_structure.html#creating-arrays",
    "title": "Data Structures in R",
    "section": "Creating Arrays",
    "text": "Creating Arrays\nUse the array() function, specifying the data and the dimensions.\n\n\nCode\n# Create a 3D array (2 rows, 3 columns, 2 layers)\nmy_array &lt;- array(\n  data = 1:12, \n  dim = c(2, 3, 2)\n)\n\nmy_array\n\n\n, , 1\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n, , 2\n\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#subsetting-arrays",
    "href": "data manipulation/2 data_structure.html#subsetting-arrays",
    "title": "Data Structures in R",
    "section": "Subsetting Arrays",
    "text": "Subsetting Arrays\nElements are accessed using [row, column, dimension] notation.\n\n\nCode\n# Element in the 1st row, 2nd column of the 2nd layer\nmy_array[1, 2, 2]\n\n\n[1] 9\n\n\nCode\n# The entire first matrix (1st layer)\nmy_array[, , 1]\n\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html",
    "href": "Plot/4 Financial data.html",
    "title": "Plot Financial data",
    "section": "",
    "text": "This document provides a guide to sourcing and analyzing financial data in R. We will explore several packages that provide access to financial data from various sources, including Yahoo Finance and Quandl. We will also demonstrate how to use these packages to retrieve stock prices and financial statements, and how to visualize the data using plotly.\nCode\npak::pak(c(\"Quandl\"))\nCode\n# Load necessary libraries\nlibrary(quantmod)\nlibrary(tidyverse)\nlibrary(yahoofinancer)\nlibrary(Quandl)\nlibrary(plotly)\n#library(finreportr)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(httr)\nlibrary(janitor)\nlibrary(knitr)",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#using-yahoofinancer",
    "href": "Plot/4 Financial data.html#using-yahoofinancer",
    "title": "Plot Financial data",
    "section": "Using yahoofinancer",
    "text": "Using yahoofinancer\nThe yahoofinancer package provides a simple and intuitive interface for retrieving data from Yahoo Finance.\n\nRetrieving Index Data\nHere, we retrieve the historical data for the NIFTY 50 index (^NSEI). We then normalize the adjusted close price to compare its performance with other assets.\n\n\nCode\nnifty_50 &lt;- Index$new('^NSEI')\n\ndata001 = nifty_50$get_history(start = '2023-01-01', interval = '1d') %&gt;% unnest(cols = adj_close)\n\na = head(data001$adj_close, 1)[[1]]\n\ndata001b = data001 %&gt;% mutate(adj_close2 = adj_close / a)\n\n\n\n\nRetrieving Stock Data\nSimilarly, we can retrieve the historical data for an individual stock, such as Apple Inc. (AAPL).\n\n\nCode\naapl &lt;- Ticker$new('aapl')\n\ndata002 = aapl$get_history(start = '2023-01-01', interval = '1d') %&gt;% mutate(adj_close = as.numeric(adj_close))\n\na = head(data002$adj_close, 1)[[1]]\n\ndata002b = data002 %&gt;% mutate(adj_close2 = adj_close / a)\n\n\n\n\nVisualizing Stock Prices\nWe can use plotly to create an interactive chart comparing the normalized performance of the NIFTY 50 and Apple stock.\n\n\nCode\n# Initialize plot\nfig &lt;- plot_ly()\n\n# Add data from the first dataframe\nfig &lt;- fig %&gt;%\n    add_lines(data = data001b, name = \"NSEI50\", x = ~date, y = ~adj_close2)\n\n# Add data from the second dataframe\nfig &lt;- fig %&gt;%\n    add_lines(data = data002b, name = \"Apple\", x = ~date, y = ~adj_close2)\n\n# Show figure\nfig",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#quantmod",
    "href": "Plot/4 Financial data.html#quantmod",
    "title": "Plot Financial data",
    "section": "quantmod",
    "text": "quantmod\nThe quantmod package is another popular choice for financial data analysis in R. It provides a wide range of functions for retrieving, analyzing, and visualizing financial data.",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#finreportr",
    "href": "Plot/4 Financial data.html#finreportr",
    "title": "Plot Financial data",
    "section": "finreportr",
    "text": "finreportr\nThe finreportr package provides functions for retrieving financial reports from the SEC’s EDGAR database.",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#quandl",
    "href": "Plot/4 Financial data.html#quandl",
    "title": "Plot Financial data",
    "section": "Quandl",
    "text": "Quandl\nThe Quandl package provides access to a vast collection of financial and economic data from the Quandl platform.",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html",
    "href": "Plot/2 plotly.html",
    "title": "Plotly in R",
    "section": "",
    "text": "This document provides a comprehensive guide to creating interactive visualizations in R using the plotly package. Plotly is a powerful graphing library that allows you to create a wide range of interactive plots, including scatter plots, line plots, histograms, bar charts, box plots, and more. These plots are rendered as HTML widgets, which means they can be easily embedded in web pages and R Markdown documents, and they offer interactive features like tooltips, zooming, and panning right out of the box.\nWe will cover various types of plots and their customization options, demonstrating how to leverage Plotly’s capabilities for effective data visualization.\nCode\n# Load necessary libraries\nlibrary(gapminder)\nlibrary(plotly)\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# It's good practice to check the version of the package you are using.\npackageVersion(\"plotly\")\n\n\n[1] '4.11.0'\nThe plot_ly() function is the main function for creating Plotly graphs. It takes a data frame as input and you specify the mappings from variables in the data to the visual properties of the plot using the x, y, color, size, etc. arguments. The tilde (~) is used to indicate that the variable is from the specified data frame.",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#scatter-plots",
    "href": "Plot/2 plotly.html#scatter-plots",
    "title": "Plotly in R",
    "section": "Scatter Plots",
    "text": "Scatter Plots\nScatter plots are used to display the relationship between two continuous variables. Each point on the plot represents an observation, and its position is determined by its values for the two variables.\n\n\nCode\n# Load the tips dataset\ndata(tips)\nhead(tips)\n\n\n  total_bill  tip    sex smoker day   time size\n1      16.99 1.01 Female     No Sun Dinner    2\n2      10.34 1.66   Male     No Sun Dinner    3\n3      21.01 3.50   Male     No Sun Dinner    3\n4      23.68 3.31   Male     No Sun Dinner    2\n5      24.59 3.61 Female     No Sun Dinner    4\n6      25.29 4.71   Male     No Sun Dinner    4\n\n\nHere, we create a basic scatter plot of total_bill versus tip from the tips dataset.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, type = 'scatter', mode = 'markers')\nfig\n\n\n\n\n\n\n\nColor by Group\nYou can easily add a third variable to the scatter plot by mapping it to the color aesthetic. This helps in visualizing relationships within different categories.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, color = ~sex, type = 'scatter', mode = 'markers')\nfig\n\n\n\n\n\n\n\n\nSize by Group\nSimilarly, a fourth variable can be mapped to the size of the points, providing another dimension for data exploration.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, color = ~sex, size = ~size, type = 'scatter', mode = 'markers')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#line-plots",
    "href": "Plot/2 plotly.html#line-plots",
    "title": "Plotly in R",
    "section": "Line Plots",
    "text": "Line Plots\nLine plots are ideal for visualizing trends over time or across ordered categories.\nFirst, we prepare some aggregated data from the gapminder dataset to show population trends by continent.\n\n\nCode\ndata001 = gapminder\ndata002 = data001 %&gt;% group_by(continent, year) %&gt;% summarise(pop = sum(pop))\n\n\nHere, we create a line plot for the population of Asia over the years. The mode = 'lines' argument specifies that the points should be connected by lines.\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, type = 'scatter', mode = 'lines')\nfig\n\n\n\n\n\n\n\nLine Width and Color\nYou can customize the appearance of the lines, such as their color and width, using the line argument within plot_ly().\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, type = 'scatter', mode = 'lines', line = list(color = 'rgb(205, 12, 24)', width = 8))\nfig\n\n\n\n\n\n\n\n\nColor by Group\nTo display multiple lines, one for each group, you can map a categorical variable to the color argument.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, type = 'scatter', mode = 'lines')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#histograms",
    "href": "Plot/2 plotly.html#histograms",
    "title": "Plotly in R",
    "section": "Histograms",
    "text": "Histograms\nHistograms are used to visualize the distribution of a single continuous variable. They show the frequency of data points falling into specified bins.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, type = \"histogram\")\nfig\n\n\n\n\n\n\n\nSet Bin Number\nYou can control the number of bins in a histogram using the nbinsx argument, which affects the granularity of the distribution visualization.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, type = \"histogram\", nbinsx = 5)\nfig\n\n\n\n\n\n\n\n\nColor by Group\nSimilar to scatter plots, you can color histogram bars by a categorical variable to compare distributions across different groups.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#bar-charts",
    "href": "Plot/2 plotly.html#bar-charts",
    "title": "Plotly in R",
    "section": "Bar Charts",
    "text": "Bar Charts\nBar charts are used to compare categorical data. The length of each bar represents the value of a category.\nFirst, we aggregate the tips data to get the total bill for each sex.\n\n\nCode\ntips2 = tips %&gt;% group_by(sex) %&gt;% summarise(total_bill = sum(total_bill))\n\n\nHere, we create a bar chart showing the total bill for each sex.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\")\nfig\n\n\n\n\n\n\n\nShow Numbers on Bars\nYou can display the exact values on top of the bars using the text argument.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, text = ~total_bill, type = \"bar\")\nfig\n\n\n\n\n\n\n\n\nHorizontal Bar Plot\nTo create a horizontal bar chart, simply swap the x and y arguments.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, y = ~sex, x = ~total_bill, color = ~sex, type = \"bar\", orientation = 'h')\nfig\n\n\n\n\n\n\n\n\nBar Chart Order\nYou can control the order of categories on the x-axis using layout(xaxis = list(categoryorder = ...)). Options include \"total ascending\" and \"total descending\".\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\") %&gt;% \n  layout(xaxis = list(categoryorder = \"total ascending\"))\nfig\n\n\n\n\n\n\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\") %&gt;% \n  layout(xaxis = list(categoryorder = \"total descending\"))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#box-plots",
    "href": "Plot/2 plotly.html#box-plots",
    "title": "Plotly in R",
    "section": "Box Plots",
    "text": "Box Plots\nBox plots are useful for visualizing the distribution of a continuous variable and identifying potential outliers. They display the median, quartiles, and range of the data.\n\n\nCode\nfig &lt;- plot_ly(data = tips, y = ~total_bill, type = \"box\")\nfig\n\n\n\n\n\n\n\nColor by Group\nYou can create separate box plots for different groups by mapping a categorical variable to the x-axis and coloring by it.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~sex, y = ~total_bill, color = ~sex, type = \"box\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#strip-plots",
    "href": "Plot/2 plotly.html#strip-plots",
    "title": "Plotly in R",
    "section": "Strip Plots",
    "text": "Strip Plots\nStrip plots (or jitter plots) display individual data points, often used to show the distribution of a continuous variable for different categories.\n\n\nCode\np = ggplot(tips, aes(day, tip)) + geom_jitter(width = 0.1)\nggplotly(p)\n\n\n\n\n\n\n\nColor by Group\n\n\nCode\np = ggplot(tips, aes(day, tip, color = sex)) + geom_jitter(position = position_jitterdodge())\nggplotly(p)",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#facet-plots",
    "href": "Plot/2 plotly.html#facet-plots",
    "title": "Plotly in R",
    "section": "Facet Plots",
    "text": "Facet Plots\nFacet plots (or small multiples) create a grid of plots, with each plot showing a subset of the data. ggplotly() can also handle faceted ggplot2 plots.\n\n\nCode\np = ggplot(tips, aes(tip, total_bill)) + geom_point(aes(color = sex)) + facet_wrap(~day)\nggplotly(p)",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#add-title",
    "href": "Plot/2 plotly.html#add-title",
    "title": "Plotly in R",
    "section": "Add Title",
    "text": "Add Title\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\") %&gt;% layout(title = 'Distribution of Total Bill by Sex')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#adjust-size",
    "href": "Plot/2 plotly.html#adjust-size",
    "title": "Plotly in R",
    "section": "Adjust Size",
    "text": "Adjust Size\nControl the width and height of the plot using the width and height arguments in plot_ly().\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\", width = 500, height = 300)\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-axis-labels",
    "href": "Plot/2 plotly.html#change-axis-labels",
    "title": "Plotly in R",
    "section": "Change Axis Labels",
    "text": "Change Axis Labels\nCustomize the labels for the x and y axes using layout(xaxis = list(title = ...), yaxis = list(title = ...)).\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\") %&gt;% \n  layout(title = 'Distribution of Total Bill by Sex',\n         xaxis = list(title = 'Total Bill'),\n         yaxis = list(title = 'Frequency'))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-axis-range",
    "href": "Plot/2 plotly.html#change-axis-range",
    "title": "Plotly in R",
    "section": "Change Axis Range",
    "text": "Change Axis Range\nYou can set specific ranges for the x and y axes using the range argument within the xaxis and yaxis lists.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\") %&gt;% \n  layout(title = 'Distribution of Total Bill by Sex',\n         xaxis = list(title = 'Total Bill', range = c(0, 60)),\n         yaxis = list(title = 'Frequency', range = c(0, 50)))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#add-footnote",
    "href": "Plot/2 plotly.html#add-footnote",
    "title": "Plotly in R",
    "section": "Add Footnote",
    "text": "Add Footnote\nFootnotes can be added using the annotations argument within layout(), allowing you to include additional descriptive text.\n\n\nCode\nfig %&gt;% layout(annotations = \n               list(x = 1, y = -0.1, \n                    text = \"Source: reshape2 package\", \n                    showarrow = F, \n                    xref = 'paper', \n                    yref = 'paper', \n                    xanchor = 'right', \n                    yanchor = 'auto', \n                    xshift = 0, \n                    yshift = 0))",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#legend-customization",
    "href": "Plot/2 plotly.html#legend-customization",
    "title": "Plotly in R",
    "section": "Legend Customization",
    "text": "Legend Customization\n\nHide Legend\nYou can hide the legend by setting showlegend = FALSE in the layout() function.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(showlegend = FALSE)\nfig\n\n\n\n\n\n\n\n\nShow Legend and Change Legend Name\nTo explicitly show the legend and customize the name of a trace, use the name argument within plot_ly() and ensure showlegend = TRUE.\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, color = ~continent, mode = 'lines', name = 'Asia Population') %&gt;% layout(showlegend = TRUE)\nfig\n\n\n\n\n\n\n\n\nChange Legend Position and Orientation\nYou can adjust the legend’s position and orientation (e.g., horizontal) using the legend argument within layout().\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(legend = list(orientation = 'h', x = 0.1, y = 1.1))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#adding-images",
    "href": "Plot/2 plotly.html#adding-images",
    "title": "Plotly in R",
    "section": "Adding Images",
    "text": "Adding Images\nYou can embed images directly into your Plotly graphs, either from a URL or a local file.\n\nAdd Online Image\nTo add an image from a URL, specify the source and its position using xref, yref, x, y, sizex, sizey, and xanchor.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(\n    images = list(  \n      list(  \n        source =  \"https://raw.githubusercontent.com/cldougl/plot_images/add_r_img/vox.png\",\n        xref = \"paper\",\n        yref = \"paper\", \n        x = 0.1,\n        y = 0.9,\n        sizex = 0.2, \n        sizey = 0.2,\n        xanchor = \"left\",\n        yanchor = \"top\"\n      )  \n    )\n)\nfig\n\n\n\n\n\n\n\n\nAdd Local Image\nFor local images, you need to convert them to a base64 data URI using base64enc::dataURI(). You can also control the layer of the image (e.g., layer = \"below\" to place it behind the plot elements).\n\n\nCode\n# Note: You need a local image file named \"bee.png\" in your working directory for this code to run.\nif (file.exists(\"images/bee.png\")) {\n  fig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(\n      images = list(  \n        list(  \n          source = base64enc::dataURI(file = \"images/bee.png\"),\n          xref = \"paper\",\n          yref = \"paper\", \n          x = 0.5,\n          y = 0.5,\n          sizex = 0.2, \n          sizey = 0.2,\n          xanchor = \"center\",\n          yanchor = \"middle\",\n          layer = \"below\"\n        )  \n      )\n  )\n  fig\n}",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#applying-themes-with-ggplotly",
    "href": "Plot/2 plotly.html#applying-themes-with-ggplotly",
    "title": "Plotly in R",
    "section": "Applying Themes with ggplotly()",
    "text": "Applying Themes with ggplotly()\nWhen converting ggplot2 plots to Plotly, you can apply ggplot2 themes to control the overall aesthetic of the plot.\n\ntheme_bw()theme_light()theme_economist()\n\n\nThe theme_bw() provides a black and white theme, often preferred for publications.\n\n\nCode\np = ggplot(tips, aes(tip, total_bill, color = sex)) + geom_point() + scale_x_continuous(name = \"new x name\") + scale_y_continuous(name = \"new y name\")\nggplotly(p + theme_bw())\n\n\n\n\n\n\n\n\nThe theme_light() offers a light theme with a subtle gray background.\n\n\nCode\nggplotly(p + theme_light())\n\n\n\n\n\n\n\n\nThe theme_economist() from the ggthemes package mimics the style of plots found in The Economist magazine.\n\n\nCode\nlibrary(\"ggthemes\")\nggplotly(p + theme_economist())",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#saving-plots",
    "href": "Plot/2 plotly.html#saving-plots",
    "title": "Plotly in R",
    "section": "Saving Plots",
    "text": "Saving Plots\nTo save Plotly plots as static image files (e.g., PNG, JPEG, SVG), you need to install orca, a command-line utility developed by Plotly. You can also save them as interactive HTML files.\nSaving as an HTML file:\n\n\nCode\nlibrary(htmlwidgets)\nsaveWidget(fig, \"my_interactive_plot.html\")\n\n\nSaving as a static image:\nInstall orca from its GitHub repository: https://github.com/plotly/orca#installation\nA common way to install it is via conda: conda install -c plotly plotly-orca\nYou might also need the processx R package for orca to work correctly.\n\n\nCode\n#install.packages('processx')\n# orca(fig, \"my_static_plot.png\") # Assuming 'fig' is your plotly object",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#animated-plots",
    "href": "Plot/2 plotly.html#animated-plots",
    "title": "Plotly in R",
    "section": "Animated Plots",
    "text": "Animated Plots\nPlotly allows you to create animated plots, which are excellent for visualizing changes over time or across different states of data. The frame argument in plot_ly() is key for defining the animation variable.\n\n\nCode\nfig &lt;- plot_ly(data = gapminder, x = ~gdpPercap, y = ~lifeExp, color = ~continent, type = \"scatter\", mode = \"markers\", frame = ~year, text = ~country)\n\nfig %&gt;% animation_opts(\n    1000, easing = \"elastic\", redraw = FALSE\n  )",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#subplots",
    "href": "Plot/2 plotly.html#subplots",
    "title": "Plotly in R",
    "section": "Subplots",
    "text": "Subplots\nYou can combine multiple Plotly graphs into a single figure using the subplot() function. This is useful for displaying related visualizations together for comparison.\n\n\nCode\n# Prepare data for two different plots\ndata_scatter &lt;- tips\ndata_bar &lt;- tips %&gt;% group_by(sex) %&gt;% summarise(total_bill = sum(total_bill))\n\n# Create the first plot (scatter plot)\np1 &lt;- plot_ly(data = data_scatter, x = ~total_bill, y = ~tip, type = \"scatter\", mode = \"markers\", name = \"Scatter Plot\") %&gt;%\n  layout(title = \"Total Bill vs. Tip\")\n\n# Create the second plot (bar chart)\np2 &lt;- plot_ly(data = data_bar, x = ~sex, y = ~total_bill, type = \"bar\", name = \"Bar Chart\") %&gt;%\n  layout(title = \"Total Bill by Sex\")\n\n# Combine the plots into a subplot\nsubplot(p1, p2, nrows = 1, shareX = FALSE, shareY = FALSE) %&gt;% \n  layout(title = \"Combined Plots: Scatter and Bar Chart\")",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html",
    "href": "Plot/5 chart club.html",
    "title": "Chart club",
    "section": "",
    "text": "Welcome to the Chart Club! In this document, we will explore a variety of interesting and informative chart types, all created using the R programming language and the powerful ggplot2 package. We will delve into the code and concepts behind each chart, providing a practical guide to creating your own stunning visualizations.",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#loading-packages",
    "href": "Plot/5 chart club.html#loading-packages",
    "title": "Chart club",
    "section": "Loading Packages",
    "text": "Loading Packages\nWe start by loading the necessary packages: tidyverse for data manipulation and plotting, showtext for using custom fonts, and ggtext for advanced text rendering.\n\n\nCode\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(ggtext)\n\n# Load a custom font from Google Fonts\nfont_add_google(\"Libre Franklin\", \"franklin\")\nshowtext_opts(dpi = 300)\nshowtext_auto()",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#sourcing-the-data",
    "href": "Plot/5 chart club.html#sourcing-the-data",
    "title": "Chart club",
    "section": "Sourcing the Data",
    "text": "Sourcing the Data\nThe data for this chart is sourced from the Centers for Disease Control and Prevention (CDC).\n\nPre-pandemic data: Weekly Counts of Deaths by Jurisdiction and and Age\nPost-pandemic data: Provisional COVID-19 Death Counts by Week Ending Date and State\n\n\n\nCode\n# Load pre-pandemic data\npre0 &lt;- read_csv(\"./data/Weekly_Counts_of_Deaths_by_Jurisdiction_and_Age_20250615.csv\", \n         col_types = cols(`Week Ending Date` = col_date(format = \"%m/%d/%Y\")))\n\npre &lt;- pre0 %&gt;% \n  filter(Jurisdiction == \"United States\" & Type == \"Unweighted\") %&gt;% \n  summarize(pre_deaths = sum(`Number of Deaths`), .by = `Week Ending Date`) %&gt;% \n  rename(date = `Week Ending Date`)\n\n# Load post-pandemic data\npost0 &lt;- read_csv(\"./data/Provisional_COVID-19_Death_Counts_by_Week_Ending_Date_and_State_20250615.csv\",\n         col_types = cols(`End Date` = col_date(format = \"%m/%d/%Y\")))\n\npost &lt;- post0 %&gt;% \n  filter(State == \"United States\" & Group == \"By Week\") %&gt;% \n  select(date = `End Date`, post_deaths = `Total Deaths`) %&gt;% \n  group_by(date) %&gt;% \n  summarise(post_deaths = sum(post_deaths))",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-cleaning-and-preparation",
    "href": "Plot/5 chart club.html#data-cleaning-and-preparation",
    "title": "Chart club",
    "section": "Data Cleaning and Preparation",
    "text": "Data Cleaning and Preparation\nWe combine the pre- and post-pandemic data into a single data frame and create a new variable to distinguish between the two periods.\n\n\nCode\ndeaths_by_week &lt;- full_join(pre, post, by = \"date\") %&gt;% \n  mutate(deaths = if_else(is.na(post_deaths), pre_deaths, post_deaths)) %&gt;% \n  select(date, deaths) %&gt;% \n  mutate(pre_post = if_else(date &lt; \"2020-03-01\", \"pre\", \"post\")) %&gt;% \n  filter(date &gt;= \"2015-03-01\" & date &lt;= \"2025-05-17\")\n\npre_deaths &lt;- deaths_by_week %&gt;% \n  filter(pre_post == \"pre\") %&gt;% \n  summarize(mean = mean(deaths)) %&gt;% \n  pull(mean)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#creating-the-chart",
    "href": "Plot/5 chart club.html#creating-the-chart",
    "title": "Chart club",
    "section": "Creating the Chart",
    "text": "Creating the Chart\nWe use ggplot2 to create a line chart showing the weekly deaths over time. We use geom_rect to highlight the post-pandemic period and geom_hline to show the average pre-pandemic death rate.\n\n\nCode\ngg &lt;- deaths_by_week %&gt;% \n  ggplot(aes(x = date, y = deaths, color = pre_post)) + \n  geom_rect(xmin = ymd(\"2020-03-01\"), xmax = ymd(\"2026-03-01\"), \n            ymin = 0, ymax = 1e6, fill = \"#FCF0E9\", color = \"white\") + \n  geom_hline(yintercept = c(60000, 80000, pre_deaths), \n             linewidth = c(0.2, 0.2, 0.4), \n             color = c(\"gray80\", \"gray80\", \"black\"), \n             linetype = c(1, 1, 2)) + \n  geom_line(show.legend = FALSE, \n            linewidth = 0.75) + \n  annotate(geom = \"text\", hjust = 0, vjust = -0.2, \n           family = \"franklin\", size = 8.5, size.unit = \"pt\", \n           x = ymd(\"2015-03-01\"), \n           y = c(60000, 80000), \n           label = c(\"60,000\", \"80,000 deaths per week\")) + \n  annotate(geom = \"text\", family = \"franklin\", \n           x = ymd(\"2022-09-01\"), \n           y = pre_deaths * 0.98, \n           label = \"2015-19 average\") + \n  coord_cartesian(expand = FALSE, clip = \"off\") + \n  scale_y_continuous(breaks = c(60000, 80000), \n                     limits = c(45000, 89000)) + \n  scale_x_date(breaks = ymd(c(\"2016-01-01\", \"2018-01-01\", \"2020-03-01\", \n                              \"2022-01-01\", \"2024-01-01\")), \n               labels = c(\"2016\", \"2018\", \"March 2020\", \"2022\", \"2024\")) + \n  scale_color_manual(breaks = c(\"pre\", \"post\"), \n                     values = c(\"#58595B\", \"#F05A27\")) + \n  labs(x = NULL, \n       y = NULL, \n       title = \"Total U.S. deaths\") + \n  theme(\n    text = element_text(family = \"franklin\"),\n    plot.background = element_rect(fill = \"#EEEEEE\"),\n    plot.title = element_textbox_simple(face = \"bold\", size = 11.5,\n                                        fill = \"white\", width = NULL,\n                                        padding = margin(5, 4, 5, 4),\n                                        hjust = 0),\n    plot.margin = margin(4, 15, 10, 10),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    axis.text.x = element_text(size = 8.5, margin = margin(t = 3),\n                               color = \"black\"),\n    axis.ticks.length.x = unit(4, \"pt\"),\n    axis.ticks.x = element_line(linewidth = 0.4),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    panel.background = element_rect(fill = NA)\n  )\ngg\n\n\n\n\n\n\n\n\n\n\nSaving and Displaying the Chart\nWe can save the chart as a PNG file using ggsave() and also display it as an interactive plotly chart using ggplotly().\n\n\nCode\nggsave(\"pre_post_covid.png\", width = 6, height = 4.26)\n\nlibrary(plotly)\nggplotly(gg)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resources",
    "href": "Plot/5 chart club.html#resources",
    "title": "Chart club",
    "section": "Resources",
    "text": "Resources\n\nYouTube Tutorial: Creating this chart",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#loading-packages-1",
    "href": "Plot/5 chart club.html#loading-packages-1",
    "title": "Chart club",
    "section": "Loading Packages",
    "text": "Loading Packages\nWe load quantmod for retrieving financial data.\n\n\nCode\nlibrary(quantmod)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#sourcing-the-data-1",
    "href": "Plot/5 chart club.html#sourcing-the-data-1",
    "title": "Chart club",
    "section": "Sourcing the Data",
    "text": "Sourcing the Data\nWe use the getSymbols() function from quantmod to retrieve the historical data for the S&P 500 index (^GSPC).\n\n\nCode\nbeginning &lt;- as.Date(\"2025-01-01\")\nending &lt;- Sys.Date()\n\nsandp &lt;- getSymbols(\"^GSPC\", auto.assign = FALSE) %&gt;% \n  as_tibble(rownames = \"date\") %&gt;% \n  select(date, close = GSPC.Close) %&gt;% \n  mutate(date = parse_date(date), \n         week = isoweek(date), \n         year = year(date)) %&gt;% \n  filter((date &gt;= beginning - 7 & date &lt;= ending) & \n           ((year == 2024 & week == 52) | year == 2025)) %&gt;% \n  nest(weekly = -c(week, year)) %&gt;% \n  mutate(\n    weekly_close = map_dbl(weekly, \n                           ~slice_max(.x, order_by = date) %&gt;% pull(close)), \n    prev_weekly_close = lag(weekly_close), \n    weekly_loss = weekly_close &lt; prev_weekly_close) %&gt;% \n  drop_na(prev_weekly_close) %&gt;% \n  unnest(weekly)\n\nrectangles &lt;- sandp %&gt;% \n  summarize(first = min(date), \n            last = max(date), \n            weekly_loss = unique(weekly_loss), .by = c(week, year)) %&gt;% \n  select(first, last, weekly_loss)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#creating-the-chart-1",
    "href": "Plot/5 chart club.html#creating-the-chart-1",
    "title": "Chart club",
    "section": "Creating the Chart",
    "text": "Creating the Chart\nWe create a line chart of the S&P 500 closing price and use geom_rect to highlight the weeks with losses.\n\n\nCode\nmonth_label &lt;- sandp %&gt;% \n  filter(day(date) &lt;= 7) %&gt;% \n  distinct(month = month(date, label = TRUE), year, date) %&gt;% \n  group_by(month, year) %&gt;% \n  filter(date == min(date)) %&gt;% \n  ungroup()\n\ngap &lt;- 0.005\nymax &lt;- (1 + gap) * max(sandp$close)\nymin &lt;- (1 - gap) * min(sandp$close) \nmonth_y &lt;- ymin * 0.97\n\ngg &lt;- sandp %&gt;% \n  ggplot(aes(x = date, y = close, group = week)) + \n  geom_rect(data = rectangles, \n            aes(xmin = first, xmax = last, \n                ymin = ymin, ymax = ymax, fill = weekly_loss), \n            inherit.aes = FALSE) + \n  geom_hline(yintercept = seq(5100, 6100, 200), \n             color = \"gray80\", linewidth = 0.2) + \n  geom_line(color = \"#016C90\", linewidth = 0.75) + \n  geom_point(color = \"#016C90\") + \n  geom_text(data = month_label, \n            aes(x = date, y = month_y, label = paste0(month, \" \", year - 2000)), inherit.aes = FALSE, \n            family = \"franklin\", size = 9, size.unit = \"pt\") + \n  labs(\n    title = \"Investors recoil from Trump's pledge to remake the\\nglobal economy.\", \n    subtitle = \"&lt;span style = 'color:#F6904C'&gt;**Orange bars**&lt;/span&gt; indicate weekly losses from end of previous week.\", \n    caption = \"Source: Yahoo\"\n  ) + \n  scale_fill_manual(\n    breaks = c(TRUE, FALSE), \n    values = c(\"#FDE3D4\", \"#E9F0F3\")\n  ) + \n  coord_cartesian(expand = FALSE, clip = \"off\", \n                  ylim = c(ymin, ymax)) + \n  scale_y_continuous(breaks = seq(5100, 6100, 200), \n                     labels = scales::label_number(big.mark = \",\")) + \n  scale_x_date(limits = c(min(sandp$date) - 2, max(sandp$date) + 2), \n               breaks = seq(as.Date(\"2025-01-06\"), max(sandp$date), 14), \n               date_labels = \"%e\") + \n  theme(\n    text = element_text(family = \"franklin\"), \n    panel.grid = element_blank(), \n    panel.background = element_blank(), \n    legend.position = \"none\", \n    plot.title.position = \"plot\", \n    plot.title = element_text(family = \"domine\", size = 16, face = \"bold\", \n                              lineheight = 1.2), \n    plot.subtitle = element_markdown(family = \"domine\", size = 10, \n                                     color = \"gray30\", \n                                     margin = margin(t = 23, b = 19)), \n    plot.caption.position = \"plot\", \n    plot.caption = element_text(hjust = 0, size = 8, color = \"gray30\", \n                                margin = margin(t = 29)), \n    plot.margin = margin(t = 8, r = 10, b = 8, l = 7), \n    axis.title = element_blank(), \n    axis.ticks = element_blank(), \n    axis.text.x = element_text(margin = margin(t = 3))\n  )\ngg\n\n\n\n\n\n\n\n\n\n\nSaving the Chart\n\n\nCode\nggsave(\"sandp500_weekly.png\", width = 6, height = 5.17)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resources-1",
    "href": "Plot/5 chart club.html#resources-1",
    "title": "Chart club",
    "section": "Resources",
    "text": "Resources\n\nRiffomonas Code Club: S&P 500 Weekly Chart\nYouTube Tutorial: Creating this chart",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#loading-packages-2",
    "href": "Plot/5 chart club.html#loading-packages-2",
    "title": "Chart club",
    "section": "Loading Packages",
    "text": "Loading Packages\nWe use the tabulapdf package to extract tables from a PDF document.\n\n\nCode\nlibrary(tabulapdf)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#sourcing-the-data-2",
    "href": "Plot/5 chart club.html#sourcing-the-data-2",
    "title": "Chart club",
    "section": "Sourcing the Data",
    "text": "Sourcing the Data\nThe data for this chart is sourced from a PDF document from the Center on Budget and Policy Priorities.\n\n\nCode\n# Function to create the waffle data\nwaffler &lt;- function(d, n_rows = 7){  \n  n_cols &lt;- ceiling(sum(d$billions) / n_rows)\n  n_na &lt;- n_cols * n_rows - sum(d$billions)\n  \n  d &lt;- uncount(d, billions) %&gt;% \n    arrange(budget) \n  \n  if(n_na != 0) {\n    d &lt;- bind_rows(d, tibble(budget = rep(NA, n_na)))\n  }\n  \n  bind_cols(d, expand_grid(col = 1:n_cols, row = 1:n_rows))\n}\n\nscale_factor &lt;- 5 # $billions\nnrows &lt;- 5\n\n# Extract table from PDF\nout &lt;- extract_tables('./data/60870-By-the-Numbers.pdf')\npdf_data &lt;- out[[1]] |&gt; janitor::clean_names()\n\npdf_data002 &lt;- pdf_data[-c(1, 2), ] \npdf_data003 &lt;- pdf_data002 |&gt; separate_wider_delim(cols = x6, delim = \" \", names = c(\"left\", \"right\"), too_few = \"debug\")\npdf_data004 &lt;- pdf_data003 |&gt; \n  select(name = the_budget_outlook_by_fiscal_year, right) |&gt; \n  filter(name %in% c(\"Social Security\", \"Medicare\", 'Medicaid, CHIP, and marketplace subsidies', 'Defense', 'Nondefense', 'Other mandatory')) |&gt; \n  mutate(\n    new_name = case_when(\n      name == \"Social Security\" ~ \"social_security\",\n      name == \"Medicare\" ~ \"medicare\",\n      name == \"Medicaid, CHIP, and marketplace subsidies\" ~ \"medicaid\",\n      name == \"Defense\" ~ \"defense\",\n      name == \"Nondefense\" ~ \"nondefense\",\n      name == \"Other mandatory\" ~ \"other_benefits\"\n    ),\n    order = case_when(\n      name == \"Nondefense\" ~ 1,\n      name == \"Defense\" ~ 2,\n      name == \"Medicaid, CHIP, and marketplace subsidies\" ~ 3,\n      name == \"Medicare\" ~ 5,\n      name == \"Social Security\"  ~ 6\n    )\n  ) |&gt; \n  arrange(order) |&gt; \n  select(category = new_name, billions = right)\n\nbudget0 &lt;- tribble(\n  ~percent_cut, ~pretty,\n  16, \"**Nondefense discretionary funding**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;Federal programs, contracts, grants and employment&lt;/span&gt;\",\n  16, \"**Defense**\",\n  16, \"**Medicaid, Obamacare, CHIP**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;CHIP is Children's Health Insurance Program&lt;/span&gt;\",\n  16, \"**Other benefits to individuals**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;Anti-poverty programs, farm aid, military retirement, other \\\"mandatory\\\" spending&lt;/span&gt;\",\n  16, \"**Medicare**\",\n  16, \"**Social Security**\"\n)\n\nbudget &lt;- cbind(pdf_data004, budget0) |&gt; \n  mutate(billions = billions |&gt; str_remove_all(\",\") |&gt; as.numeric(),\n         bill_cut = billions * percent_cut / 100,\n         bill_remain = billions - bill_cut,\n         category = factor(category, levels = category)\n  )",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#creating-the-chart-2",
    "href": "Plot/5 chart club.html#creating-the-chart-2",
    "title": "Chart club",
    "section": "Creating the Chart",
    "text": "Creating the Chart\nWe use geom_tile to create the waffle chart, with each tile representing $5 billion in spending.\n\n\nCode\ndata &lt;- budget %&gt;% \n  select(category, cut = bill_cut, remain = bill_remain) %&gt;% \n  pivot_longer(-category, values_to = \"billions\", names_to = \"budget\") %&gt;% \n  mutate(billions = round(billions / scale_factor, digits = 0), \n         budget = factor(budget, levels = c(\"remain\", \"cut\"))) %&gt;% \n  nest(data = -category) %&gt;% \n  mutate(waffle = map(data, waffler, n_row = nrows)) %&gt;% \n  select(category, waffle) %&gt;% \n  unnest(waffle)\n\npretty_labels &lt;- pull(budget, pretty)\nnames(pretty_labels) &lt;- pull(budget, category)\n\npretty_cut &lt;- budget %&gt;% \n  mutate(y = nrows, \n         x = ceiling(max(billions) / scale_factor / nrows), \n         label = paste0(percent_cut, \"% cut\")) %&gt;% \n  select(category, x, y, label)\n\ngg &lt;- data %&gt;% \n  ggplot(aes(x = col, y = row, fill = budget)) + \n  geom_tile(color = \"white\", linewidth = 0.3, show.legend = FALSE) + \n  geom_point(data = tibble(category = factor(\"social_security\"), \n                           col = 1, row = -2, \n                           budget = \"remain\"), \n             shape = \"square\", color = \"#9E9E9E\", size = 2, \n             show.legend = FALSE) + \n  geom_text(data = tibble(category = factor(\"social_security\"), \n                          col = 2, row = -2, \n                          budget = \"remain\"), \n            label = \"Each box represents $5 billion in projected fiscal year 2026 spending. Defense and nondefense\\ndiscretionary amounts represent budget authority.\", \n            color = \"#9E9E9E\", family = \"franklin\", size = 8, size.unit = \"pt\", \n            hjust = 0, vjust = 0.8, lineheight = 1, show.legend = FALSE) + \n  geom_text(data = pretty_cut, \n            aes(x = x, y = y, label = label), \n            hjust = 0.95, vjust = -0.8, \n            family = \"franklin\", fontface = \"bold\", \n            size = 10, size.unit = \"pt\", color = \"#FC1F76\", \n            inherit.aes = FALSE) + \n  facet_wrap(vars(category), ncol = 1, \n             labeller = labeller(category = pretty_labels)) + \n  labs(\n    title = \"How to reach $1 trillion &lt;span style='color:#FC1F76;'&gt;if Social Security and Medicare are added as equal cuts:&lt;/span&gt;\", \n    caption = \"Source: Analysis of Congressional Budget Office data by Richard Kogan, Center on Budget and Policy Priorities • Note: Interest payments on the federal debt are not shown. • The New York Times\"\n  ) + \n  scale_fill_manual(\n    breaks = c(\"remain\", \"cut\"), \n    values = c(\"#9E9E9E\", \"#FFADC9\"), na.value = \"#FFFFFF\"\n  ) + \n  coord_cartesian(expand = FALSE, clip = \"off\") + \n  theme(\n    text = element_text(family = \"franklin\"), \n    panel.grid = element_blank(), \n    panel.background = element_blank(), \n    axis.title = element_blank(), \n    axis.text = element_blank(), \n    axis.ticks = element_blank(), \n    plot.title = element_textbox_simple(face = \"bold\", size = 14, \n                                        margin = margin(b = 10)), \n    plot.caption = element_textbox_simple(color = \"gray40\", size = 8.5, \n                                          lineheight = 1.3, \n                                          margin = margin(t = 20, b = 5)), \n    strip.text = element_markdown(hjust = 0, size = 10, lineheight = 1, \n                                  margin = margin(0, 0, 2, 0)), \n    strip.background = element_blank(), \n    panel.spacing.y = unit(-10, \"pt\")\n  )\ngg\n\n\n\n\n\n\n\n\n\n\nSaving the Chart\n\n\nCode\nggsave(\"budget_waffle.png\", width = 6, height = 6.4)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resources-2",
    "href": "Plot/5 chart club.html#resources-2",
    "title": "Chart club",
    "section": "Resources",
    "text": "Resources\n\nRiffomonas Code Club: Waffle Chart\nYouTube Tutorial: Creating this chart",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/Map/5 world map.html",
    "href": "Plot/Map/5 world map.html",
    "title": "World map with GPD per capita",
    "section": "",
    "text": "1 Download data\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(janitor)\nlibrary(tidygeocoder)\nlibrary(leaflet)\nlibrary(sf)\n\n\nworld geojson\n\n\nCode\n# From http://data.okfn.org/data/datasets/geo-boundaries-world-110m\n#countries &lt;- sf::read_sf(\"https://rstudio.github.io/leaflet/json/countries.geojson\")\ncountries &lt;- sf::read_sf(\"https://raw.githubusercontent.com/johan/world.geo.json/refs/heads/master/countries.geo.json\")\n\n\nworld gpd per capita data\n\n\nCode\nworld_gdp_per_capita=read.csv(\"https://gist.githubusercontent.com/vr-23/d6a4a0aadcf3a2640091ca43c25e1955/raw/57b9cb74b24dc87b489c74cc4e11209cd5720642/world-data-2023.csv\")\n\n\n\n\nCode\n# data source: https://data.worldbank.org/\ndownload.file(\"https://api.worldbank.org/v2/en/indicator/NY.GDP.PCAP.CD?downloadformat=csv\",destfile='world_data.zip')\n\n\n\n\nCode\nunzip('world_data.zip')\n\n\n\n\nCode\nworld_gdp_per_capita=read.csv(\"API_NY.GDP.PCAP.CD_DS2_en_csv_v2_76317.csv\",skip = 3) |&gt; clean_names()\n\n\n\n\nCode\ndata001=countries |&gt; left_join(world_gdp_per_capita,by = join_by(id ==country_code))\n\n\n\n\nCode\npal &lt;- colorNumeric(palette = c('red','orange','yellow','pink','blue', 'green'),\n                    domain = data001$x2023\n  )\n\n\n\nm &lt;- leaflet(data001) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n   addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(x2023)\n    ,color = ~pal(x2023)\n   #color = ~binpal(x2023)\n    ,popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", x2023, \"（美元）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", data001$country_name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(data001$x2023), \" USD&lt;br/&gt;\"\n     # , \"总gpd 美元：\", round(data001$total_2022_usd), \"M &lt;br/&gt;\"\n\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~x2023, opacity = 1.0\n    )\n\n\n\n\nCode\nm  |&gt;  setView(lng = -10, lat = 45, zoom = 2)\n\n\n\n\n\n\n\n\n2 resouce:\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "Map",
      "World map with GPD per capita"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html",
    "href": "Plot/Map/1 leaflet.html",
    "title": "Interactive Maps with Leaflet in R",
    "section": "",
    "text": "This document provides a comprehensive guide to creating interactive maps using the leaflet package in R. We will explore various features of leaflet, from basic map creation to advanced customizations like adding markers, popups, and choropleth layers. This guide is intended for users who have a basic understanding of R and are interested in data visualization and geospatial analysis.",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#loading-geospatial-and-gdp-data",
    "href": "Plot/Map/1 leaflet.html#loading-geospatial-and-gdp-data",
    "title": "Interactive Maps with Leaflet in R",
    "section": "8.1 Loading Geospatial and GDP Data",
    "text": "8.1 Loading Geospatial and GDP Data\nWe’ll start by loading the world administrative boundaries from a GeoJSON file and then merge it with per capita GDP data from an Excel file.\n\n\nCode\n# The maptools package is now archived, so we are not using it.\n# install.packages(\"https://cran.r-project.org/src/contrib/Archive/maptools/maptools_1.1-8.tar.gz\")\n\n\n\n\nCode\n# Read the world administrative boundaries from a GeoJSON file.\njson_data=read_sf(\"world-administrative-boundaries.geojson\")\n\n\n\n\nCode\n# Convert the sf object to a data frame.\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n# This is an example of how you could create a data frame manually.\n# name&lt;-c(\"Ghana\", \"Grenada\", \"Guyana\", \"India\", \"Jamaica\", \"Kenya\", \"United States\",\"Canada\")\n# val&lt;-c(1,2,4,5,5,1000,20000, 100)\n# per_gdp_usd&lt;-data.frame(name,val)\n\n\n\n\nCode\n# Load the openxlsx and readxl packages for reading Excel files.\nlibrary(openxlsx)\nlibrary(readxl)\n\n# Read the world GDP data from an Excel file and clean up the country names to match the GeoJSON data.\nper_gdp_usd=read_excel('world data.xlsx') %&gt;% mutate(\n  name=case_when(\n    name == \"United States\" ~ \"United States of America\",\n    name == \"Russia\" ~ \"Russian Federation\",\n    name == \"U.K. of Great Britain and Northern Ireland\" ~ \"United Kingdom\",\n    name == \"South Korea\"~ \"Republic of Korea\",\n    name == \"Lao People's Democratic Republic\" ~ \"Laos\",\n    TRUE ~ name\n  )\n)",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#merging-and-preparing-the-data",
    "href": "Plot/Map/1 leaflet.html#merging-and-preparing-the-data",
    "title": "Interactive Maps with Leaflet in R",
    "section": "8.2 Merging and Preparing the Data",
    "text": "8.2 Merging and Preparing the Data\nWe’ll merge the geospatial data with the GDP data and convert it back to an sf object.\n\n\nCode\n# These lines are for debugging and checking the data.\n# test=full_join(map_df, per_gdp_usd, by=\"name\")\n# left =test %&gt;% filter(is.na(iso3)==TRUE)\n# right=test %&gt;% filter(is.na(per_gdp_total)==TRUE)\n\n\n\n\nCode\n# Merge the map data frame with the GDP data frame by country name.\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"name\")\n\n\n\n\nCode\n# Get a glimpse of the merged data frame.\nglimpse(map_df002)\n\n\nRows: 158\nColumns: 12\n$ name                     &lt;chr&gt; \"Albania\", \"Algeria\", \"Andorra\", \"Angola\", \"A…\n$ geo_point_2d             &lt;chr&gt; \"{ \\\"lon\\\": 20.068384605918776, \\\"lat\\\": 41.1…\n$ iso3                     &lt;chr&gt; \"ALB\", \"DZA\", \"AND\", \"AGO\", \"ARG\", \"ARM\", \"AU…\n$ status                   &lt;chr&gt; \"Member State\", \"Member State\", \"Member State…\n$ color_code               &lt;chr&gt; \"ALB\", \"DZA\", \"AND\", \"AGO\", \"ARG\", \"ARM\", \"AU…\n$ continent                &lt;chr&gt; \"Europe\", \"Africa\", \"Europe\", \"Africa\", \"Amer…\n$ region                   &lt;chr&gt; \"Southern Europe\", \"Northern Africa\", \"Southe…\n$ iso_3166_1_alpha_2_codes &lt;chr&gt; \"AL\", \"DZ\", \"AD\", \"AO\", \"AR\", \"AM\", \"AU\", \"AT…\n$ french_short             &lt;chr&gt; \"Albanie\", \"Algérie\", \"Andorre\", \"Angola\", \"A…\n$ geometry                 &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((20.07142 42..., …\n$ per_gdp_total            &lt;dbl&gt; 1.888210e+10, 1.919130e+11, 3.352033e+09, 1.0…\n$ per_gdp_usd              &lt;dbl&gt; 6643, 4274, 41993, 2999, 13904, 7014, 64003, …\n\n\n\n\nCode\n# Convert the merged data frame back to an sf object.\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#creating-the-choropleth-map",
    "href": "Plot/Map/1 leaflet.html#creating-the-choropleth-map",
    "title": "Interactive Maps with Leaflet in R",
    "section": "8.3 Creating the Choropleth Map",
    "text": "8.3 Creating the Choropleth Map\nNow we can create the choropleth map.\n\n\nCode\n# Create a color palette for the choropleth map.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the leaflet map.\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  # Add polygons to the map, representing the countries.\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    # Set the fill color based on the per capita GDP.\n    fillColor = ~ pal(per_gdp_usd),\n    # Create a popup with information about the country.\n    popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gdp_usd, \"（千 美元）\", \"&lt;br/&gt;\"\n    ),\n    # Create a label with more detailed information.\n     label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(map_sf002$per_gdp_usd/1000), \"K &lt;br/&gt;\",\n       \"总gpd 美元：\", round(map_sf002$per_gdp_total/1000000), \"M &lt;br/&gt;\"\n    ), htmltools::HTML)\n    ) %&gt;%\n  # Add a legend to the map.\n  addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gdp_usd, opacity = 1.0\n    )",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#china-one-city-map-shenzhen",
    "href": "Plot/Map/1 leaflet.html#china-one-city-map-shenzhen",
    "title": "Interactive Maps with Leaflet in R",
    "section": "9.1 China One City Map (Shenzhen)",
    "text": "9.1 China One City Map (Shenzhen)\nHere, we’ll create a map of Shenzhen.\n\n\nCode\n# Read the GeoJSON data for Shenzhen.\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/citys/440300.json\")\n# You can also load the data directly from a URL.\n# json_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/440300_full.json\")\n\n\nShenzhen City: ::: {.cell}\n\nCode\n# Create a color palette.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the map of Shenzhen.\nleaflet(json_data) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.1)\n\n\n\n\n\n:::",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#all-china-each-province-gdp-map",
    "href": "Plot/Map/1 leaflet.html#all-china-each-province-gdp-map",
    "title": "Interactive Maps with Leaflet in R",
    "section": "9.2 All China Each Province GDP Map",
    "text": "9.2 All China Each Province GDP Map\nNext, we’ll create a choropleth map of China’s provinces, colored by their per capita GDP in 2022.\n\n\nCode\n# Read the GeoJSON data for China's provinces.\njson_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n\nChina 2022 Per Capita GDP by Province (USD):\n\n\nCode\n# Load the openxlsx and readxl packages.\nlibrary(openxlsx)\nlibrary(readxl)\n# Read the GDP data for China's provinces.\nper_gdp_usd=read_excel('china gdp2022.xlsx')\n\n\n\n\nCode\n# Convert the sf object to a data frame.\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n# Merge the map data with the GDP data.\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"city\")\n\n\n\n\nCode\n# Convert the merged data frame back to an sf object.\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\n\n\nCode\n# Create a color palette.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the choropleth map of China's provinces.\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gpd_usd),\n    popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gpd_usd, \"（美万）\", \"&lt;br/&gt;\"\n    ),\n     label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", map_sf002$per_gpd_usd, \"&lt;br/&gt;\",\n      \"人均gpd 人民币：\", map_sf002$per_gpd_rmb, \"&lt;br/&gt;\",\n       \"人口：\", round(map_sf002$total_gpd_rmb/map_sf002$per_gpd_rmb), \"&lt;br/&gt;\"\n    ), htmltools::HTML)\n    ) %&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gpd_usd, opacity = 1.0\n    )\n\n\n\n\n\n\nGDP data source: National Bureau of Statistics of China",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#china-one-province-map-with-each-citys-gdp-guangdong",
    "href": "Plot/Map/1 leaflet.html#china-one-province-map-with-each-citys-gdp-guangdong",
    "title": "Interactive Maps with Leaflet in R",
    "section": "9.3 China One Province Map with Each City’s GDP (Guangdong)",
    "text": "9.3 China One Province Map with Each City’s GDP (Guangdong)\nHere, we’ll create a choropleth map of Guangdong province, with each city colored by its per capita GDP in 2021.\n\n\nCode\n# Read the GeoJSON data for Guangdong province.\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/province/440000.json\")\n\n\nGuangdong 2021 Per Capita GDP by City (USD):\n\n\nCode\n# Load the openxlsx and readxl packages.\nlibrary(openxlsx)\nlibrary(readxl)\n# Read the GDP data for Guangdong's cities.\nper_gdp_usd=read_excel('guangdong city gdp2021.xlsx')\n\n\n\n\nCode\n# Convert the sf object to a data frame.\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n# Merge the map data with the GDP data.\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"city\")\n\n\n\n\nCode\n# Convert the merged data frame back to an sf object.\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\nData source: Guangdong Statistical Yearbook 2022 ::: {.cell}\n\nCode\n# Create a color palette.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the choropleth map of Guangdong province.\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gpd_usd),\n    popup = ~ paste0(\n      \"城市：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gpd_usd, \"（美万）\", \"&lt;br/&gt;\"\n    ),\n     label = lapply(paste0(\n      \"城市：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", map_sf002$per_gpd_usd, \"&lt;br/&gt;\",\n      \"人均gpd 人民币：\", map_sf002$per_gpd_rmb, \"&lt;br/&gt;\",\n       \"人口：\", round(map_sf002$total_gpd_rmb*10000000/map_sf002$per_gpd_rmb), \"&lt;br/&gt;\"\n    ), htmltools::HTML)\n    ) %&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gpd_usd, opacity = 1.0\n    )\n\n\n\n\n\n:::\nhttps://zh.wikipedia.org/wiki/%E5%B9%BF%E4%B8%9C%E5%90%84%E5%9C%B0%E7%BA%A7%E5%B8%82%E5%9C%B0%E5%8C%BA%E7%94%9F%E4%BA%A7%E6%80%BB%E5%80%BC%E5%88%97%E8%A1%A8",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#add-provincial-capitals",
    "href": "Plot/Map/1 leaflet.html#add-provincial-capitals",
    "title": "Interactive Maps with Leaflet in R",
    "section": "10.1 Add Provincial Capitals",
    "text": "10.1 Add Provincial Capitals\nNow, let’s add the provincial capitals to the map.\n\n\nCode\n# Read the GeoJSON data for China's provinces.\nChina=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n\n\n\nCode\n# Extract the coordinates of the provincial capitals.\nChina002=China %&gt;% as_data_frame() %&gt;% mutate(\n                                            center2=as.character(center) %&gt;% str_replace('c','_')%&gt;% str_replace('[(]','') %&gt;% str_replace('[)]','')\n                                               )\n\n\n\n\nCode\n# Separate the coordinates into x and y columns.\nChina003=China002%&gt;%separate(center2, c(\"x\", \"y\"), \", \")\n\n\n\n\nCode\n# Add the provincial capitals to the map.\nChina_point = China003 %&gt;%\n  slice(-35)\n\nm %&gt;%\n  addCircles(data = China_point,\n                  lng = ~as.numeric(x), lat = ~as.numeric(y),color = \"red\",weight = 10,\n                  fillOpacity =2)",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "intro/7 error handling.html",
    "href": "intro/7 error handling.html",
    "title": "Error handling",
    "section": "",
    "text": "error: can not find Python specified in RETICULATE_PYTHON (/Library/Frameworks/Python.framework/Versions/3.12/bin/python3)\n\n\nwhich -a python python3\n\n\n\ngo to home folder by Command-Shift-H\nRETICULATE_PYTHON=\"/Library/Frameworks/Python.framework/Versions/3.13/bin/python3\"",
    "crumbs": [
      "Intro",
      "Error handling"
    ]
  },
  {
    "objectID": "intro/7 error handling.html#find-current-python-version",
    "href": "intro/7 error handling.html#find-current-python-version",
    "title": "Error handling",
    "section": "",
    "text": "which -a python python3",
    "crumbs": [
      "Intro",
      "Error handling"
    ]
  },
  {
    "objectID": "intro/7 error handling.html#change-python-version-in-.renviron-under-home-folder",
    "href": "intro/7 error handling.html#change-python-version-in-.renviron-under-home-folder",
    "title": "Error handling",
    "section": "",
    "text": "go to home folder by Command-Shift-H\nRETICULATE_PYTHON=\"/Library/Frameworks/Python.framework/Versions/3.13/bin/python3\"",
    "crumbs": [
      "Intro",
      "Error handling"
    ]
  },
  {
    "objectID": "intro/2 probability.html",
    "href": "intro/2 probability.html",
    "title": "Probability",
    "section": "",
    "text": "Probability is the branch of mathematics concerning events and numerical descriptions of how likely they are to occur. The probability of an event is a number between 0 and 1; the larger the probability, the more likely an event is to occur.",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#draw-10-numbers-from-1-to-10",
    "href": "intro/2 probability.html#draw-10-numbers-from-1-to-10",
    "title": "Probability",
    "section": "1.1 Draw 10 numbers from 1 to 10",
    "text": "1.1 Draw 10 numbers from 1 to 10\nThe sample() function is used to take a random sample from a vector. Here, we are sampling 10 numbers from the sequence 1 to 10. replace = TRUE means that after a number is drawn, it is put back into the pool and can be drawn again.\n\n\nCode\na = sample(1:10, 10, replace = TRUE)\na\n\n\n [1]  8  6  5  5  6 10  9  4  1  5\n\n\nThis code creates a frequency table to show how many times each number was drawn. With a small sample size, the distribution might not be perfectly even.\n\n\nCode\nas.data.frame(table(a))\n\n\n   a Freq\n1  1    1\n2  4    1\n3  5    3\n4  6    2\n5  8    1\n6  9    1\n7 10    1",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#draw-10000-numbers-from-1-to-10",
    "href": "intro/2 probability.html#draw-10000-numbers-from-1-to-10",
    "title": "Probability",
    "section": "1.2 Draw 10,000 numbers from 1 to 10",
    "text": "1.2 Draw 10,000 numbers from 1 to 10\nBy increasing the sample size to 10,000, the law of large numbers suggests that the frequency of each number will be much closer to 10%.\n\n\nCode\na = sample(1:10, 10000, replace = TRUE)\n\n\n\n\nCode\nas.data.frame(table(a))\n\n\n    a Freq\n1   1  989\n2   2 1038\n3   3  979\n4   4  964\n5   5  999\n6   6 1003\n7   7 1037\n8   8 1039\n9   9  952\n10 10 1000",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#permutations-order-matters-choosing-2-numbers-from-4",
    "href": "intro/2 probability.html#permutations-order-matters-choosing-2-numbers-from-4",
    "title": "Probability",
    "section": "2.1 Permutations (order matters): choosing 2 numbers from 4",
    "text": "2.1 Permutations (order matters): choosing 2 numbers from 4\nThe gtools::permutations() function calculates the number of ways to choose and arrange r items from a set of n items. The formula is n! / (n-r)!.\n\n\nCode\nlibrary(gtools)\nall_num = 4\nchoose = 2\n\nres &lt;- permutations(n = all_num, r = choose, v = 1:all_num)\nres\n\n\n      [,1] [,2]\n [1,]    1    2\n [2,]    1    3\n [3,]    1    4\n [4,]    2    1\n [5,]    2    3\n [6,]    2    4\n [7,]    3    1\n [8,]    3    2\n [9,]    3    4\n[10,]    4    1\n[11,]    4    2\n[12,]    4    3\n\n\nThe number of permutations is 12.\n\n\nCode\nprint(nrow(res))\n\n\n[1] 12\n\n\nThis can be calculated manually using the formula 4! / (4-2)!.\n\n\nCode\nfactorial(4) / factorial(4 - 2)\n\n\n[1] 12",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#combinations-order-does-not-matter-choosing-2-numbers-from-4",
    "href": "intro/2 probability.html#combinations-order-does-not-matter-choosing-2-numbers-from-4",
    "title": "Probability",
    "section": "2.2 Combinations (order does not matter): choosing 2 numbers from 4",
    "text": "2.2 Combinations (order does not matter): choosing 2 numbers from 4\nThe gtools::combinations() function calculates the number of ways to choose r items from a set of n items, where order does not matter. The formula is n! / ((n-r)! * r!).\n\n\nCode\nlibrary(gtools)\nall_num = 4\nchoose = 2\n\nres &lt;- combinations(n = all_num, r = choose, v = 1:all_num)\nres\n\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    1    3\n[3,]    1    4\n[4,]    2    3\n[5,]    2    4\n[6,]    3    4\n\n\nThe number of combinations is 6.\n\n\nCode\nprint(nrow(res))\n\n\n[1] 6\n\n\nThis can be calculated manually using the formula 4! / ((4-2)! * 2!).\n\n\nCode\nfactorial(4) / (factorial(4 - 2) * factorial(2))\n\n\n[1] 6",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#solution-1-pat-least-one-p1-snoring-p2-snoring-p3-snoring-p4-snoring",
    "href": "intro/2 probability.html#solution-1-pat-least-one-p1-snoring-p2-snoring-p3-snoring-p4-snoring",
    "title": "Probability",
    "section": "3.1 Solution 1: P(at least one) = P(1 snoring) + P(2 snoring) + P(3 snoring) + P(4 snoring)",
    "text": "3.1 Solution 1: P(at least one) = P(1 snoring) + P(2 snoring) + P(3 snoring) + P(4 snoring)\nThis method calculates the probability of each case (1, 2, 3, or 4 people snoring) and adds them together.\n\n3.1.1 0 snoring\n\n\nCode\np0 = (0.8 * 0.8 * 0.8 * 0.8)\np0\n\n\n[1] 0.4096\n\n\n\n\n3.1.2 1 snoring\nThere are 4 possible ways for exactly one person to snore.\n\n\nCode\np1 = (0.2 * 0.8 * 0.8 * 0.8) * 4\np1\n\n\n[1] 0.4096\n\n\n\n\n3.1.3 2 snoring\nThere are C(4,2) = 6 ways for exactly two people to snore.\n\n\nCode\nfactorial(4) / (factorial(4 - 2) * factorial(2))\n\n\n[1] 6\n\n\n\n\nCode\np2 = (0.2 * 0.2 * 0.8 * 0.8) * 6\np2\n\n\n[1] 0.1536\n\n\n\n\n3.1.4 3 snoring\nThere are C(4,3) = 4 ways for exactly three people to snore.\n\n\nCode\nfactorial(4) / (factorial(4 - 3) * factorial(3))\n\n\n[1] 4\n\n\n\n\nCode\np3 = (0.2 * 0.2 * 0.2 * 0.8) * 4\np3\n\n\n[1] 0.0256\n\n\n\n\n3.1.5 4 snoring\n\n\nCode\np4 = (0.2 * 0.2 * 0.2 * 0.2)\np4\n\n\n[1] 0.0016\n\n\n\n\n3.1.6 Total probability of at least one person snoring:\n\n\nCode\nP_at_least_one = p1 + p2 + p3 + p4\nP_at_least_one\n\n\n[1] 0.5904",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#solution-2-pat-least-one-1---pno-one-snoring",
    "href": "intro/2 probability.html#solution-2-pat-least-one-1---pno-one-snoring",
    "title": "Probability",
    "section": "3.2 Solution 2: P(at least one) = 1 - P(no one snoring)",
    "text": "3.2 Solution 2: P(at least one) = 1 - P(no one snoring)\nThis is a more direct method. The complement of “at least one” is “none”.\n\n\nCode\nP_at_least_one2 = 1 - (0.8^4)\nP_at_least_one2\n\n\n[1] 0.5904",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-1-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-0-correct-all-wrong",
    "href": "intro/2 probability.html#question-1-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-0-correct-all-wrong",
    "title": "Probability",
    "section": "4.1 Question 1: What is the probability of choosing 4 numbers from 4 and getting 0 correct (all wrong)?",
    "text": "4.1 Question 1: What is the probability of choosing 4 numbers from 4 and getting 0 correct (all wrong)?\nThe total number of permutations is 4! = 24.\n\n\nCode\nfactorial(4)\n\n\n[1] 24\n\n\nThe number of derangements D(n) can be approximated by round(n!/e). For n=4, this is D(4) = 9.\n\n\nCode\ne = exp(1) # Use the built-in constant for e\nD_4 = round(factorial(4) / e)\nD_4\n\n\n[1] 9\n\n\nThe probability of a complete derangement is the number of derangements divided by the total number of permutations.\n\n\nCode\nQ1 = D_4 / factorial(4)\nQ1\n\n\n[1] 0.375",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-2-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-1-correct",
    "href": "intro/2 probability.html#question-2-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-1-correct",
    "title": "Probability",
    "section": "4.2 Question 2: What is the probability of choosing 4 numbers from 4 and getting exactly 1 correct?",
    "text": "4.2 Question 2: What is the probability of choosing 4 numbers from 4 and getting exactly 1 correct?\nFirst, choose 1 number to be correct (C(4,1) = 4 ways). Then, find the number of derangements for the remaining 3 numbers (D(3) = 2).\n\n\nCode\nD_3 = round(factorial(3) / e)\nD_3\n\n\n[1] 2\n\n\nThe total number of ways to get exactly 1 correct is C(4,1) * D(3) = 4 * 2 = 8.\n\n\nCode\nQ2 = (4 * D_3) / factorial(4)\nQ2\n\n\n[1] 0.3333333",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-3-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-2-correct",
    "href": "intro/2 probability.html#question-3-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-2-correct",
    "title": "Probability",
    "section": "4.3 Question 3: What is the probability of choosing 4 numbers from 4 and getting exactly 2 correct?",
    "text": "4.3 Question 3: What is the probability of choosing 4 numbers from 4 and getting exactly 2 correct?\nFirst, choose 2 numbers to be correct (C(4,2) = 6 ways). Then, find the number of derangements for the remaining 2 numbers (D(2) = 1).\n\n\nCode\nD_2 = round(factorial(2) / e)\nC_4_2 = factorial(4) / (factorial(2) * factorial(2))\nQ3 = (C_4_2 * D_2) / factorial(4)\nQ3\n\n\n[1] 0.25",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-4-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-3-correct",
    "href": "intro/2 probability.html#question-4-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-3-correct",
    "title": "Probability",
    "section": "4.4 Question 4: What is the probability of choosing 4 numbers from 4 and getting exactly 3 correct?",
    "text": "4.4 Question 4: What is the probability of choosing 4 numbers from 4 and getting exactly 3 correct?\nThis is impossible. If 3 numbers are in their correct positions, the 4th number must also be in its correct position. The number of derangements of 1 item is D(1) = 0.\n\n\nCode\nQ4 = 0\nQ4\n\n\n[1] 0",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-5-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-all-4-correct",
    "href": "intro/2 probability.html#question-5-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-all-4-correct",
    "title": "Probability",
    "section": "4.5 Question 5: What is the probability of choosing 4 numbers from 4 and getting all 4 correct?",
    "text": "4.5 Question 5: What is the probability of choosing 4 numbers from 4 and getting all 4 correct?\nThere is only one way for this to happen.\n\n\nCode\nQ5 = 1 / factorial(4)\nQ5\n\n\n[1] 0.04166667\n\n\nThe sum of all probabilities should be 1.\n\n\nCode\nQ1 + Q2 + Q3 + Q4 + Q5\n\n\n[1] 1",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#binomial-distribution",
    "href": "intro/2 probability.html#binomial-distribution",
    "title": "Probability",
    "section": "5.1 Binomial Distribution",
    "text": "5.1 Binomial Distribution\nThe binomial distribution models the number of successes in a fixed number of independent trials, each with a binary outcome (success/failure).\n\n5.1.1 Probability Mass Function (PMF)\nIn R, the dbinom function calculates the probability of getting exactly x successes. While this is technically a PMF for a discrete distribution, R uses the d prefix convention for both PDF (continuous) and PMF (discrete).\nProbability of exactly 1 person snoring:\n\n\nCode\nn = 4 # number of trials (people)\np = 0.2 # probability of success (snoring)\n\ndbinom(x = 1, size = n, prob = p)\n\n\n[1] 0.4096\n\n\nProbabilities for 0, 1, 2, 3, or 4 people snoring:\n\n\nCode\ndbinom(x = c(0, 1, 2, 3, 4), size = n, prob = p)\n\n\n[1] 0.4096 0.4096 0.1536 0.0256 0.0016\n\n\n\n\n5.1.2 Cumulative Distribution Function (CDF)\nThe pbinom function calculates the cumulative probability of getting q or fewer successes.\nProbability of 1 or fewer people snoring:\n\n\nCode\npbinom(q = 1, size = n, prob = p, lower.tail = TRUE)\n\n\n[1] 0.8192\n\n\n\n\n5.1.3 Random Number Generation\nThe rbinom function generates random numbers from a binomial distribution.\nGenerate 10,000 random values from this distribution:\n\n\nCode\na = rbinom(10000, size = 4, prob = 0.2)\ntable(a)\n\n\na\n   0    1    2    3    4 \n4043 4120 1587  237   13",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#normal-distribution-gaussian-distribution",
    "href": "intro/2 probability.html#normal-distribution-gaussian-distribution",
    "title": "Probability",
    "section": "5.2 Normal Distribution (Gaussian Distribution)",
    "text": "5.2 Normal Distribution (Gaussian Distribution)\nA continuous probability distribution characterized by a bell-shaped curve. It is defined by its mean (μ) and standard deviation (σ).\n\n5.2.1 R Functions\n\ndnorm: Density function (PDF)\npnorm: Cumulative distribution function (CDF)\nqnorm: Quantile function (inverse CDF)\nrnorm: Random number generation\n\n\n\n5.2.2 Probability Density Function (PDF)\nCalculates the height of the probability density function at a given point.\n\n\nCode\ndnorm(0, mean = 1, sd = 2)\n\n\n[1] 0.1760327\n\n\n\n\n5.2.3 Cumulative Distribution Function (CDF)\nCalculates the area under the curve to the left of a given value (the probability of observing a value less than or equal to q).\nProbability of observing a value &lt;= 70 from a N(75, 5) distribution:\n\n\nCode\npnorm(q = 70, mean = 75, sd = 5)\n\n\n[1] 0.1586553\n\n\n\n\n5.2.4 Quantile Function\nFinds the value x such that P(X &lt;= x) = p. It is the inverse of the CDF.\nFind the 25th percentile (Q1) of a N(75, 5) distribution:\n\n\nCode\nqnorm(p = 0.25, mean = 75, sd = 5)\n\n\n[1] 71.62755\n\n\n\n\n5.2.5 Random Number Generation\nGenerate 1,000 random numbers from a N(75, 5) distribution and plot a histogram.\n\n\nCode\nnd = rnorm(n = 1000, mean = 75, sd = 5)\nhist(nd)\n\n\n\n\n\n\n\n\n\n\n\n5.2.6 Checking for Normality\nIt’s often important to check if a dataset follows a normal distribution.\n\n\nCode\nnd_data = rnorm(n = 1000, mean = 0, sd = 2)\nnon_nd_data = rpois(n = 1000, lambda = 5) # Poisson data is not normal\n\n\n\n5.2.6.1 Method 1: Histogram\nA bell-shaped histogram suggests normality.\n\n\nCode\npar(mfrow = c(1, 2))\nhist(nd_data, col = 'steelblue', main = 'Normal')\nhist(non_nd_data, col = 'darkred', main = 'Non-normal')\n\n\n\n\n\n\n\n\n\n\n\n5.2.6.2 Method 2: Q-Q Plot\nIf the data is normal, the points on a Q-Q plot will fall closely along the straight line.\n\n\nCode\npar(mfrow = c(1, 2))\nqqnorm(nd_data, main = 'Normal')\nqqline(nd_data)\nqqnorm(non_nd_data, main = 'Non-normal')\nqqline(non_nd_data)\n\n\n\n\n\n\n\n\n\n\n\n5.2.6.3 Method 3: Shapiro-Wilk Test\nA statistical test for normality. The null hypothesis (H0) is that the data is normally distributed.\nIf the p-value is &gt; 0.05, we do not reject the null hypothesis.\n\n\nCode\nshapiro.test(nd_data)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  nd_data\nW = 0.99654, p-value = 0.02645\n\n\nIf the p-value is &lt; 0.05, we reject the null hypothesis.\n\n\nCode\nshapiro.test(non_nd_data)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  non_nd_data\nW = 0.96994, p-value = 1.592e-13",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#other-key-distributions",
    "href": "intro/2 probability.html#other-key-distributions",
    "title": "Probability",
    "section": "5.3 Other Key Distributions",
    "text": "5.3 Other Key Distributions\n\nStudent’s t-distribution: Used for inference about the mean of a normally distributed population when the standard deviation is unknown.\nF-distribution: Used in ANOVA to compare the means of multiple groups.\nChi-square distribution: Used in goodness-of-fit tests and tests of independence.\nPoisson Distribution: Models the number of events occurring in a fixed interval of time or space.",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/5 R book.html",
    "href": "intro/5 R book.html",
    "title": "R book",
    "section": "",
    "text": "Below is a curated list of essential books for learning R, covering foundational concepts, data analysis, and advanced topics like package development. These books are selected for their clarity, depth, and practical focus.\n\n\nBy Norman Matloff (2011)\nA comprehensive introduction to R programming with a focus on computer science fundamentals. Ideal for beginners and those with programming experience looking to master R’s capabilities. Covers data structures, programming techniques, multimedia graphics, and debugging.\nKey Topics: Vectors, matrices, lists, data frames, input/output, string manipulation, and performance optimization.\nAmazon Link | O’Reilly Page\n\n\n\n\nBy Tilman M. Davies (2016)\nA thorough guide to R for complete beginners, blending theory with practical examples. Emphasizes understanding R’s data types, programming constructs, and statistical methods without assuming prior experience.\nKey Topics: Basic R syntax, data structures, control structures, functions, graphics, statistics, and modeling.\nAmazon Link | No Starch Press\n\n\n\n\nBy Robert I. Kabacoff (2011)\nPractical guide to using R for data analysis, statistics, and graphing. Balances hands-on examples with statistical theory, making it suitable for users who want to apply R immediately.\nKey Topics: Data visualization with ggplot2, statistical modeling, probability distributions, and advanced techniques like regression and clustering.\nAmazon Link | Manning Publications\n\n\n\n\nBy Hadley Wickham and Jennifer Bryan\nEssential for developers who want to create their own R packages. Covers the entire package development lifecycle from setup to testing and deployment. Assumes basic R knowledge.\nKey Topics: Package structure, documentation with roxygen2, unit testing, version control, and best practices for sharing code.\n2nd Edition on OHI/O’Reilly | Online Version",
    "crumbs": [
      "Intro",
      "R book"
    ]
  },
  {
    "objectID": "intro/5 R book.html#the-art-of-r-programming",
    "href": "intro/5 R book.html#the-art-of-r-programming",
    "title": "R book",
    "section": "",
    "text": "By Norman Matloff (2011)\nA comprehensive introduction to R programming with a focus on computer science fundamentals. Ideal for beginners and those with programming experience looking to master R’s capabilities. Covers data structures, programming techniques, multimedia graphics, and debugging.\nKey Topics: Vectors, matrices, lists, data frames, input/output, string manipulation, and performance optimization.\nAmazon Link | O’Reilly Page",
    "crumbs": [
      "Intro",
      "R book"
    ]
  },
  {
    "objectID": "intro/5 R book.html#the-book-of-r",
    "href": "intro/5 R book.html#the-book-of-r",
    "title": "R book",
    "section": "",
    "text": "By Tilman M. Davies (2016)\nA thorough guide to R for complete beginners, blending theory with practical examples. Emphasizes understanding R’s data types, programming constructs, and statistical methods without assuming prior experience.\nKey Topics: Basic R syntax, data structures, control structures, functions, graphics, statistics, and modeling.\nAmazon Link | No Starch Press",
    "crumbs": [
      "Intro",
      "R book"
    ]
  },
  {
    "objectID": "intro/5 R book.html#r-in-action",
    "href": "intro/5 R book.html#r-in-action",
    "title": "R book",
    "section": "",
    "text": "By Robert I. Kabacoff (2011)\nPractical guide to using R for data analysis, statistics, and graphing. Balances hands-on examples with statistical theory, making it suitable for users who want to apply R immediately.\nKey Topics: Data visualization with ggplot2, statistical modeling, probability distributions, and advanced techniques like regression and clustering.\nAmazon Link | Manning Publications",
    "crumbs": [
      "Intro",
      "R book"
    ]
  },
  {
    "objectID": "intro/5 R book.html#r-packages",
    "href": "intro/5 R book.html#r-packages",
    "title": "R book",
    "section": "",
    "text": "By Hadley Wickham and Jennifer Bryan\nEssential for developers who want to create their own R packages. Covers the entire package development lifecycle from setup to testing and deployment. Assumes basic R knowledge.\nKey Topics: Package structure, documentation with roxygen2, unit testing, version control, and best practices for sharing code.\n2nd Edition on OHI/O’Reilly | Online Version",
    "crumbs": [
      "Intro",
      "R book"
    ]
  },
  {
    "objectID": "other/web scrap/1 web scrap with rvest.html",
    "href": "other/web scrap/1 web scrap with rvest.html",
    "title": "web scrap with rvest",
    "section": "",
    "text": "Code\nlibrary(rvest)\nlibrary(tidyverse)",
    "crumbs": [
      "Other",
      "web scrap",
      "web scrap with rvest"
    ]
  },
  {
    "objectID": "other/web scrap/1 web scrap with rvest.html#get-3rd-table",
    "href": "other/web scrap/1 web scrap with rvest.html#get-3rd-table",
    "title": "web scrap with rvest",
    "section": "5.1 get 3rd table",
    "text": "5.1 get 3rd table\nfind table xpath\n\n\nCode\ntable=page %&gt;%html_element(xpath = '//*[@id=\"mw-content-text\"]/div[1]/table[3]') |&gt; html_table()\ntable |&gt; head()",
    "crumbs": [
      "Other",
      "web scrap",
      "web scrap with rvest"
    ]
  },
  {
    "objectID": "other/web scrap/1 web scrap with rvest.html#get-4th-table",
    "href": "other/web scrap/1 web scrap with rvest.html#get-4th-table",
    "title": "web scrap with rvest",
    "section": "5.2 get 4th table",
    "text": "5.2 get 4th table\nfind table xpath\n\n\nCode\ntable=page %&gt;%html_element(xpath = '//*[@id=\"mw-content-text\"]/div[1]/table[4]') |&gt; html_table()\ntable |&gt; head()\n\n\n\n\nCode\nsessionInfo()",
    "crumbs": [
      "Other",
      "web scrap",
      "web scrap with rvest"
    ]
  },
  {
    "objectID": "other/web scrap/2 web scrap with chromote.html",
    "href": "other/web scrap/2 web scrap with chromote.html",
    "title": "web scrap with chromote",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(chromote)\n\n\n\n\nCode\npackageVersion(\"chromote\")\n\n\n\n1 create view\n\n\nCode\nlibrary(chromote)\n\nb &lt;- ChromoteSession$new()\n\n# In a web browser, open a viewer for the headless browser. Works best with\n# Chromium-based browsers.\nb$view()\n\n\n\n\nCode\nb$Browser$getVersion()\n\n\n\n\n2 go to page\n\n\nCode\nb$Page$navigate(\"https://www.bing.com\")\n\n\n\n\n3 take picture\n\n\nCode\n# Saves to screenshot.png\nb$screenshot()\n\n\n\n\nCode\n# Takes a screenshot of elements picked out by CSS selector\nis_interactive &lt;- interactive() # Display screenshot if interactive\nb$screenshot(\"sidebar.png\", selector = \"h1\" ,show = is_interactive)\n\n\n\n\n4 take picture as pdf\n\n\nCode\nb$screenshot_pdf(filename='page.pdf')\n\n\n\n\n5 Reference:\nhttps://rstudio.github.io/chromote/\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "web scrap",
      "web scrap with chromote"
    ]
  },
  {
    "objectID": "other/other/2 translation.html",
    "href": "other/other/2 translation.html",
    "title": "Translation",
    "section": "",
    "text": "Code\nlibrary(polyglotr)\n\n\n\n1 Translation word\n\n\nCode\nword_translation &lt;- linguee_word_translation(\"fruit\", source_language = \"en\", target_language = \"zh\")\n\nword_translation\n\n\n[1] \"水果\" \"果香\" \"果子\" \"果品\" \"实\"   \"檎\"  \n\n\n\n\n2 translate sentences\n\n\nCode\ngoogle_get_supported_languages()\n\n\n# A tibble: 194 × 2\n   Language  `ISO-639 code`\n   &lt;chr&gt;     &lt;chr&gt;         \n 1 Abkhaz    ab            \n 2 Acehnese  ace           \n 3 Acholi    ach           \n 4 Afrikaans af            \n 5 Albanian  sq            \n 6 Alur      alz           \n 7 Amharic   am            \n 8 Arabic    ar            \n 9 Armenian  hy            \n10 Assamese  as            \n# ℹ 184 more rows\n\n\n\n\nCode\ntexts &lt;- c(\"Hello, how are you?\", \n           \"I love programming!\", \n           \"This is a test.\")\n\nlanguages &lt;- c(\"es\", \"fr\", \"zh-CN\")\n\n\ncreate_translation_table(texts, languages)\n\n\n        original_word                     es                          fr\n1 Hello, how are you?     ¿Hola, cómo estás? Bonjour comment allez-vous?\n2 I love programming! ¡Me encanta programar!  J'adore la programmation !\n3     This is a test.    Esta es una prueba.           Ceci est un test.\n           zh-CN\n1       你好吗？\n2   我喜欢编程！\n3 这是一个测试。\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "Other",
      "Translation"
    ]
  },
  {
    "objectID": "other/google analytics/1 google analytics.html",
    "href": "other/google analytics/1 google analytics.html",
    "title": "google analytic in R",
    "section": "",
    "text": "1 package\n\n\nCode\n# Libraries\nlibrary(googleAnalyticsR)\nlibrary(gargle)\nlibrary(tidyverse)\nlibrary(plotly)\nlibrary(lubridate)\n\n\n\n\n2 API\n\n\nCode\n# Access\nga_auth(email=\"verykoala@gmail.com\")\nga_account_list(\"ga4\")\n\n\n# A tibble: 5 × 4\n  account_name accountId property_name           propertyId\n  &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;                   &lt;chr&gt;     \n1 verykoala    30370450  verykoala - GA4         431072878 \n2 verykoala    30370450  drinking                431975107 \n3 Demo Account 54516992  GA4 - Flood-It!         153293282 \n4 Demo Account 54516992  GA4 - Google Merch Shop 213025502 \n5 Demo Account 54516992  LG Property             508138133 \n\n\n\n\n3 download data\n\n\nCode\nmy_property_id &lt;- 431975107\nfrom_date &lt;- \"2023-01-01\"\nto_date &lt;- \"2024-12-31\"\n           \noverall &lt;- ga_data(\n  my_property_id,\n  metrics = c(\"activeUsers\", \"newUsers\",\"sessions\", \"screenPageViews\"),\n  date_range = c(from_date, to_date)\n  )\n\n\n\n\nCode\noverall\n\n\n# A tibble: 1 × 4\n  activeUsers newUsers sessions screenPageViews\n        &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;\n1          92       99      472            2743\n\n\n\n\n4 image at the back into plotly\n\n\nCode\n# By Country\ncountry &lt;- ga_data(\n  my_property_id,\n  dimensions = c(\"country\"),\n  metrics = c(\"activeUsers\", \"newUsers\",\"sessions\", \"screenPageViews\"),\n  date_range = c(from_date, to_date)\n)\n\ncountry\n\n\n# A tibble: 18 × 5\n   country        activeUsers newUsers sessions screenPageViews\n   &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;\n 1 Hong Kong               32       23      136             631\n 2 China                   28       31      279            1814\n 3 United States           15       12       20              95\n 4 Thailand                 6        2       14              87\n 5 Ireland                  5        5        5               5\n 6 Japan                    5        4        5              13\n 7 Macao                    4        4       20              58\n 8 Sweden                   4        4        4               4\n 9 United Kingdom           3        3        3               3\n10 (not set)                2        2        2               2\n11 Malaysia                 2        2        4               9\n12 Singapore                2        0        4              11\n13 South Korea              2        2        3               2\n14 Argentina                1        1        1               1\n15 Australia                1        1        1               1\n16 Canada                   1        1        1               3\n17 Iran                     1        1        1               3\n18 Taiwan                   1        1        1               1\n\n\n\n\n5 add image at the back into plotly\n\n\nCode\nfig &lt;- plot_ly(data=country,x = ~sessions,y=~country,text=~sessions, type = \"bar\",orientation = 'h')%&gt;% \n  layout(title = 'Vistors',yaxis = list(title='Regions',categoryorder = \"total ascending\"),\n         images = list(  \n      list(  \n        source = base64enc::dataURI(file = \"images/google_analytics-ar21.webp\")\n        ,xref = \"paper\"\n        ,yref = \"paper\" \n        ,x = 0.9\n        ,y = 0.3\n        ,sizex = 0.3\n        ,sizey = 0.3\n       ,xanchor=\"right\"  \n        ,layer = \"below\"\n      )  \n         \n         )\n)\n\nfig\n\n\n\n\n\n\n\n\nCode\nsample &lt;- ga_data(\n  my_property_id,\n  dimensions = c(\"date\",\"dayOfWeek\"),\n  metrics = c(\"activeUsers\", \"newUsers\",\"sessions\", \"screenPageViews\"),\n  date_range = c(from_date, to_date)\n) %&gt;% \narrange(desc(date)) %&gt;% mutate(weekend_date=floor_date(date, \"week\")+7)\n\nsample\n\n\n# A tibble: 100 × 7\n   date       dayOfWeek activeUsers newUsers sessions screenPageViews\n   &lt;date&gt;     &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;\n 1 2024-12-31 2                   2        2        2               2\n 2 2024-12-29 0                   2        0        4              11\n 3 2024-12-27 5                   2        0        5             215\n 4 2024-12-26 4                   2        1        2              23\n 5 2024-12-25 3                   3        1       10              37\n 6 2024-12-22 0                   2        0        3              39\n 7 2024-12-21 6                   2        0        5              20\n 8 2024-12-20 5                   4        2        7              63\n 9 2024-12-19 4                   2        0       11              39\n10 2024-12-18 3                   2        0        7              13\n# ℹ 90 more rows\n# ℹ 1 more variable: weekend_date &lt;date&gt;\n\n\nCode\nsample002=sample %&gt;% group_by(weekend_date) %&gt;% summarise(activeUsers=sum(activeUsers)\n                                                          ,sessions=sum(sessions))\n\n\n\n\nCode\nfig &lt;- plot_ly(data = sample002, x = ~weekend_date, y = ~sessions,mode = 'lines')%&gt;% layout(title = 'Vistors',images = list(  \n      list(  \n        source = base64enc::dataURI(file = \"images/google_analytics-ar21.webp\")\n        ,xref = \"paper\"\n        ,yref = \"paper\" \n        ,x = 0.4\n        ,y = 0.9\n        ,sizex = 0.3\n        ,sizey = 0.3\n       ,xanchor=\"left\"  \n      )  \n    )\n    ) \nfig\n\n\n\n\n\n\n\n\n6 reference:\nhttps://www.listendata.com/2023/09/how-to-use-google-analytics-in-r.html\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "google analytics",
      "google analytic in R"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html",
    "href": "Publish/Shiny/1 shiny weight tracking.html",
    "title": "Shiny in R:weight tracking",
    "section": "",
    "text": "Shiny is an R package that makes it easy to build interactive web applications directly from R. This tutorial will walk you through creating a weight tracking application.",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html#shiny-app-httpstonyflying.shinyapps.ioweight_tracking",
    "href": "Publish/Shiny/1 shiny weight tracking.html#shiny-app-httpstonyflying.shinyapps.ioweight_tracking",
    "title": "Shiny in R:weight tracking",
    "section": "3.1 Shiny app: https://tonyflying.shinyapps.io/weight_tracking",
    "text": "3.1 Shiny app: https://tonyflying.shinyapps.io/weight_tracking",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html#user-interface-ui",
    "href": "Publish/Shiny/1 shiny weight tracking.html#user-interface-ui",
    "title": "Shiny in R:weight tracking",
    "section": "4.1 1. User Interface (UI)",
    "text": "4.1 1. User Interface (UI)\nThe UI defines how your app looks and includes: - Input controls (sliders, dropdowns, text boxes) - Output displays (plots, tables, text) - Layout and styling",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html#server-logic",
    "href": "Publish/Shiny/1 shiny weight tracking.html#server-logic",
    "title": "Shiny in R:weight tracking",
    "section": "4.2 2. Server Logic",
    "text": "4.2 2. Server Logic\nThe server function: - Processes user inputs - Performs calculations and data manipulation - Generates outputs to display in the UI",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html#input-widgets",
    "href": "Publish/Shiny/1 shiny weight tracking.html#input-widgets",
    "title": "Shiny in R:weight tracking",
    "section": "6.1 Input Widgets",
    "text": "6.1 Input Widgets\nCommon input types include: - sliderInput(): Numeric sliders - textInput(): Text input fields - selectInput(): Dropdown menus - checkboxInput(): Checkboxes - radioButtons(): Radio button groups",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html#output-functions",
    "href": "Publish/Shiny/1 shiny weight tracking.html#output-functions",
    "title": "Shiny in R:weight tracking",
    "section": "6.2 Output Functions",
    "text": "6.2 Output Functions\nCommon output types include: - textOutput(): Display text - plotOutput(): Display plots - tableOutput(): Display tables - uiOutput(): Display dynamic UI elements",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/1 shiny weight tracking.html#reactive-expressions",
    "href": "Publish/Shiny/1 shiny weight tracking.html#reactive-expressions",
    "title": "Shiny in R:weight tracking",
    "section": "6.3 Reactive Expressions",
    "text": "6.3 Reactive Expressions\nReactive expressions automatically update when their inputs change:\n\n\nCode\n# Create a reactive expression\nreactive_data &lt;- reactive({\n  # This code runs whenever its dependencies change\n  input$dataset %&gt;%\n    filter(category == input$category)\n})\n\n# Use the reactive expression in output\noutput$plot &lt;- renderPlot({\n  ggplot(reactive_data(), aes(x, y)) +\n    geom_point()\n})",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/Shiny/4 shiny in python.html",
    "href": "Publish/Shiny/4 shiny in python.html",
    "title": "Shiny in Python",
    "section": "",
    "text": "1 step 1 add quarto extension in project root folder\n#| eval: false\nquarto add quarto-ext/shinylive\n\n\n2 step 2 add in header\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n3 step 3 make shiny app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\nfrom shiny import *\n\napp_ui = ui.page_fluid(\n    ui.input_slider(\"n\", \"N\", 0, 100, 40),\n    ui.output_text_verbatim(\"txt\"),\n)\n\ndef server(input, output, session):\n    @output\n    @render.text\n    def txt():\n        return f\"The value of n*2 is {input.n() * 2}\"\n\napp = App(app_ui, server)\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in Python"
    ]
  },
  {
    "objectID": "Publish/Shiny/2 shiny photo editor.html",
    "href": "Publish/Shiny/2 shiny photo editor.html",
    "title": "Shiny in R:photo editor",
    "section": "",
    "text": "1 Shiny app:https://tduan.shinyapps.io/photo_editor/\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:photo editor"
    ]
  },
  {
    "objectID": "Publish/Shiny/3 China accident map.html",
    "href": "Publish/Shiny/3 China accident map.html",
    "title": "Shiny in R:China accident map",
    "section": "",
    "text": "1 Shiny app:https://tduan.shinyapps.io/China_accident_map/\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Shiny",
      "Shiny in R:China accident map"
    ]
  },
  {
    "objectID": "Publish/quarto/4 quarto presentation .html",
    "href": "Publish/quarto/4 quarto presentation .html",
    "title": "quarto presentation",
    "section": "",
    "text": "Code\n---\ntitle: \"Habits\"\nauthor: \"John Doe\"\nformat: revealjs\n---",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/quarto/4 quarto presentation .html#if-produce-a-standalone-html-file-with-no-external-dependencies",
    "href": "Publish/quarto/4 quarto presentation .html#if-produce-a-standalone-html-file-with-no-external-dependencies",
    "title": "quarto presentation",
    "section": "3.1 if Produce a standalone HTML file with no external dependencies",
    "text": "3.1 if Produce a standalone HTML file with no external dependencies\n\n\nCode\nformat:\n  revealjs:\n    embed-resources:true",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/quarto/4 quarto presentation .html#if-add-to-a-quart-websiteneed-to-install-embedio-quarto-extension-in-project-folder-first",
    "href": "Publish/quarto/4 quarto presentation .html#if-add-to-a-quart-websiteneed-to-install-embedio-quarto-extension-in-project-folder-first",
    "title": "quarto presentation",
    "section": "7.1 if add to a quart website,need to install embedio quarto extension in project folder first",
    "text": "7.1 if add to a quart website,need to install embedio quarto extension in project folder first\n\n\nCode\nquarto add coatless-quarto/embedio",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/quarto/4 quarto presentation .html#quarto-code",
    "href": "Publish/quarto/4 quarto presentation .html#quarto-code",
    "title": "quarto presentation",
    "section": "7.2 quarto code",
    "text": "7.2 quarto code\n---\ntitle: \"Quarto revealjs Presentation\"\nformat:\n  revealjs:\n    embed-resources: true\n    transition: slide\n    background-transition: fade\n    \n---\n\n\n## Getting up\n\n- Turn off alarm\n- Get out of bed\n\n---\n\n## Going to sleep\n\n- Get in bed\n- Count sheep\n\n\n---\n\n&lt;div style=\"display: flex; justify-content: center; align-items: center; height: 60vh;\"&gt;\n  &lt;div style=\"font-size: 100px; font-weight: bold;\"&gt;Thank you&lt;/div&gt;\n&lt;/div&gt;\n    View slides in full screen",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/quarto/5 quarto extensions.html",
    "href": "Publish/quarto/5 quarto extensions.html",
    "title": "quarto Extensioins",
    "section": "",
    "text": "Extensions are a powerful way to modify and extend the behavior of Quarto. Quarto v1.2 Required for Quarto Extensions.\n\n1 quarto extension： lightbox\nAn extension that uses the GLightbox javascript library to add lightbox styling and behavior to images in your HTML documents.\n\n\n2 Installation:\n\n\n\nCode\n\nTerminal\n\nquarto install extension quarto-ext/lightbox\n\n\n\n\n\n3 Usage:\nThe Lightbox extension can automatically give images in your web page a lightbox treatment. You can enable this like:\nin header yaml:\n\n\nCode\n---\ntitle: Simple Lightbox Example\nfilters:\n   - lightbox\nlightbox: auto\n---\n\n\nIn addition to simply providing a lightbox treatment for individual images, you can also group images into a ‘gallery’. When the user activates the lightbox, they will be able to page through the images in the gallery without returning to the main document.\nin content:\n\n\nCode\n![](images/image-562149792.png){group=\"my-gallery\"\ndescription=\"its a picture\"}\n\n\n\n\n4 quarto extension lightbox example:\ncode:example.qmd\nwebsite:example.qmd.\n\n\n5 list quarto extension\ngo to folder which have added quarto extension\n\n\n\nCode\n\nTerminal\n\n\nquarto list extensions\n\n\n\n\n\n\n6 update quarto extension\n\n\n\nCode\n\nTerminal\n\n\nquarto update quarto-ext/fontawesome\n\n\n\n\n\n7 remove quarto extension\n\n\n\nCode\n\nTerminal\n\n\nquarto remove quarto-ext/fontawesome\n\n\n\nIf you run the quarto remove extension command with no extension-id, you will be presented with a list of extensions that are present and you may select which extensions to remove.\n\n\n8 Reference\nhttps://quarto.org/docs/extensions/\nhttps://github.com/quarto-ext/lightbox\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "Quarto",
      "quarto Extensioins"
    ]
  },
  {
    "objectID": "Publish/email/email.html",
    "href": "Publish/email/email.html",
    "title": "Email",
    "section": "",
    "text": "Code\nlibrary(blastula)\nlibrary(keyring)\n\n\n\n\n\n\n\n\nCode\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n\n\n\n\n\n\n\nCode\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n\n\n\n\nCode\n#delete_credential_key(\"gmail001_creds\")\n\n\n\n\nCode\nview_credential_keys()\n\n\n\n\n\n\n\n\nCode\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there 👋,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,&lt;br&gt;\n  Tony\"\n  )\n)\n\nmsg\n\n\n\n\n\n\n\n\n\nCode\nmsg %&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nlibrary(Microsoft365R)\noutl &lt;- get_personal_outlook()\n\n\n\n\nCode\n# list the most recent emails in your Inbox\n#outl$list_emails()\n\n\n\n\nCode\nem &lt;- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n\n\n\n\nCode\nem$send()\n\n\n\n\n\n\n\n\nCode\nemail_obj=render_email('.quarto_email.Rmd')\n\n\n\n\nCode\nemail_obj\n\n\n\n\n\n\nCode\nemail_obj%&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nem &lt;- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()",
    "crumbs": [
      "Publish",
      "Email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/email/email.html#create-smtp-credentials",
    "href": "Publish/email/email.html#create-smtp-credentials",
    "title": "Email",
    "section": "",
    "text": "Code\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n\n\n\n\n\n\n\nCode\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n\n\n\n\nCode\n#delete_credential_key(\"gmail001_creds\")\n\n\n\n\nCode\nview_credential_keys()",
    "crumbs": [
      "Publish",
      "Email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/email/email.html#email-content",
    "href": "Publish/email/email.html#email-content",
    "title": "Email",
    "section": "",
    "text": "Code\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there 👋,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,&lt;br&gt;\n  Tony\"\n  )\n)\n\nmsg",
    "crumbs": [
      "Publish",
      "Email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/email/email.html#send-email",
    "href": "Publish/email/email.html#send-email",
    "title": "Email",
    "section": "",
    "text": "Code\nmsg %&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nlibrary(Microsoft365R)\noutl &lt;- get_personal_outlook()\n\n\n\n\nCode\n# list the most recent emails in your Inbox\n#outl$list_emails()\n\n\n\n\nCode\nem &lt;- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n\n\n\n\nCode\nem$send()",
    "crumbs": [
      "Publish",
      "Email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/email/email.html#send-email-with-quarto-content",
    "href": "Publish/email/email.html#send-email-with-quarto-content",
    "title": "Email",
    "section": "",
    "text": "Code\nemail_obj=render_email('.quarto_email.Rmd')\n\n\n\n\nCode\nemail_obj\n\n\n\n\n\n\nCode\nemail_obj%&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nem &lt;- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()",
    "crumbs": [
      "Publish",
      "Email",
      "Email"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#reading-csv-txt",
    "href": "data manipulation/1 input output.html#reading-csv-txt",
    "title": "Input & Output in R",
    "section": "1.1. Reading CSV, TXT)",
    "text": "1.1. Reading CSV, TXT)\n\nReading CSV Files\nComma-Separated Values (CSV) are one of the most common formats for storing tabular data. The readr package (part of the tidyverse) provides the read_csv() function, which is fast and efficient.\n\n\nCode\n# Create a sample data frame to write to a CSV\nsample_df &lt;- tibble(\n  id = 1:5,\n  name = c(\"Alice\", \"Bob\", \"Charlie\", \"David\", \"Eve\"),\n  score = c(95, 82, 78, 91, 88)\n)\n\nwrite_csv(sample_df, \"data/sample_data.csv\")\n\n# Read the CSV file back into R\ndata_from_csv &lt;- read_csv(\"data/sample_data.csv\")\nhead(data_from_csv)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nReading Delimited Files\nFor text files that use delimiters other than commas (like tabs or semicolons), you can use read_delim().\n\n\nCode\n# Write a tab-delimited file\nwrite_delim(sample_df, \"data/sample_data.txt\", delim = \"\\t\")\n\n# Read the tab-delimited file\ndata_from_txt &lt;- read_delim(\"data/sample_data.txt\", delim = \"\\t\")\nhead(data_from_txt)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#reading-excel",
    "href": "data manipulation/1 input output.html#reading-excel",
    "title": "Input & Output in R",
    "section": "1.2. Reading Excel",
    "text": "1.2. Reading Excel\nThe readxl package is excellent for reading .xls and .xlsx files. The openxlsx package can be used for both reading and writing.\n\n\nCode\n# Write the sample data to an Excel file\nwrite.xlsx(sample_df, \"data/sample_data.xlsx\")\n\n# Read the data from the Excel file\ndata_from_excel &lt;- read_excel(\"data/sample_data.xlsx\")\nhead(data_from_excel)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input output.html#reading-parquet-feather",
    "href": "data manipulation/1 input output.html#reading-parquet-feather",
    "title": "Input & Output in R",
    "section": "1.3. Reading Parquet Feather",
    "text": "1.3. Reading Parquet Feather\nFor large datasets, text-based formats are inefficient. Binary formats like Parquet and Feather are much faster to read and write and take up less disk space.\n\nReading Parquet Files\nParquet is a columnar storage format optimized for big data processing. The arrow package provides the interface to work with Parquet files.\n\n\nCode\n# Write data to a Parquet file\nwrite_parquet(sample_df, \"data/sample_data.parquet\")\n\n# Read data from the Parquet file\ndata_from_parquet &lt;- read_parquet(\"data/sample_data.parquet\")\nhead(data_from_parquet)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nReading Feather Files\nFeather is a fast, lightweight binary format designed for sharing data between R and Python.\n\n\nCode\n# Write data to a Feather file\nwrite_feather(sample_df, \"data/sample_data.feather\")\n\n# Read data from the Feather file\ndata_from_feather &lt;- read_feather(\"data/sample_data.feather\")\nhead(data_from_feather)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#official-r-documentation",
    "href": "intro/1 basic R.html#official-r-documentation",
    "title": "Basic R",
    "section": "15.1 Official R Documentation",
    "text": "15.1 Official R Documentation\n\nR Project for Statistical Computing\nCRAN Package Repository\nR Documentation",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#r-version-management",
    "href": "intro/1 basic R.html#r-version-management",
    "title": "Basic R",
    "section": "15.2 R Version Management",
    "text": "15.2 R Version Management\n\nrig - R Installation Manager",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#package-management",
    "href": "intro/1 basic R.html#package-management",
    "title": "Basic R",
    "section": "15.3 Package Management",
    "text": "15.3 Package Management\n\npak Documentation\nrenv - Reproducible Environments",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#python-integration",
    "href": "intro/1 basic R.html#python-integration",
    "title": "Basic R",
    "section": "15.4 Python Integration",
    "text": "15.4 Python Integration\n\nreticulate Package\nPython-R Integration Guide",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#learning-resources",
    "href": "intro/1 basic R.html#learning-resources",
    "title": "Basic R",
    "section": "15.5 Learning Resources",
    "text": "15.5 Learning Resources\n\nQuick-R\nR for Data Science\nAdvanced R\nHands-On Programming with R",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#community",
    "href": "intro/1 basic R.html#community",
    "title": "Basic R",
    "section": "15.6 Community",
    "text": "15.6 Community\n\nRStudio Community\nStack Overflow - R\nR-bloggers\n\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.5.1 (2025-06-13)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Tahoe 26.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1\n\nlocale:\n[1] C.UTF-8/C.UTF-8/C.UTF-8/C/C.UTF-8/C.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] gt_1.0.0        lubridate_1.9.4 forcats_1.0.0   stringr_1.6.0  \n [5] dplyr_1.1.4     purrr_1.2.0     readr_2.1.5     tidyr_1.3.1    \n [9] tibble_3.3.0    ggplot2_4.0.0   tidyverse_2.0.0\n\nloaded via a namespace (and not attached):\n [1] sass_0.4.10        utf8_1.2.6         generics_0.1.4     xml2_1.3.8        \n [5] stringi_1.8.7      lattice_0.22-7     hms_1.1.3          digest_0.6.37     \n [9] magrittr_2.0.4     evaluate_1.0.4     grid_4.5.1         timechange_0.3.0  \n[13] RColorBrewer_1.1-3 fastmap_1.2.0      jsonlite_2.0.0     Matrix_1.7-3      \n[17] processx_3.8.6     ps_1.9.1           crosstalk_1.2.1    scales_1.4.0      \n[21] cli_3.6.5          rlang_1.1.6        pak_0.9.0          reactR_0.6.1      \n[25] withr_3.0.2        yaml_2.3.10        tools_4.5.1        tzdb_0.5.0        \n[29] reticulate_1.43.0  vctrs_0.6.5        R6_2.6.1           png_0.1-8         \n[33] lifecycle_1.0.4    reactable_0.4.4    htmlwidgets_1.6.4  pkgconfig_2.0.3   \n[37] callr_3.7.6        pillar_1.11.1      gtable_0.3.6       glue_1.8.0        \n[41] Rcpp_1.1.0         xfun_0.52          tidyselect_1.2.1   knitr_1.50        \n[45] farver_2.1.2       htmltools_0.5.8.1  rmarkdown_2.29     compiler_4.5.1    \n[49] S7_0.2.0",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "index.html#about-this-project",
    "href": "index.html#about-this-project",
    "title": "About",
    "section": "About This Project",
    "text": "About This Project\nThis comprehensive R programming guide is built with Quarto, a next-generation scientific publishing system. It provides practical, hands-on examples for learners at all levels, from R beginners to advanced practitioners looking to expand their data science toolkit."
  },
  {
    "objectID": "index.html#references",
    "href": "index.html#references",
    "title": "About",
    "section": "References",
    "text": "References\n\nR Resources\n\nThe R Project\nR for Data Science (2e)\nAdvanced R\nCRAN Task Views\n\n\n\nQuarto Documentation\n\nQuarto Official Guide\nQuarto Gallery\n\n\n\nCommunity\n\nRStudio Community\nStack Overflow - R"
  },
  {
    "objectID": "Plot/2 plotly.html#sankey-diagram",
    "href": "Plot/2 plotly.html#sankey-diagram",
    "title": "Plotly in R",
    "section": "Sankey Diagram",
    "text": "Sankey Diagram\n\n\nCode\nlibrary(plotly)\n\n# 1. Nodes Data\nlabels &lt;- c(\n    \"Search&lt;br&gt;$63.1B\", \"YouTube&lt;br&gt;$11.4B\", \"AdMob&lt;br&gt;$7.8B\", # 0, 1, 2\n    \"Google Play&lt;br&gt;$13.6B\", \"Google Cloud&lt;br&gt;$17.7B\", \"Other&lt;br&gt;$0.3B\", # 3, 4, 5\n    \"Ad Revenue&lt;br&gt;$82.3B\", # 6\n    \"Revenue&lt;br&gt;$113.8B\", # 7\n    \"Gross profit&lt;br&gt;$68.1B\", \"Cost of revenues&lt;br&gt;($45.8B)\", # 8, 9\n    \"Operating profit&lt;br&gt;$35.9B\", \"Operating expenses&lt;br&gt;($32.1B)\", # 10, 11\n    \"Net profit&lt;br&gt;$34.5B\", \"Tax&lt;br&gt;($4.7B)\", # 12, 13\n    \"Other CoR&lt;br&gt;($29.2B)\", \"TAC&lt;br&gt;($16.6B)\", # 14, 15\n    \"R&D&lt;br&gt;($18.6B)\", \"S&M&lt;br&gt;($8.2B)\", \"G&A&lt;br&gt;($5.3B)\", # 16, 17, 18\n    \"Other&lt;br&gt;$3.2B\" # 19\n)\n\n# 2. Manual Positions\nx_pos &lt;- c(\n    0.001, 0.001, 0.001, # Search, YT, AdMob\n    0.001, 0.001, 0.001, # Play, Cloud, Other\n    0.20, # Ad Revenue\n    0.35, # Revenue\n    0.55, 0.55, # Gross, Cost\n    0.75, 0.75, # Op Profit, Op Expenses\n    0.99, 0.99, # Net, Tax\n    0.85, 0.85, # Other CoR, TAC\n    0.99, 0.99, 0.99, # R&D, S&M, G&A\n    0.75 # Other Inc\n)\n\ny_pos &lt;- c(\n    0.05, 0.20, 0.35, # Search, YT, AdMob (Top-Left)\n    0.55, 0.70, 0.85, # Play, Cloud, Other (Bottom-Left)\n    0.20, # Ad Rev (Merges top three)\n    0.45, # Revenue (Center)\n    0.30, 0.80, # Gross (Top), Cost (Bottom)\n    0.25, 0.65, # Op Prof (Top), Op Ex (Mid)\n    0.20, 0.40, # Net (Top), Tax (Below Net)\n    0.90, 0.80, # Other CoR (Bottom), TAC (Above it)\n    0.55, 0.65, 0.75, # R&D, S&M, G&A\n    0.10 # Other Inc\n)\n\n# 3. Node Colors\nnode_colors &lt;- c(\n    \"#4285F4\", \"#4285F4\", \"#4285F4\", # Sources Blue\n    \"#FBBC05\", \"#FBBC05\", \"#FBBC05\", # Play/Cloud/Other Yellow\n    \"#4285F4\", # Ad Rev Blue\n    \"#4285F4\", # Revenue Blue\n    \"#34A853\", \"#EA4335\", # Gross Green, Cost Red\n    \"#34A853\", \"#EA4335\", # Op Prof Green, Op Ex Red\n    \"#34A853\", \"#EA4335\", # Net Green, Tax Red\n    \"#EA4335\", \"#EA4335\", # Other CoR, TAC Red\n    \"#EA4335\", \"#EA4335\", \"#EA4335\", # R&D... Red\n    \"#34A853\" # Other Inc Green\n)\n\n# 4. Links Data\nsource &lt;- c(0, 1, 2, 6, 3, 4, 5, 7, 7, 9, 9, 8, 8, 11, 11, 11, 10, 10, 19)\ntarget &lt;- c(6, 6, 6, 7, 7, 7, 7, 9, 8, 15, 14, 11, 10, 16, 17, 18, 12, 13, 12)\nvalues &lt;- c(63.1, 11.4, 7.8, 82.3, 13.6, 17.7, 0.3, 45.8, 68.1, 16.6, 29.2, 32.1, 35.9, 18.6, 8.2, 5.3, 31.2, 4.7, 3.2)\n\nlink_colors &lt;- c(\n    \"rgba(66, 133, 244, 0.4)\", \"rgba(66, 133, 244, 0.4)\", \"rgba(66, 133, 244, 0.4)\", # -&gt; AdRev\n    \"rgba(66, 133, 244, 0.6)\", # AdRev -&gt; Rev\n    \"rgba(251, 188, 5, 0.4)\", \"rgba(251, 188, 5, 0.4)\", \"rgba(251, 188, 5, 0.4)\", # -&gt; Rev\n    \"rgba(234, 67, 53, 0.4)\", \"rgba(52, 168, 83, 0.4)\", # Rev -&gt; Cost / Gross\n    \"rgba(234, 67, 53, 0.4)\", \"rgba(234, 67, 53, 0.4)\", # Cost -&gt; TAC / Other\n    \"rgba(234, 67, 53, 0.4)\", \"rgba(52, 168, 83, 0.4)\", # Gross -&gt; OpEx / OpProfit\n    \"rgba(234, 67, 53, 0.4)\", \"rgba(234, 67, 53, 0.4)\", \"rgba(234, 67, 53, 0.4)\", # OpEx -&gt; R&D...\n    \"rgba(52, 168, 83, 0.4)\", \"rgba(234, 67, 53, 0.4)\", # OpProfit -&gt; Net / Tax\n    \"rgba(52, 168, 83, 0.4)\" # OtherInc -&gt; Net\n)\n\nfig &lt;- plot_ly(\n    type = \"sankey\",\n    orientation = \"h\",\n    arrangement = \"fixed\",\n    node = list(\n      pad = 15,\n      thickness = 20,\n      line = list(\n        color = \"black\",\n        width = 0.5\n      ),\n      label = labels,\n      color = node_colors,\n      x = x_pos,\n      y = y_pos\n    ),\n    link = list(\n      source = source,\n      target = target,\n      value = values,\n      color = link_colors\n    )\n)\n\nfig &lt;- fig %&gt;% layout(\n    title = list(text = \"Alphabet Q4 FY25 Income Statement\", x = 0.5),\n    font = list(size = 10),\n    height = 600\n)\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#official-documentation",
    "href": "Plot/2 plotly.html#official-documentation",
    "title": "Plotly in R",
    "section": "Official Documentation",
    "text": "Official Documentation\n\nPlotly R Library\nPlotly R Figure Reference\nPlotly R GitHub",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#tutorials-and-guides",
    "href": "Plot/2 plotly.html#tutorials-and-guides",
    "title": "Plotly in R",
    "section": "Tutorials and Guides",
    "text": "Tutorials and Guides\n\nGetting Started with Plotly in R\nPlotly for R Book\nInteractive Web-Based Data Visualization with R",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#integration-with-other-tools",
    "href": "Plot/2 plotly.html#integration-with-other-tools",
    "title": "Plotly in R",
    "section": "Integration with Other Tools",
    "text": "Integration with Other Tools\n\nUsing Plotly with Shiny\nggplot2 to Plotly\nPlotly Dash for R",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group",
    "href": "Plot/2 plotly.html#color-by-group",
    "title": "Plotly in R",
    "section": "Color by Group",
    "text": "Color by Group\nYou can easily add a third variable to the scatter plot by mapping it to the color aesthetic. This helps in visualizing relationships within different categories.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, color = ~sex, type = 'scatter', mode = 'markers')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#size-by-group",
    "href": "Plot/2 plotly.html#size-by-group",
    "title": "Plotly in R",
    "section": "Size by Group",
    "text": "Size by Group\nSimilarly, a fourth variable can be mapped to the size of the points, providing another dimension for data exploration.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, color = ~sex, size = ~size, type = 'scatter', mode = 'markers')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#line-width-and-color",
    "href": "Plot/2 plotly.html#line-width-and-color",
    "title": "Plotly in R",
    "section": "Line Width and Color",
    "text": "Line Width and Color\nYou can customize the appearance of the lines, such as their color and width, using the line argument within plot_ly().\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, type = 'scatter', mode = 'lines', line = list(color = 'rgb(205, 12, 24)', width = 8))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-1",
    "href": "Plot/2 plotly.html#color-by-group-1",
    "title": "Plotly in R",
    "section": "Color by Group",
    "text": "Color by Group\nTo display multiple lines, one for each group, you can map a categorical variable to the color argument.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, type = 'scatter', mode = 'lines')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#set-bin-number",
    "href": "Plot/2 plotly.html#set-bin-number",
    "title": "Plotly in R",
    "section": "Set Bin Number",
    "text": "Set Bin Number\nYou can control the number of bins in a histogram using the nbinsx argument, which affects the granularity of the distribution visualization.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, type = \"histogram\", nbinsx = 5)\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-2",
    "href": "Plot/2 plotly.html#color-by-group-2",
    "title": "Plotly in R",
    "section": "Color by Group",
    "text": "Color by Group\nSimilar to scatter plots, you can color histogram bars by a categorical variable to compare distributions across different groups.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#show-numbers-on-bars",
    "href": "Plot/2 plotly.html#show-numbers-on-bars",
    "title": "Plotly in R",
    "section": "Show Numbers on Bars",
    "text": "Show Numbers on Bars\nYou can display the exact values on top of the bars using the text argument.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, text = ~total_bill, type = \"bar\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#horizontal-bar-plot",
    "href": "Plot/2 plotly.html#horizontal-bar-plot",
    "title": "Plotly in R",
    "section": "Horizontal Bar Plot",
    "text": "Horizontal Bar Plot\nTo create a horizontal bar chart, simply swap the x and y arguments.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, y = ~sex, x = ~total_bill, color = ~sex, type = \"bar\", orientation = 'h')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#bar-chart-order",
    "href": "Plot/2 plotly.html#bar-chart-order",
    "title": "Plotly in R",
    "section": "Bar Chart Order",
    "text": "Bar Chart Order\nYou can control the order of categories on the x-axis using layout(xaxis = list(categoryorder = ...)). Options include \"total ascending\" and \"total descending\".\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\") %&gt;% \n  layout(xaxis = list(categoryorder = \"total ascending\"))\nfig\n\n\n\n\n\n\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\") %&gt;% \n  layout(xaxis = list(categoryorder = \"total descending\"))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-3",
    "href": "Plot/2 plotly.html#color-by-group-3",
    "title": "Plotly in R",
    "section": "Color by Group",
    "text": "Color by Group\nYou can create separate box plots for different groups by mapping a categorical variable to the x-axis and coloring by it.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~sex, y = ~total_bill, color = ~sex, type = \"box\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  }
]